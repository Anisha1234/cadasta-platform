// Last update at: 2016-09-02 01:35:33 UTC
//
/*
Inline Manual Player, v2.34.1
http://inlinemanual.com/
*/
!function(){"use strict";var expose;(expose=function(lib,lib_name){var noConflict;noConflict=function(root){var original_lib;return original_lib=root[lib_name],lib.noConflict=function(){return root[lib_name]=original_lib,lib},root[lib_name]=lib},("undefined"!=typeof module&&null!==module?module.exports:void 0)&&(module.exports=lib),("undefined"!=typeof define&&null!==define?define.amd:void 0)&&define(lib_name,[],function(){return lib}),"object"==typeof window?noConflict(window,lib,lib_name):"object"==typeof global&&noConflict(global,lib,lib_name)})(expose,"expose")}(),function(){var EventBridge,root;null==Array.isArray&&(Array.isArray=function(argument){return"[object Array]"===Object.prototype.toString.call(argument)}),EventBridge={add:function(object,event,callback){var i,len,single_event;if(null==callback&&(callback=function(){}),Array.isArray(event))for(i=0,len=event.length;i<len;i++)single_event=event[i],EventBridge.add(object,single_event,callback);else object.addEventListener?object.addEventListener(event,callback):object.attachEvent&&object.attachEvent("on"+event,callback)},remove:function(object,event,callback){var i,len,single_event;if(null==callback&&(callback=function(){}),Array.isArray(event))for(i=0,len=event.length;i<len;i++)single_event=event[i],EventBridge.remove(object,single_event,callback);else object.removeEventListener?object.removeEventListener(event,callback):object.detachEvent&&object.detachEvent("on"+event,callback)},stop:function(event){null!=event&&(event.preventDefault?event.preventDefault():event.returnValue=!1)},target:function(event){return null!=event?event.target||event.srcElement:null}},"undefined"!=typeof expose&&null!==expose?expose(EventBridge,"EventBridge"):(root=window||global,root.EventBridge=EventBridge)}.call(this),function(){var ClassBridge,constructRe,root;constructRe=function(classname){return RegExp("(^|\\s)"+classname+"(\\s|$)")},ClassBridge={_addNamespace:function(classname){return classname},has:function(element,classname){return classname=this._addNamespace(classname),constructRe(classname).test(element.className)},add:function(element,classname){if(classname=this._addNamespace(classname),!this.has(element,classname))return element.className+=" "+classname},remove:function(element,classname){var re;return classname=this._addNamespace(classname),re=constructRe(classname),element.className=element.className.replace(re," ")},toggle:function(element,classname,condition){return classname=this._addNamespace(classname),null!=condition?condition?this.add(element,classname):this.remove(element,classname):this.has(element,classname)?this.remove(element,classname):this.add(element,classname)},withNamespace:function(namespace){var clone,key,val;null==namespace&&(namespace=""),clone={};for(key in ClassBridge)val=ClassBridge[key],clone[key]=val;return delete clone.withNamespace,clone._addNamespace=function(classname){return namespace+classname},clone}},"undefined"!=typeof expose&&null!==expose?expose(ClassBridge,"ClassBridge"):(root=window||global,root.ClassBridge=ClassBridge)}.call(this),function(){var GapGrid,getUnique,root,__indexOf=[].indexOf||function(item){for(var i=0,l=this.length;i<l;i++)if(i in this&&this[i]===item)return i;return-1};getUnique=function(list){var dummy,item,key,val,_i,_len,_results;for(dummy={},_i=0,_len=list.length;_i<_len;_i++)item=list[_i],dummy[item]=item;_results=[];for(key in dummy)val=dummy[key],_results.push(val);return _results},GapGrid=function(){function GapGrid(canvas,gaps){null==gaps&&(gaps=[]),this.gaps=[],this.setCanvas(canvas),this.addGaps(gaps)}return GapGrid.prototype.setCanvas=function(canvas){if(this.isValidBox(canvas))return this.canvas=canvas},GapGrid.prototype.clearGaps=function(){return this.gaps=[]},GapGrid.prototype.addGaps=function(gaps){var gap,_i,_len,_results;for(null==gaps&&(gaps=[]),_results=[],_i=0,_len=gaps.length;_i<_len;_i++)gap=gaps[_i],_results.push(this.addGap(gap));return _results},GapGrid.prototype.addGap=function(gap){if(this.isValidBox(gap)&&__indexOf.call(this.gaps,gap)<0)return this.gaps.push(gap)},GapGrid.prototype.removeGaps=function(gaps){var gap,_i,_len,_results;for(null==gaps&&(gaps=[]),_results=[],_i=0,_len=gaps.length;_i<_len;_i++)gap=gaps[_i],_results.push(this.removeGap(gap));return _results},GapGrid.prototype.removeGap=function(gap){var existing_gap,i,_i,_len,_ref,_results;for(_ref=this.gaps,_results=[],i=_i=0,_len=_ref.length;_i<_len;i=++_i)existing_gap=_ref[i],_results.push(this.gaps.splice(i,1));return _results},GapGrid.prototype.isValidBox=function(gap){var property,_i,_len,_ref;if("object"!=typeof gap)return!1;for(_ref=["left","top","width","height"],_i=0,_len=_ref.length;_i<_len;_i++)if(property=_ref[_i],null==gap[property])return!1;return!0},GapGrid.prototype.getGridPoints=function(){var filterByRange,gap,result,_i,_len,_ref;for(result={horizontal:[this.canvas.left,this.canvas.left+this.canvas.width],vertical:[this.canvas.top,this.canvas.top+this.canvas.height]},_ref=this.gaps,_i=0,_len=_ref.length;_i<_len;_i++)gap=_ref[_i],result.horizontal.push(gap.left,gap.left+gap.width),result.vertical.push(gap.top,gap.top+gap.height);return filterByRange=function(list,min,max){return list.filter(function(item){return min<=item&&item<=max})},result.horizontal=filterByRange(getUnique(result.horizontal),this.canvas.left,this.canvas.left+this.canvas.width).sort(function(a,b){return a-b}),result.vertical=filterByRange(getUnique(result.vertical),this.canvas.top,this.canvas.top+this.canvas.height).sort(function(a,b){return a-b}),result},GapGrid.prototype.getGridMatrix=function(points){var i,is_last,j,point_state,result,row,x,y,_i,_j,_len,_len1,_ref,_ref1;for(result=[],_ref=points.vertical,i=_i=0,_len=_ref.length;_i<_len;i=++_i){for(y=_ref[i],row=[],_ref1=points.horizontal,j=_j=0,_len1=_ref1.length;_j<_len1;j=++_j)x=_ref1[j],is_last=i===points.vertical.length-1||j===points.horizontal.length-1,point_state=is_last||this.isPointInGaps({left:x,top:y}),row.push(point_state===!0?1:0);result.push(row)}return result},GapGrid.prototype.isPointInGap=function(point,gap){var _ref,_ref1;return gap.left<=(_ref=point.left)&&_ref<gap.left+gap.width&&gap.top<=(_ref1=point.top)&&_ref1<gap.top+gap.height},GapGrid.prototype.isPointInGaps=function(point){var gap,_i,_len,_ref;for(_ref=this.gaps,_i=0,_len=_ref.length;_i<_len;_i++)if(gap=_ref[_i],this.isPointInGap(point,gap))return!0;return!1},GapGrid.prototype.getMatrixBlockRight=function(matrix,x1,y1){var result;for(result=x1;0===matrix[y1][result];)result++;return result},GapGrid.prototype.getMatrixBlockBottom=function(matrix,x1,y1,x2){var result;for(result=y1;this.getMatrixBlockRight(matrix,x1,result)===x2;)result++;return result},GapGrid.prototype.getMatrixBlock=function(matrix,x1,y1){var x2,y2;return x2=this.getMatrixBlockRight(matrix,x1,y1),y2=this.getMatrixBlockBottom(matrix,x1,y1,x2,y2),{x1:x1,y1:y1,x2:x2,y2:y2}},GapGrid.prototype.markMatrixBlock=function(matrix,block){var x,y,_i,_j,_ref,_ref1,_ref2,_ref3;for(x=_i=_ref=block.x1,_ref1=block.x2;_ref<=_ref1?_i<_ref1:_i>_ref1;x=_ref<=_ref1?++_i:--_i)for(y=_j=_ref2=block.y1,_ref3=block.y2;_ref2<=_ref3?_j<_ref3:_j>_ref3;y=_ref2<=_ref3?++_j:--_j)matrix[y][x]=1;return matrix},GapGrid.prototype.getAllMatrixBlocks=function(matrix){var block,result,x,y,_i,_j,_ref,_ref1;for(result=[],y=_i=0,_ref=matrix.length;0<=_ref?_i<_ref:_i>_ref;y=0<=_ref?++_i:--_i)for(x=_j=0,_ref1=matrix[0].length;0<=_ref1?_j<_ref1:_j>_ref1;x=0<=_ref1?++_j:--_j)0===matrix[y][x]&&(block=this.getMatrixBlock(matrix,x,y),matrix=this.markMatrixBlock(matrix,block),result.push(block));return result},GapGrid.prototype.generate=function(){var block,blocks,matrix,points,result,_i,_len;for(result=[],points=this.getGridPoints(),matrix=this.getGridMatrix(points),blocks=this.getAllMatrixBlocks(matrix),_i=0,_len=blocks.length;_i<_len;_i++)block=blocks[_i],result.push({left:points.horizontal[block.x1],width:points.horizontal[block.x2]-points.horizontal[block.x1],top:points.vertical[block.y1],height:points.vertical[block.y2]-points.vertical[block.y1]});return result},GapGrid}(),"undefined"!=typeof expose&&null!==expose?expose(GapGrid,"GapGrid"):(root="object"==typeof exports?exports:this,root.GapGrid=GapGrid)}.call(this),function(){var Backdrop,root;Backdrop=function(){function Backdrop(options){var _this=this;null==options&&(options={}),this.checkDependencies(),this.backdrops=[],this.covers=[],this.is_active=!1,this.options={},this.setOptions(this.default_options),this.setOptions(options),this.element_monitor=new ElementMonitor(null,{interval:this.options.watch_interval,onChange:function(){return _this.draw()}}),EventBridge.add(window,"resize",function(){return _this.redraw()})}return Backdrop.prototype.default_options={backdrop_class:"backdrop",z_index:1e3,padding:5,color:"#000000",opacity:.5,hide_on_click:!0,cover:!1,watch:!1,watch_interval:500,onShow:function(){},onHide:function(){}},Backdrop.prototype.checkDependencies=function(){var dependencies,label,obj,_i,_len,_results;for(dependencies={DomBox:DomBox,EventBridge:EventBridge,GapGrid:GapGrid,ElementMonitor:ElementMonitor,ElementCollector:ElementCollector},_results=[],obj=_i=0,_len=dependencies.length;_i<_len;obj=++_i){if(label=dependencies[obj],null==obj)throw new Error("Backdrop requires "+label+" library to operate.");_results.push(void 0)}return _results},Backdrop.prototype.setOptions=function(options){var key,val,_results;null==options&&(options={}),_results=[];for(key in options)val=options[key],null!=this.default_options[key]?_results.push(this.options[key]=val):_results.push(void 0);return _results},Backdrop.prototype.add=function(element){return this.element_monitor.addElement(element),this.redraw()},Backdrop.prototype.remove=function(element){return this.element_monitor.removeElement(element),this.redraw()},Backdrop.prototype.set=function(element){return this.element_monitor.setElement(element),this.redraw()},Backdrop.prototype.sanitizeEmptySpace=function(empty_space){var key,val;for(key in empty_space)val=empty_space[key],empty_space[key]=Math.round(val);return empty_space},Backdrop.prototype.removeBackdrops=function(){var backdrop,_i,_len,_ref;for(_ref=this.backdrops,_i=0,_len=_ref.length;_i<_len;_i++)backdrop=_ref[_i],backdrop.parentNode.removeChild(backdrop);return this.backdrops=[]},Backdrop.prototype.addBackdrops=function(gaps){var canvas,empty_space,gap_grid,_i,_len,_ref;for(canvas={left:0,top:0,width:DomBox.Document.getWidth(),height:DomBox.Document.getHeight()},gap_grid=new GapGrid(canvas,gaps),_ref=gap_grid.generate(),_i=0,_len=_ref.length;_i<_len;_i++)empty_space=_ref[_i],this.backdrops.push(this.createBackdrop(this.sanitizeEmptySpace(empty_space)));return this.backdrops},Backdrop.prototype.createBackdrop=function(box){var elm,ieOpacity,key,properties,val,_this=this;elm=document.createElement("div"),elm.className=this.options.backdrop_class,ieOpacity=100*this.options.opacity,properties={position:"absolute",left:""+box.left+"px",top:""+box.top+"px",width:""+box.width+"px",height:""+box.height+"px",zIndex:this.options.z_index,backgroundColor:this.options.color,opacity:this.options.opacity,MsFilter:"progid:DXImageTransform.Microsoft.Alpha(Opacity="+ieOpacity+")",filter:"alpha(opacity="+ieOpacity+")"};for(key in properties)val=properties[key],elm.style[key]=val;return this.options.hide_on_click&&EventBridge.add(elm,"click",function(){return _this.hide()}),document.body.appendChild(elm)},Backdrop.prototype.addCover=function(box){var cover,key,properties,val,_this=this;cover=document.createElement("div"),properties={position:"absolute",left:""+box.left+"px",top:""+box.top+"px",width:""+box.width+"px",height:""+box.height+"px",zIndex:this.options.z_index};for(key in properties)val=properties[key],cover.style[key]=val;return this.options.hide_on_click&&EventBridge.add(cover,"click",function(){return _this.hide()}),document.body.appendChild(cover),this.covers.push(cover)},Backdrop.prototype.addCovers=function(boxes){var box,_i,_len,_results;for(this.removeCovers(),_results=[],_i=0,_len=boxes.length;_i<_len;_i++)box=boxes[_i],_results.push(this.addCover(box));return _results},Backdrop.prototype.removeCovers=function(){var cover,_i,_len,_ref;for(_ref=this.covers,_i=0,_len=_ref.length;_i<_len;_i++)cover=_ref[_i],cover.parentNode.removeChild(cover);return this.covers=[]},Backdrop.prototype.draw=function(){var element,target_box,target_boxes,_i,_len,_ref;for(this.removeBackdrops(),this.removeCovers(),target_boxes=[],_ref=this.element_monitor.getElements(),_i=0,_len=_ref.length;_i<_len;_i++)element=_ref[_i],target_box=DomBox.getBox(element),null!=target_box&&(target_box.setPadding(this.options.padding),target_boxes.push(target_box));if(this.addBackdrops(target_boxes),this.options.cover)return this.addCovers(target_boxes)},Backdrop.prototype.show=function(element){return null!=element&&this.set(element),this.element_monitor.stop(),this.draw(),this.options.watch===!0&&this.element_monitor.start(),this.is_active=!0,this.options.onShow(this)},Backdrop.prototype.hide=function(){return this.element_monitor.stop(),this.removeBackdrops(),this.removeCovers(),this.is_active=!1,this.options.onHide(this)},Backdrop.prototype.redraw=function(){if(this.is_active)return this.draw()},Backdrop.prototype.destroy=function(){return this.hide()},Backdrop}(),"undefined"!=typeof expose&&null!==expose?expose(Backdrop,"Backdrop"):(root="object"==typeof exports?exports:this,root.Backdrop=Backdrop)}.call(this),function(){var Angle,root;Angle=function(){function Angle(options){null==options&&(options={}),this.setOptions(options)}return Angle.prototype.default_options={directions_start:0,directions:"right topRight top topLeft left bottomLeft bottom bottomRight".split(" ")},Angle.prototype.setOptions=function(options){var key,val,_ref;null==options&&(options={}),this.options={},_ref=this.default_options;for(key in _ref)val=_ref[key],this.options[key]=options[key]||this.default_options[key];return this.options},Angle.prototype.fromRad=function(angle){return angle*(180/Math.PI)},Angle.prototype.toRad=function(angle){return angle*(Math.PI/180)},Angle.prototype.normalize=function(angle){var result;return null==angle&&(angle=0),result=isNaN(angle)?0:angle,result%=360,result<0&&(result+=360),result},Angle.prototype.toDirection=function(angle){var index;return angle=this.normalize(angle),angle-=this.options.directions_start,angle=this.normalize(angle),index=Math.round(angle/(360/this.options.directions.length)),this.options.directions[index]||this.options.directions[0]},Angle.prototype.fromDirection=function(direction){var angle,d,i,index,_i,_len,_ref;for(index=-1,_ref=this.options.directions,i=_i=0,_len=_ref.length;_i<_len;i=++_i)d=_ref[i],d===direction&&(index=i);return index===-1?null:(angle=index*(360/this.options.directions.length),angle=this.options.directions_start+angle)},Angle}(),"undefined"!=typeof expose&&null!==expose?expose(Angle,"Angle"):(root="object"==typeof exports?exports:this,root.Angle=Angle)}.call(this),function(){var checkVisibility,getStyle,isVisible;getStyle=function(element,property){return element.currentStyle?element.currentStyle[property]:window.getComputedStyle?document.defaultView.getComputedStyle(element,null).getPropertyValue(property):null},checkVisibility=function(element){var is_displayed,is_visible;return is_displayed="none"!==getStyle(element,"display"),is_visible="hidden"!==getStyle(element,"visibility"),is_displayed&&is_visible},isVisible=function(element){var _ref;if(!(null!=(_ref=document.body)?_ref.contains(element):void 0))return!1;for(;null!=element&&element!==document.body;){if(!checkVisibility(element))return!1;element=element.parentNode}return!0},isVisible.all=function(list){var item,_i,_len;for(_i=0,_len=list.length;_i<_len;_i++)if(item=list[_i],!this(item))return!1;return!0},isVisible.any=function(list){var item,_i,_len;for(_i=0,_len=list.length;_i<_len;_i++)if(item=list[_i],this(item))return!0;return!1},"undefined"!=typeof expose&&null!==expose?expose(isVisible,"isVisible"):window.isVisible=isVisible}.call(this),function(){var DomBox,dependencies,getExtremes,isElement,label,obj,root,_i,_len,__hasProp={}.hasOwnProperty,__extends=function(child,parent){function ctor(){this.constructor=child}for(var key in parent)__hasProp.call(parent,key)&&(child[key]=parent[key]);return ctor.prototype=parent.prototype,child.prototype=new ctor,child.__super__=parent.prototype,child};for(getExtremes=function(boxes){var all_properties,box,data,key,max_properties,min_properties,property,result,_i,_j,_k,_l,_len,_len1,_len2,_len3;for(null==boxes&&(boxes=[]),result={},min_properties=["left","top","view_left","view_top"],max_properties=["right","bottom","view_right","view_bottom"],all_properties=[].concat(min_properties,max_properties),data={},_i=0,_len=all_properties.length;_i<_len;_i++)for(key=all_properties[_i],data[key]=[],_j=0,_len1=boxes.length;_j<_len1;_j++)box=boxes[_j],data[key].push(box[key]);for(_k=0,_len2=min_properties.length;_k<_len2;_k++)property=min_properties[_k],result[property]=Math.min.apply(null,data[property]);for(_l=0,_len3=max_properties.length;_l<_len3;_l++)property=max_properties[_l],result[property]=Math.max.apply(null,data[property]);return result.width=result.right-result.left,result.height=result.bottom-result.top,result},isElement=function(obj){return null!=obj&&"object"==typeof obj&&1===obj.nodeType&&"object"==typeof obj.style&&"object"==typeof obj.ownerDocument},dependencies={isVisible:isVisible,Angle:Angle},obj=_i=0,_len=dependencies.length;_i<_len;obj=++_i)if(label=dependencies[obj],null==obj)throw new Error("DomBox requires "+label+" library to operate.");DomBox={angle:new Angle,getBox:function(input){return"string"==typeof input?new this.CollectionBox(input):isElement(input)?new this.ElementBox(input):input instanceof DomBox.Box?input:null},getDistance:function(box1,box2){var bounding_box,result;return box1=DomBox.getBox(box1),box2=DomBox.getBox(box2),bounding_box=getExtremes([box1,box2]),result={horizontal:bounding_box.width-(box1.width+box2.width),vertical:bounding_box.height-(box1.height+box2.height)},result.horizontal<0&&(result.horizontal=0),result.vertical<0&&(result.vertical=0),result},detectOverlap:function(box1,box2){var bounding_box,overlap;return box1=DomBox.getBox(box1),box2=DomBox.getBox(box2),bounding_box=getExtremes([box1,box2]),overlap={horizontal:bounding_box.width-(box1.width+box2.width),vertical:bounding_box.height-(box1.height+box2.height)},overlap.horizontal<0&&overlap.vertical<0},getPivotDistance:function(box1,box2){var pivot1,pivot2,x,y;return box1=DomBox.getBox(box1),box2=DomBox.getBox(box2),pivot1=box1.getPivot(),pivot2=box2.getPivot(),x=pivot1.left-pivot2.left,y=pivot1.top-pivot2.top,Math.sqrt(Math.pow(x,2)+Math.pow(y,2))},getPivotAngle:function(box1,box2){var angle_deg,angle_rad,pivot1,pivot2;return box1=DomBox.getBox(box1),box2=DomBox.getBox(box2),pivot1=box1.getPivot(),pivot2=box2.getPivot(),angle_rad=Math.atan2(pivot2.top-pivot1.top,pivot2.left-pivot1.left),angle_deg=DomBox.angle.fromRad(angle_rad),DomBox.angle.normalize(angle_deg)}},root="object"==typeof exports?exports:this,root.DomBox=DomBox,DomBox.Box=function(){function Box(){var property,_j,_len1,_ref;for(_ref=this._properties,_j=0,_len1=_ref.length;_j<_len1;_j++)property=_ref[_j],this[property]=0;this.padding=0,this.update()}return Box.prototype._properties=["width","height","left","top","right","bottom","view_left","view_top","view_right","view_bottom"],Box.prototype.update=function(){return this.pad(this.padding)},Box.prototype.setPadding=function(padding){return this.padding=padding,this.update()},Box.prototype.pad=function(padding){return null==padding&&(padding=0),this.width+=2*padding,this.height+=2*padding,this.left-=padding,this.top-=padding,this.right+=padding,this.bottom+=padding,this.view_left-=padding,this.view_top-=padding,this.view_right+=padding,this.view_bottom+=padding},Box.prototype.getPivot=function(){return{left:this.left+this.width/2,top:this.top+this.height/2}},Box.prototype.moveTo=function(left,top){var diff_horizontal,diff_vertical;if(null==left&&(left=this.left),null==top&&(top=this.top),isNaN(left)||(diff_horizontal=this.left-left,this.left=left,this.right=this.left+this.width,this.view_left-=diff_horizontal,this.view_right-=diff_horizontal),!isNaN(top))return diff_vertical=this.top-top,this.top=top,this.bottom=this.top+this.height,this.view_top-=diff_vertical,this.view_bottom-=diff_vertical},Box.prototype.moveBy=function(left,top){if(null==left&&(left=0),null==top&&(top=0),isNaN(left)||(this.left=this.left+left,this.right=this.left+this.width,this.view_left=this.view_left+left,this.view_right=this.view_right+left),!isNaN(top))return this.top+=top,this.bottom=this.top+this.height,this.view_top+=top,this.view_bottom+=top},Box.prototype.resizeTo=function(width,height){if(null==width&&(width=this.width),null==height&&(height=this.height),isNaN(width)||(this.width=width<0?0:width,this.right=this.left+this.width,this.view_right=this.view_left+this.width),!isNaN(height))return this.height=height<0?0:height,this.bottom=this.top+this.height,this.view_bottom=this.view_top+this.height},Box.prototype.setSize=function(width,height){return this.resizeTo(width,height)},Box.prototype.resizeBy=function(width,height){if(null==width&&(width=0),null==height&&(height=0),isNaN(width)||(this.width=this.width+width,this.width<0&&(this.width=0),this.right=this.left+this.width,this.view_right=this.view_left+this.width),!isNaN(height))return this.height=this.height+height,this.height<0&&(this.height=0),this.bottom=this.top+this.height,this.view_bottom=this.view_top+this.height},Box.prototype.setLeft=function(position){var diff;return diff=position-this.left,this.left=position,this.width=this.right-this.left,this.view_left+=diff},Box.prototype.setRight=function(position){var diff;return diff=position-this.right,this.right=position,this.width=this.right-this.left,this.view_right+=diff},Box.prototype.setTop=function(position){var diff;return diff=position-this.top,this.top=position,this.height=this.bottom-this.top,this.view_top+=diff},Box.prototype.setBottom=function(position){var diff;return diff=position-this.bottom,this.bottom=position,this.height=this.bottom-this.top,this.view_bottom+=diff},Box.prototype.toString=function(){var property,result,_j,_len1,_ref;for(result={},_ref=this._properties,_j=0,_len1=_ref.length;_j<_len1;_j++)property=_ref[_j],result[property]=this[property];return JSON.stringify(result)},Box}(),DomBox.ElementBox=function(_super){function ElementBox(element){this.element=element,ElementBox.__super__.constructor.call(this)}return __extends(ElementBox,_super),ElementBox.prototype.update=function(){var box_data,properties,property,viewport_position,_j,_len1,_ref,_ref1;if(document.body.contains(this.element))box_data=this.element.getBoundingClientRect(),viewport_position=DomBox.Viewport.getPosition(),this.width=null!=(_ref=box_data.width)?_ref:this.element.offsetWidth,this.height=null!=(_ref1=box_data.height)?_ref1:this.element.offsetHeight,this.view_left=box_data.left,this.view_top=box_data.top,this.view_right=box_data.right,this.view_bottom=box_data.bottom,this.left=box_data.left+viewport_position.left,this.top=box_data.top+viewport_position.top,this.right=this.left+this.width,this.bottom=this.top+this.height;else for(properties=["width","height","left","top","right","bottom","view_left","view_top","view_right","view_bottom"],_j=0,_len1=properties.length;_j<_len1;_j++)property=properties[_j],this[property]=0;return ElementBox.__super__.update.call(this)},ElementBox.prototype.getCssProperty=function(elm,property){var style;return null!=window.getComputedStyle?(style=window.getComputedStyle(elm,null),style.getPropertyValue(property)):null!=elm.currentStyle?(property=property.replace(/-(.)/g,function(match,group1){return group1.toUpperCase()}),elm.currentStyle[property]):null},ElementBox}(DomBox.Box),DomBox.CollectionBox=function(_super){function CollectionBox(selector){this.selector=selector,CollectionBox.__super__.constructor.call(this)}return __extends(CollectionBox,_super),CollectionBox.prototype.update=function(){var boxes,element,property,value,_j,_len1,_ref,_ref1;if(boxes=[],this.selector)for(_ref=document.querySelectorAll(this.selector),_j=0,_len1=_ref.length;_j<_len1;_j++)element=_ref[_j],isVisible(element)&&boxes.push(new DomBox.ElementBox(element));0===boxes.length&&boxes.push(new DomBox.Box),_ref1=getExtremes(boxes);for(property in _ref1)value=_ref1[property],this[property]=value;return CollectionBox.__super__.update.call(this)},CollectionBox}(DomBox.Box),DomBox.Document={getWidth:function(){var _ref,_ref1;return Math.max(null!=(_ref=document.body)?_ref.scrollWidth:void 0,null!=(_ref1=document.body)?_ref1.offsetWidth:void 0,document.documentElement.clientWidth,document.documentElement.scrollWidth,document.documentElement.offsetWidth,0)},getHeight:function(){return Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight,0)},getSize:function(){return{width:DomBox.Document.getWidth(),height:DomBox.Document.getHeight()}}},DomBox.Viewport={getWidth:function(){return window.innerWidth||document.documentElement.clientWidth||0},getHeight:function(){return window.innerHeight||document.documentElement.clientHeight||0},getSize:function(){return{width:DomBox.Viewport.getWidth(),height:DomBox.Viewport.getHeight()}},getLeft:function(){return(window.pageXOffset||document.documentElement.scrollLeft)-(document.documentElement.clientLeft||0)},getTop:function(){return(window.pageYOffset||document.documentElement.scrollTop)-(document.documentElement.clientTop||0)},getPosition:function(){return{left:DomBox.Viewport.getLeft(),top:DomBox.Viewport.getTop()}},getBox:function(){var position,size;return position=DomBox.Viewport.getPosition(),size=DomBox.Viewport.getSize(),{width:size.width,height:size.height,left:position.left,top:position.top,right:position.left+size.width,bottom:position.top+size.height}},moveInside:function(box){var position,viewport;return box=DomBox.getBox(box),viewport=DomBox.Viewport.getBox(),position={left:null,top:null},box.right>viewport.right&&(position.left=viewport.right-box.width),box.bottom>viewport.bottom&&(position.top=viewport.bottom-box.height),box.left<viewport.left&&(position.left=viewport.left),box.top<viewport.top&&(position.top=viewport.top),box.moveTo(position.left,position.top)},contains:function(box){var viewport;return box=DomBox.getBox(box),null!=box&&(viewport=this.getBox(),viewport.left<=box.left&&viewport.top<=box.top&&viewport.right>=box.right&&viewport.bottom>=box.bottom)},partialyContains:function(box){var intersection_height,intersection_width,max_left,max_top,min_bottom,min_right,viewport;return box=DomBox.getBox(box),null!=box&&(viewport=this.getBox(),max_left=Math.max(box.left,viewport.left),max_top=Math.max(box.top,viewport.top),min_right=Math.min(box.right,viewport.right),min_bottom=Math.min(box.bottom,viewport.bottom),intersection_width=min_right-max_left,intersection_height=min_bottom-max_top,intersection_width>0&&intersection_height>0)},canContain:function(box){return box=DomBox.getBox(box),null!=box&&(box.width<=this.getWidth()&&box.height<=this.getHeight())},canCoexist:function(box1,box2){var bounding_box;return box1=DomBox.getBox(box1),box2=DomBox.getBox(box2),null!=box1&&null!=box2&&(bounding_box=getExtremes([box1,box2]),bounding_box.width<=this.getWidth()&&bounding_box.height<=this.getHeight())},canFitAround:function(box1,box2){var gaps,viewport;return box1=DomBox.getBox(box1),box2=DomBox.getBox(box2),null!=box1&&null!=box2&&(viewport=DomBox.Viewport.getBox(),!(box2.width>viewport.width||box2.height>viewport.height)&&(gaps=DomBox.Viewport.getGaps(box1),box2.width<=gaps.horizontal.before||box2.width<=gaps.horizontal.after||box2.height<=gaps.vertical.before||box2.height<=gaps.vertical.after))},fitAround:function(box1,box2){var gaps;if(box1=DomBox.getBox(box1),box2=DomBox.getBox(box2),DomBox.Viewport.canFitAround(box1,box2)){if(gaps=DomBox.Viewport.getGaps(box1),DomBox.Viewport.moveInside(box2),!DomBox.detectOverlap(box1,box2))return;if(box2.width<=gaps.horizontal.before&&box2.moveTo(box1.left-box2.width,null),!DomBox.detectOverlap(box1,box2))return;if(box2.height<=gaps.vertical.before&&box2.moveTo(null,box1.top-box2.height),!DomBox.detectOverlap(box1,box2))return;if(box2.width<=gaps.horizontal.after&&box2.moveTo(box1.right,null),!DomBox.detectOverlap(box1,box2))return;if(box2.height<=gaps.vertical.after)return box2.moveTo(null,box1.bottom)}},getGaps:function(box){var viewport;return box=DomBox.getBox(box),viewport=DomBox.Viewport.getBox(),{horizontal:{before:Math.max(0,box.left-viewport.left),after:Math.max(0,viewport.right-box.right)},vertical:{before:Math.max(0,box.top-viewport.top),after:Math.max(0,viewport.bottom-box.bottom)}}},toString:function(){return JSON.stringify(DomBox.Viewport.getBox())}}}.call(this);var ElementCollector=function(modules){function __webpack_require__(moduleId){if(installedModules[moduleId])return installedModules[moduleId].exports;var module=installedModules[moduleId]={exports:{},id:moduleId,loaded:!1};return modules[moduleId].call(module.exports,module,module.exports,__webpack_require__),module.loaded=!0,module.exports}var installedModules={};return __webpack_require__.m=modules,__webpack_require__.c=installedModules,__webpack_require__.p="",__webpack_require__(0)}([function(module,exports){"use strict";var ElementCollector,indexOf=[].indexOf||function(item){for(var i=0,l=this.length;i<l;i++)if(i in this&&this[i]===item)return i;return-1};module.exports=ElementCollector=function(){function ElementCollector(){this.items=[]}return ElementCollector.prototype.add=function(item_to_add){var is_unique,is_valid_type,item,j,len,results;if(this.isArray(item_to_add)){for(results=[],j=0,len=item_to_add.length;j<len;j++)item=item_to_add[j],results.push(this.add(item));return results}if(is_unique=indexOf.call(this.items,item_to_add)<0,is_valid_type=this.getType(item_to_add),is_unique&&is_valid_type)return this.items.push(item_to_add)},ElementCollector.prototype.remove=function(item_to_remove){var i,item,j,k,len,len1,ref,results,results1;if(this.isArray(item_to_remove)){for(results=[],j=0,len=item_to_remove.length;j<len;j++)item=item_to_remove[j],results.push(this.remove(item));return results}for(ref=this.items,results1=[],i=k=0,len1=ref.length;k<len1;i=++k)item=ref[i],item===item_to_remove?results1.push(this.items.splice(i,1)):results1.push(void 0);return results1},ElementCollector.prototype.reset=function(){return this.items=[]},ElementCollector.prototype.get=function(node){var found,get_method,is_child,is_unique,item,item_result,j,k,l,len,len1,len2,ref,result;if(null==node&&(node=document.body),result=[],found=[],null!=(null!=node?node.contains:void 0))for(ref=this.items,j=0,len=ref.length;j<len;j++)item=ref[j],get_method=function(){switch(this.getType(item)){case"node":return"getByNode";case"collection":return"getByCollection";case"selector":return"getBySelector";case"function":return"getByFunction";default:return null}}.call(this),null!=get_method&&(item_result=this[get_method](node,item),found=found.concat(item_result));for(k=0,len1=found.length;k<len1;k++)item=found[k],is_child=node.contains(item),is_unique=!item.getAttribute("data-element-collector"),is_unique&&is_child&&result.push(item),item.setAttribute("data-element-collector","1");for(l=0,len2=found.length;l<len2;l++)item=found[l],item.removeAttribute("data-element-collector");return result},ElementCollector.prototype.getByNode=function(root_node,node){return[node]},ElementCollector.prototype.getByCollection=function(root_node,collection){var element,result;return result=function(){var j,len,results;for(results=[],j=0,len=collection.length;j<len;j++)element=collection[j],results.push(element);return results}()},ElementCollector.prototype.getBySelector=function(root_node,selector){var collection;return collection=root_node.querySelectorAll(selector),
this.getByCollection(root_node,collection)},ElementCollector.prototype.getByFunction=function(root_node,fn){var fn_result,item,j,len,result;for(result=[],fn_result=fn(root_node),this.isEnumerable(fn_result)||(fn_result=[fn_result]),j=0,len=fn_result.length;j<len;j++)item=fn_result[j],this.isNode(item)&&result.push(item);return result},ElementCollector.prototype.isNode=function(item){return 1===(null!=item?item.nodeType:void 0)},ElementCollector.prototype.isArray=function(item){return"[object Array]"===Object.prototype.toString.call(item)},ElementCollector.prototype.isCollection=function(item){return"[object NodeList]"===Object.prototype.toString.call(item)},ElementCollector.prototype.isEnumerable=function(item){return this.isArray(item)||this.isCollection(item)},ElementCollector.prototype.isSelector=function(item){var error;if(null==item)return!1;try{document.querySelector(item)}catch(error1){return error=error1,!1}return!0},ElementCollector.prototype.isFunction=function(item){return"function"==typeof item},ElementCollector.prototype.getType=function(item){return this.isNode(item)?"node":this.isCollection(item)?"collection":this.isArray(item)?"array":this.isSelector(item)?"selector":this.isFunction(item)?"function":null},ElementCollector}()}]);(function(){var ElementMonitor,element_monitor_id,root;element_monitor_id=0,ElementMonitor=function(){function ElementMonitor(element,options){null==options&&(options={}),this.checkDependencies(),this.elements=new ElementCollector,this.options={},this.setOptions(this.default_options),this.setOptions(options),this.setElement(element),this.updateMemory()}return ElementMonitor.prototype.default_options={interval:100,onResize:!1,onMove:!1,onVisibilityChange:!1,onShow:!1,onHide:!1,onExistenceChange:!1,onAppear:!1,onVanish:!1,onChange:!1},ElementMonitor.prototype.checkDependencies=function(){var dependencies,label,obj,_i,_len,_results;for(dependencies={isVisible:isVisible,ElementCollector:ElementCollector,DomBox:DomBox},_results=[],obj=_i=0,_len=dependencies.length;_i<_len;obj=++_i){if(label=dependencies[obj],null==obj)throw new Error("ElementMonitor requires "+label+" library to operate.");_results.push(void 0)}return _results},ElementMonitor.prototype.setOptions=function(options){var key,val,_results;null==options&&(options={}),_results=[];for(key in options)val=options[key],null!=this.default_options[key]?_results.push(this.options[key]=val):_results.push(void 0);return _results},ElementMonitor.prototype.getElements=function(){return this.elements.get()},ElementMonitor.prototype.addElement=function(element){return this.elements.add(element)},ElementMonitor.prototype.setElement=function(element){return this.elements.reset(),this.elements.add(element)},ElementMonitor.prototype.tick=function(){var after,all_elm_ids,any_change,before,changes,current_state,elm_id,elm_ids,height_change,key,left_change,top_change,val,width_change,_base,_base1,_base2,_base3,_base4,_base5,_base6,_base7,_base8,_i,_len,_ref,_ref1,_ref2,_ref3,_ref4,_ref5,_ref6,_ref7,_ref8;current_state=this.getState(),changes={size:!1,position:!1,show:!1,hide:!1,appear:!1,vanish:!1},elm_ids={},_ref=this.memory;for(key in _ref)val=_ref[key],elm_ids[key]=!0;for(key in current_state)val=current_state[key],elm_ids[key]=!0;for(all_elm_ids=function(){var _results;_results=[];for(key in elm_ids)val=elm_ids[key],_results.push(key);return _results}(),_i=0,_len=all_elm_ids.length;_i<_len;_i++)elm_id=all_elm_ids[_i],before=this.memory[elm_id],after=current_state[elm_id],width_change=(null!=before&&null!=(_ref1=before.size)?_ref1.width:void 0)!==(null!=after&&null!=(_ref2=after.size)?_ref2.width:void 0),height_change=(null!=before&&null!=(_ref3=before.size)?_ref3.height:void 0)!==(null!=after&&null!=(_ref4=after.size)?_ref4.height:void 0),(width_change||height_change)&&(changes.size=!0),left_change=(null!=before&&null!=(_ref5=before.position)?_ref5.left:void 0)!==(null!=after&&null!=(_ref6=after.position)?_ref6.left:void 0),top_change=(null!=before&&null!=(_ref7=before.position)?_ref7.top:void 0)!==(null!=after&&null!=(_ref8=after.position)?_ref8.top:void 0),(left_change||top_change)&&(changes.position=!0),(null!=before?before.visibility:void 0)===!1&&(null!=after?after.visibility:void 0)===!0&&(changes.show=!0),(null!=before?before.visibility:void 0)===!0&&(null!=after?after.visibility:void 0)===!1&&(changes.hide=!0),null!=before&&null==after&&(changes.vanish=!0),null==before&&null!=after&&(changes.appear=!0);any_change=!1;for(key in changes)val=changes[key],val&&(any_change=!0);return any_change&&"function"==typeof(_base=this.options).onChange&&_base.onChange(),changes.size&&"function"==typeof(_base1=this.options).onResize&&_base1.onResize(),changes.position&&"function"==typeof(_base2=this.options).onMove&&_base2.onMove(),(changes.show||changes.hide)&&"function"==typeof(_base3=this.options).onVisibilityChange&&_base3.onVisibilityChange(),changes.show&&"function"==typeof(_base4=this.options).onShow&&_base4.onShow(),changes.hide&&"function"==typeof(_base5=this.options).onHide&&_base5.onHide(),(changes.appear||changes.vanish)&&"function"==typeof(_base6=this.options).onExistenceChange&&_base6.onExistenceChange(),changes.appear&&"function"==typeof(_base7=this.options).onAppear&&_base7.onAppear(),changes.vanish&&"function"==typeof(_base8=this.options).onVanish&&_base8.onVanish(),this.updateMemory(current_state)},ElementMonitor.prototype.start=function(){return this.stop(),this.ticker=setInterval(function(_this){return function(){return _this.tick()}}(this),this.options.interval)},ElementMonitor.prototype.stop=function(){return null!=this.ticker&&clearInterval(this.ticker),this.ticker=null},ElementMonitor.prototype.destroy=function(){return this.stop()},ElementMonitor.prototype.getExistence=function(element){return document.body.contains(element)},ElementMonitor.prototype.getPosition=function(element){var box;return box=DomBox.getBox(element),{left:box.left,top:box.top}},ElementMonitor.prototype.getVisibility=function(element){return isVisible(element)},ElementMonitor.prototype.getSize=function(element){var box;return box=DomBox.getBox(element),{width:box.width,height:box.height}},ElementMonitor.prototype.isElement=function(element){return null!=element&&"object"==typeof element&&1===element.nodeType},ElementMonitor.prototype.getState=function(){var element,id,result,_i,_len,_ref;for(result={},_ref=this.getElements(),_i=0,_len=_ref.length;_i<_len;_i++)element=_ref[_i],element.getAttribute("data-element-monitor-id")||element.setAttribute("data-element-monitor-id",element_monitor_id++),id=element.getAttribute("data-element-monitor-id"),result[id]=this.getElementState(element);return result},ElementMonitor.prototype.getElementState=function(element){var result;return result={},(this.options.onChange||this.options.onMove)&&(result.position=this.getPosition(element)),(this.options.onChange||this.options.onResize)&&(result.size=this.getSize(element)),(this.options.onChange||this.options.onVisibilityChange||this.options.onShow||this.options.onHide)&&(result.visibility=this.getVisibility(element)),result},ElementMonitor.prototype.updateMemory=function(state){return null==state&&(state=this.getState()),this.memory=state},ElementMonitor}(),"undefined"!=typeof expose&&null!==expose?expose(ElementMonitor,"ElementMonitor"):(root="object"==typeof exports?exports:this,root.ElementMonitor=ElementMonitor)}).call(this);var InlineManualPlayer=function(modules){function __webpack_require__(moduleId){if(installedModules[moduleId])return installedModules[moduleId].exports;var module=installedModules[moduleId]={exports:{},id:moduleId,loaded:!1};return modules[moduleId].call(module.exports,module,module.exports,__webpack_require__),module.loaded=!0,module.exports}var installedModules={};return __webpack_require__.m=modules,__webpack_require__.c=installedModules,__webpack_require__.p="",__webpack_require__(0)}([function(module,exports,__webpack_require__){"use strict";var AttemptsCount,Backdrop,Boogie,DelayCallback,DelayedReaction,ElementCollector,ElementMonitor,Emitter,EventBridge,InlineManualPlayer,Popover,Prerequisite,Rule,Ruleset,Statistics,StorageInterface,Template,Trigger,UUID4,UiElement,addCustomStyle,ajax,centerNode,constructCondition,containsProtocol,debug,default_callbacks,default_l10n,default_options,getStepLauncherAttachment,getStepPopoverTarget,getStepProperty,getUrlParams,hasStepLauncherPointingAtSelf,insertCustomStyle,isArray,isFinalStep,isObject,isTopicVisible,key,launcher_utilities,matchesTopicLanguage,merge,noop,preventCallbackLoop,ref,ref1,ref2,ref3,ref4,removeCustomStyle,resetWasDisplayedFlag,safeParseJson,safeQuery,safeQueryAll,sanitizeCallback,sanitizeTopicLanguages,sanitizeUrl,sanitizeUrls,scrollElementToViewport,search,setStepProperties,testUrl,translate,translateStepProperties,user_info,val,validateCssSelector,_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol?"symbol":typeof obj},_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},bind=function(fn,me){return function(){return fn.apply(me,arguments)}},indexOf=[].indexOf||function(item){for(var i=0,l=this.length;i<l;i++)if(i in this&&this[i]===item)return i;return-1},slice=[].slice;noop=function(){},null!=window.Popover&&(Popover=window.Popover.noConflict()),null!=window.Backdrop&&(Backdrop=window.Backdrop.noConflict()),UUID4=__webpack_require__(12),Template=__webpack_require__(13).default,Emitter=__webpack_require__(15).default,DelayCallback=__webpack_require__(16).default,StorageInterface=__webpack_require__(17).default,AttemptsCount=__webpack_require__(19).default,Prerequisite=__webpack_require__(20).default,Rule=__webpack_require__(21).default,Ruleset=__webpack_require__(43).default,safeParseJson=__webpack_require__(18).safeParseJson,ref=__webpack_require__(44),sanitizeUrl=ref.sanitizeUrl,sanitizeUrls=ref.sanitizeUrls,testUrl=ref.testUrl,getUrlParams=ref.getUrlParams,sanitizeCallback=__webpack_require__(45).default,scrollElementToViewport=__webpack_require__(46).default,ref1=__webpack_require__(78),addCustomStyle=ref1.addCustomStyle,removeCustomStyle=ref1.removeCustomStyle,insertCustomStyle=ref1.insertCustomStyle,ajax=__webpack_require__(79).default,centerNode=__webpack_require__(82).default,constructCondition=__webpack_require__(83).constructCondition,ref2=__webpack_require__(42),safeQuery=ref2.safeQuery,safeQueryAll=ref2.safeQueryAll,Popover=__webpack_require__(84),ElementCollector=__webpack_require__(47).default,launcher_utilities=__webpack_require__(85),ref3=__webpack_require__(108),getStepPopoverTarget=ref3.getStepPopoverTarget,hasStepLauncherPointingAtSelf=ref3.hasStepLauncherPointingAtSelf,getStepLauncherAttachment=ref3.getStepLauncherAttachment,translateStepProperties=ref3.translateStepProperties,isFinalStep=ref3.isFinalStep,setStepProperties=ref3.setStepProperties,getStepProperty=ref3.getStepProperty,EventBridge=__webpack_require__(101),ref4=__webpack_require__(107),matchesTopicLanguage=ref4.matchesTopicLanguage,sanitizeTopicLanguages=ref4.sanitizeTopicLanguages,isTopicVisible=ref4.isTopicVisible,resetWasDisplayedFlag=ref4.resetWasDisplayedFlag,translate=__webpack_require__(109).default,preventCallbackLoop=__webpack_require__(110).default,default_callbacks=__webpack_require__(111).default,default_options=__webpack_require__(112).default,default_l10n=__webpack_require__(113).default,__webpack_require__(114),module.exports=InlineManualPlayer=function(){function InlineManualPlayer(options){var params;null==options&&(options={}),this.handleCustomToggleClick=bind(this.handleCustomToggleClick,this),this.checkDependencies(),this.setupDebug(),this.destroy=preventCallbackLoop(this.destroy.bind(this),"destroy",this),this._endTopic=preventCallbackLoop(this._endTopic.bind(this),"_endTopic",this),this.debug.info("init",options),options=_extends({},default_options,options),this.createInternals(options),this.unsaveCurrentTopic(),this.initState(),this.setupPopover(),this.setupStatisticsModule(options),this._setOptions(options),params=getUrlParams(),null==params.imPreventActivation&&this.evaluateUserData(function(_this){return function(){return _this.activateInstance(),_this.onSetOptions(options)}}(this))}return InlineManualPlayer.prototype.version="2.34.1",InlineManualPlayer.prototype.skin=__webpack_require__(118),InlineManualPlayer.prototype.layer_stack=["launcher","backdrop","popover","splash","panel"],InlineManualPlayer.prototype.classname_namespace="inmplayer",InlineManualPlayer.prototype.default_template='<div class="%classname%">%content%</div>',InlineManualPlayer.prototype.valid_positions=["right","right_bottom","bottom_right","bottom","bottom_left","left_bottom","left","left_top","top_left","top","top_right","right_top"],InlineManualPlayer.prototype.activateInstance=function(options){return null==options&&(options={}),this.deactivateByUrlParams(document.location),this.initUi(),this.tick(),this.activateByUrlParams(document.location),EventBridge.addFirstSupported(window,["popstate","hashchange"],function(_this){return function(){return _this.reinit()}}(this)),null!=this.options.enable_mirroring&&EventBridge.add(window,"storage",function(_this){return function(event){return _this.handleStorageChange(event)}}(this)),EventBridge.add(window,"resize",function(_this){return function(event){return _this.handleWindowResize(event)}}(this)),this.handleQueue(this.options.queue),this.executeCallback("onInit",this),this.emitter.fire("onInit",[this]),this.tracking.track({event:"player_init"})},InlineManualPlayer.prototype.createInternals=function(options){return null==options&&(options={}),this.options={},this.topics={},this.metadata={},this.rules={},this.launchers=[],this.reinit_observer_enabled=!1,this.backdrop=null,this.panel_backdrop=null,this.current_step=null,this.is_suspended=!1,this.currentStepStorage=new StorageInterface((null!=options?options.storage_prefix:void 0)+"InmPlayerCurrent"),this.continuationStorage=new AttemptsCount((null!=options?options.storage_prefix:void 0)+"InmPlayerContinuation"),this.callbacks=_extends({},default_callbacks),this.autolaunch_enabled=!1,this.persistent_topic_data=new StorageInterface((null!=options?options.storage_prefix:void 0)+"InmPlayerTopicData"),this.persistent_topic_data=new StorageInterface("InmPlayerTopicData"),this.emitter=new Emitter},InlineManualPlayer.prototype.setupPopover=function(){return this.popover=new Popover({class_name:"inmplayer-popover",pointer_length:20}),this.popover.angle_utils.directions=["right","rightBottom","bottomRight","bottom","bottomLeft","leftBottom","left","leftTop","topLeft","top","topRight","rightTop"]},InlineManualPlayer.prototype.setupStatisticsModule=function(options){return null==options&&(options={}),null==options.tracking&&(options.tracking={}),options.tracking.api_key=options.api_key,options.tracking.version=this.version,this.tracking=new Statistics(options.tracking)},InlineManualPlayer.prototype.checkDependencies=function(){var dependencies,j,label,len,msg,obj,results;for(dependencies={Backdrop:Backdrop,Popover:Popover,ClassBridge:ClassBridge,EventBridge:EventBridge,isVisible:isVisible,ElementMonitor:ElementMonitor},results=[],obj=j=0,len=dependencies.length;j<len;obj=++j){if(label=dependencies[obj],null==obj)throw msg="InlineManualPlayer requires "+label+" library to operate.",new Error(msg);results.push(void 0)}return results},InlineManualPlayer.prototype.setL10n=function(data){var key,val;null==data&&(data={}),this.l10n={},null!=data.rtl&&null==data.lang_direction&&(data.lang_direction=data.rtl?"rtl":"ltr");for(key in default_l10n)val=default_l10n[key],this.l10n[key]=data[key]||val;return this.setState("l10n",JSON.stringify(this.l10n)),this.tick()},InlineManualPlayer.prototype.setCallbacks=function(data){var key,results,val;null==data&&(data={}),results=[];for(key in data)val=data[key],null!=default_callbacks[key]?(this.callbacks[key]=sanitizeCallback(val),"onDebug"===key?results.push(this.debug.setOptions({onRecord:this.callbacks[key]})):results.push(void 0)):results.push(void 0);return results},InlineManualPlayer.prototype.onSetOptions=function(options){var standalone_launchers,step_id;if(null==options&&(options={}),null!=options.skin&&this.setState("skin",options.skin),null!=options.custom_trigger&&(this.setCustomTrigger(options.custom_trigger),delete this.options.custom_trigger),null!=options.hide_branding&&this.setState("hide_branding",options.hide_branding),null!=options.launchers&&(standalone_launchers=options.launchers.map(function(_this){return function(item){return item.class_name=_this.getNsClasses([item.class_name,"launcher-standalone"]),item}}(this)),launcher_utilities.addList(standalone_launchers,this),delete this.options.launchers),this.tick(),this.attemptContinuation(),this.is_suspended&&this.current_topic.id&&(step_id=this.getStepActivatedByUrlTrigger(this.current_topic.id),null!=step_id&&this._activateStep(this.current_topic.id,step_id)),null==this.current_topic.id||null==this.current_step)return this.attemptAutolaunch()},InlineManualPlayer.prototype.setOptions=function(options){return null==options&&(options={}),this._setOptions(options),this.onSetOptions(options)},InlineManualPlayer.prototype._setOptions=function(options){var key,ref5,ref6,ref7,val;null==options&&(options={}),this.debug.info("set_options",options),null!=options.style&&addCustomStyle(this,options.style),this.setRules(options.rules),delete options.rules,this.setMetadata(merge(null!=(ref5=options.tracking)?ref5.metadata:void 0,options.metadata)),delete options.metadata,null!=options.language&&(this.setLanguage(options.language),delete options.language),null!=options.profile_url&&(this.profile_url=options.profile_url,delete options.profile_url),null!=options.uuid_url&&(this.uuid_url=options.uuid_url,delete options.uuid_url),null!=options.variables&&(this.addVariables(options.variables),delete options.variables);for(key in options)val=options[key],this.options[key]=val;return null!=options.panel_trigger_visibility&&this.setState("panel_trigger",this.panelTriggerVisibility()),ref6=this.options.position,indexOf.call(this.valid_positions,ref6)<0&&(this.options.position=default_options.position),this.setState("position",this.options.position),null!=options.topics&&(this.setTopics(options.topics),delete this.options.topics),this.setCallbacks(options.callbacks),delete this.options.callbacks,this.setL10n(options.l10n),delete this.options.l10n,this.setActions(options.actions),delete this.options.actions,null!=this.options.skin&&"legacy"!==(ref7=this.options.skin)&&"sidebar"!==ref7&&(this.options.skin="sidebar"),null!=options.tracking&&this.setupStatisticsModule(options),this.executeCallback("onSetOptions",this),this.emitter.fire("onSetOptions",[this])},InlineManualPlayer.prototype.loadOptions=function(url,callback){return null==callback&&(callback=noop),ajax(url,null,function(_this){return function(result){var data;return data=safeParseJson(result),_this.setOptions(data),callback(_this)}}(this))},InlineManualPlayer.prototype.sanitizeStep=function(step_data,topic_id,step_id,topic_data){var callback,j,launcher_options,len,ref5,step,valid_callbacks;for(null==step_data&&(step_data={}),null==topic_data&&(topic_data={}),step=merge(this.options.step_options,(null!=(ref5=this.topics[topic_id])?ref5.step_options:void 0)||{},step_data),null!=step.path&&(step.path=this.sanitizeUrl(step.path)),null!=step.element?validateCssSelector(step.element)||(this.debug.warn("invalid.selector",{step:step,selector:step.element}),step.element=null):step.element=null,null==step.position&&(step.position=step.placement),step.position=function(){switch(step.position){case"right_top":return"rightTop";case"top_right":return"topRight";case"top_left":return"topLeft";case"left_top":return"leftTop";case"left_bottom":return"leftBottom";case"bottom_left":return"bottomLeft";case"bottom_right":return"bottomRight";case"right_bottom":return"rightBottom";default:return step.position}}(),step.url_trigger=this.sanitizeUrlTrigger(step.url_trigger),null==step.width&&(step.width=300),null!=step.launcher&&(launcher_options=step.launcher,null==launcher_options.element&&(launcher_options.element=step.element),null==launcher_options.z_index&&(launcher_options.z_index=step.z_index||this.getZIndex("launcher")),launcher_options.topic=topic_id,launcher_options.step=step_id,launcher_options.class_name=this.getNsClasses([launcher_options.class_name,"launcher-step"]),step.launcher=launcher_utilities.add(launcher_options,this)),valid_callbacks=["on_before_activate","on_activate","on_deactivate","on_show"],j=0,len=valid_callbacks.length;j<len;j++)callback=valid_callbacks[j],step[callback]=sanitizeCallback(step[callback]);return step},InlineManualPlayer.prototype.sanitizeSteps=function(steps,topic_id,topic){var j,len,results,step,step_id;for(null==steps&&(steps=[]),results=[],step_id=j=0,len=steps.length;j<len;step_id=++j)step=steps[step_id],results.push(this.sanitizeStep(step,topic_id,step_id,topic));return results},InlineManualPlayer.prototype.sanitizeContextPaths=function(paths){var j,len,path,results;for(null==paths&&(paths=[]),results=[],j=0,len=paths.length;j<len;j++)path=paths[j],results.push(this.sanitizeUrl(path));return results},InlineManualPlayer.prototype.sanitizeTopic=function(topic_data,topic_id){var callback,j,launcher_options,len,ref5,ref6,topic,valid_types;for(null==topic_data&&(topic_data={}),topic=merge(this.options.topic_options,topic_data),valid_types=["default","redirect","article"],ref5=topic.type,indexOf.call(valid_types,ref5)<0&&(topic.type=valid_types[0]),Array.isArray(topic.visibility)&&(topic.visibility={type:"ruleset",operation:"and",rules:topic.visibility}),"redirect"===topic.type&&"string"!=typeof topic.url&&(this.debug.warn("topic_redirect_without_url",topic_id),delete topic.type),topic.context_paths=this.sanitizeContextPaths(topic.context_paths),null==topic.language&&(topic.language="en"),topic.languages=sanitizeTopicLanguages(topic_data,topic_id,this.debug.warn),null!=topic.launcher&&(launcher_options=topic.launcher,launcher_options.topic=topic_id,null==launcher_options.z_index&&(launcher_options.z_index=topic.z_index||this.getZIndex("launcher")),launcher_options.class_name=this.getNsClasses([launcher_options.class_name,"launcher-topic"]),launcher_utilities.add(launcher_options,this)),topic.steps=this.sanitizeSteps(topic.steps,topic_id,topic),ref6=["on_start","on_previous","on_next","on_end","on_done"],j=0,len=ref6.length;j<len;j++)callback=ref6[j],topic[callback]=sanitizeCallback(topic[callback]);return topic},InlineManualPlayer.prototype.sanitizeTopics=function(topics){var topic_data,topic_id;null==topics&&(topics={});for(topic_id in topics)topic_data=topics[topic_id],topics[topic_id]=this.sanitizeTopic(topic_data,topic_id);return topics},InlineManualPlayer.prototype.setTopics=function(topics){return null==topics&&(topics={}),this.topics=this.sanitizeTopics(topics),this.deactivate(!0),this.setTopicTriggerElements(),this.setState("topics",this.getState("topics")+1),this.tick(),this.executeCallback("onSetTopics",this.topics),this.emitter.fire("onSetTopics",[this,this.topics])},InlineManualPlayer.prototype.setTopicTriggerElements=function(topics){var collection,results,topic_id,topic_options;null==topics&&(topics=this.topics),results=[];for(topic_id in topics)topic_options=topics[topic_id],null!=topic_options.trigger_element?(collection=new ElementCollector,collection.add(topic_options.trigger_element),results.push(function(_this){return function(topic_id){var element,j,len,ref5,results1;for(ref5=collection.get(),results1=[],j=0,len=ref5.length;j<len;j++)element=ref5[j],results1.push(EventBridge.add(element,"click",function(){return _this.handleTopicStart("trigger"),_this._activateTopic(topic_id)}));return results1}}(this)(topic_id))):results.push(void 0);return results},InlineManualPlayer.prototype.sanitizeUrlTrigger=function(url_trigger){var ref5;return null==url_trigger&&(url_trigger={}),null==url_trigger.url||"any"!==(ref5=url_trigger.scope)&&"current"!==ref5?null:(url_trigger.url=this.sanitizeUrl(url_trigger.url),url_trigger)},InlineManualPlayer.prototype.getStepActivatedByUrlTrigger=function(topic_id){var counter,j,len,ref5,step;for(ref5=this.topics[topic_id].steps,counter=j=0,len=ref5.length;j<len;counter=++j)if(step=ref5[counter],null!=step.url_trigger&&(step.url_trigger.url=this.applyUrlVariables(step.url_trigger.url),"any"===step.url_trigger.scope&&testUrl(step.url_trigger.url)))return counter;return null},InlineManualPlayer.prototype.countTopicSteps=function(topic_id){var ref5,ref6;return null!=(ref5=this.topics[topic_id])&&null!=(ref6=ref5.steps)?ref6.length:void 0},InlineManualPlayer.prototype.trackTopicStart=function(topic_id){var ref5,ref6,ref7,ref8;return this.tracking.track({event:"topic_start",topic:topic_id,steps:this.countTopicSteps(topic_id),origin:null!=(ref5=this.persistent_topic_data.get())?ref5.origin:void 0,action_type:(null!=(ref6=this.persistent_topic_data.get())?ref6.action_type:void 0)||null,action_id:(null!=(ref7=this.persistent_topic_data.get())?ref7.action_id:void 0)||null,topic_session_id:null!=(ref8=this.persistent_topic_data.get())?ref8.session_id:void 0})},InlineManualPlayer.prototype.activateTopic=function(){return this.handleTopicStart("api"),this._activateTopic.apply(this,arguments)},InlineManualPlayer.prototype._activateTopic=function(topic_id){var previous_topic_id,ref5,step_id,target,topic,url;if(topic_id=topic_id.toString(),!this.isValidTopic(topic_id))return!1;switch(previous_topic_id=this.getCurrentTopic(),null!=previous_topic_id&&previous_topic_id!==topic_id&&this.endTopic(),this.saveCurrentTopic(topic_id),this.hidePanel(),step_id=null!=(ref5=this.getStepActivatedByUrlTrigger(topic_id))?ref5:0,this.handleActivateTopic(topic_id,step_id),topic=this.topics[topic_id],topic.type){case"redirect":target=topic.redirect_target||null,url=this.sanitizeUrl(topic.url),this.redirect(url,target);break;default:return this._activateStep(topic_id,step_id)}},InlineManualPlayer.prototype.handleActivateTopic=function(topic_id,step_id){return this.executeTopicCallback("on_start",topic_id,step_id),this.executeCallback("onTopicStart",this,topic_id,step_id),this.emitter.fire("onTopicStart",[this,topic_id,step_id]),this.trackTopicStart(topic_id)},InlineManualPlayer.prototype.deactivateStep=function(){return this.setState("step_displayed",!1),this.setState("article_displayed",!1)},InlineManualPlayer.prototype.undisplayStep=function(){return this.setState("step_displayed",!1),this.is_suspended!==!0&&this.unsetPrerequisites(),this.removeCurrentStepTriggers(),this.popover.destroy(),this.deactivateBackdrop()},InlineManualPlayer.prototype.activateStepArticle=function(topic_id,step_id){return this.setState("article_displayed",!0),this.setState("panel_trigger",!1),this.setState("panel",!1)},InlineManualPlayer.prototype.activateStep=function(){return this._activateStep.apply(this,arguments)},InlineManualPlayer.prototype._activateStep=function(topic_id,step_id,force,target_element){var can_start,current_topic_id,on_before_activate_result,should_start,step_data,topic_data;if(null==force&&(force=!1),null==target_element&&(target_element=null),!this.isValidTopic(topic_id))return!1;if(topic_id=topic_id.toString(),topic_data=this.topics[topic_id],step_data=this.getStepData(topic_id,step_id),null==step_data)return void this.debug.error("activate.missing_data",{topic_id:topic_id,step_id:step_id});if(on_before_activate_result=this.executeStepCallback("on_before_activate",topic_id,step_id),on_before_activate_result===!1)return this.debug.info("step.stopped_before_activation",{topic_id:topic_id,step_id:step_id}),!1;if(this.debug.info("step.activated",{topic_id:topic_id,step_id:step_id}),current_topic_id=this.getCurrentTopic(),current_topic_id!==topic_id&&(null!=current_topic_id&&this.endTopic(),this.handleActivateTopic(topic_id,step_id)),this.executeCallback("onStepActivate",this,topic_id,step_id),null!=this.getCurrentStep()&&this.deactivateStep(),"article"===topic_data.type&&this.activateStepArticle(),this.getStepData(topic_id,step_id).target_element=target_element,this.saveCurrentStep(topic_id,step_id),this.emitter.fire("onStepActivate",[this,topic_id,step_id]),this.is_suspended=!0,force||!this.isStepActivatedByTrigger(step_data)){if(this.setPrerequisites(step_data,topic_id,step_id,force),can_start=!0,should_start=!0,step_data.path=this.applyUrlVariables(step_data.path),null!=step_data.path&&!testUrl(step_data.path))return can_start=!1,this.debug.info("step.activate.redirect",{topic_id:topic_id,step_id:step_id,url:step_data.path}),void this.redirect(step_data.path);this.continuationStorage.forget(),null!=this.condition_prerequisite&&(can_start=!1,this.debug.info("step.activate.unmet_condition",{topic_id:topic_id,step_id:step_id})),null!=this.delay_prerequisite&&(can_start=!1,this.debug.info("step.activate.delay",{topic_id:topic_id,step_id:step_id})),null!=step_data.url_trigger&&(step_data.url_trigger.url=this.applyUrlVariables(step_data.url_trigger.url),testUrl(step_data.url_trigger.url)||(can_start=!1,should_start=!1,this.debug.info("step.activate.url_match",{topic_id:topic_id,step_id:step_id,url_pattern:step_data.url_trigger.url}))),hasStepLauncherPointingAtSelf(step_data)&&(getStepLauncherAttachment(step_data)||(can_start=!1)),this.setState("step_displayed",can_start),!can_start&&should_start&&(null!=this.condition_prerequisite&&this.condition_prerequisite.start(),null!=this.delay_prerequisite&&this.delay_prerequisite.start())}return this.tick()},InlineManualPlayer.prototype.trackDisplayStep=function(topic_id,step_id){var is_final_step,persistent_topic_data,was_displayed;if(persistent_topic_data=this.persistent_topic_data.get(),this.tracking.track({event:"step_display",topic:topic_id,steps:this.countTopicSteps(topic_id),step:step_id,origin:null!=persistent_topic_data?persistent_topic_data.origin:void 0,action_type:(null!=persistent_topic_data?persistent_topic_data.action_type:void 0)||null,action_id:(null!=persistent_topic_data?persistent_topic_data.action_id:void 0)||null,topic_session_id:null!=persistent_topic_data?persistent_topic_data.session_id:void 0}),is_final_step=isFinalStep(this,topic_id,step_id),was_displayed=getStepProperty(this,topic_id,step_id,"was_displayed"),is_final_step&&!was_displayed)return setStepProperties(this,topic_id,step_id,{was_displayed:!0}),this.topicDone()},InlineManualPlayer.prototype.displayStepPopover=function(topic_id,step_id){var popover_class_names,step_data;if(step_data=this.getStepData(topic_id,step_id),null!=step_data)return popover_class_names=this.getStepClassNames(topic_id,step_id),this.initPopover(step_data,popover_class_names)},InlineManualPlayer.prototype.displayStep=function(topic_id,step_id){var step_data,topic_data;if(null==topic_id&&(topic_id=this.current_topic.id),null==step_id&&(step_id=this.current_step),topic_data=this.topics[topic_id],step_data=this.getStepData(topic_id,step_id),null!=step_data)return this.setState("step_displayed",!0),this.debug.info("step.display",{topic_id:topic_id,step_id:step_id}),this.trackDisplayStep(topic_id,step_id),this.addCurrentStepTriggers(topic_id,step_id),this.is_suspended=!1,scrollElementToViewport(step_data.element),"default"===topic_data.type&&this.displayStepPopover(topic_id,step_id),step_data.backdrop&&this.activateBackdrop(step_data.element,step_data.backdrop_cover,step_data.backdrop_options),this.executeStepCallback("on_show",topic_id,step_id),this.executeCallback("onStepShow",this,topic_id,step_id),this.emitter.fire("onStepShow",[this,topic_id,step_id])},InlineManualPlayer.prototype.redirect=function(url,target){return this.debug.info("redirect",{url:url,target:target}),this.callbacks.onRedirect(this,url,target,this.doRedirect)},InlineManualPlayer.prototype.doRedirect=function(url,target){
return null!=target?window.open(url,target):document.location=url},InlineManualPlayer.prototype.isStepActivatedByTrigger=function(step_data){var j,len,ref5,trigger;if(null==step_data&&(step_data={}),null!=step_data.triggers)for(ref5=step_data.triggers,j=0,len=ref5.length;j<len;j++)if(trigger=ref5[j],"current"===trigger.scope&&"current"===trigger.activate)return!0;return!1},InlineManualPlayer.prototype.unsaveCurrentTopic=function(){return this.current_topic={id:null,last_step_displayed:!1}},InlineManualPlayer.prototype.unsaveCurrentStep=function(){var step_id,topic_id;if(topic_id=this.getCurrentTopic(),step_id=this.getCurrentStep(),null!=topic_id&&null!=step_id)return this.current_topic.id=null,this.current_step=null,this.setState("topic_id",null),this.setState("step_id",null),this.executeCallback("onStepDeactivate",this,topic_id,step_id),this.emitter.fire("onStepDeactivate",[this,topic_id,step_id]),this.executeStepCallback("on_deactivate",topic_id,step_id)},InlineManualPlayer.prototype.saveCurrentTopic=function(topic_id){return this.current_topic.id=topic_id},InlineManualPlayer.prototype.saveCurrentStep=function(topic_id,step_id){return this.unsaveCurrentStep(),this.saveCurrentTopic(topic_id),this.current_step=step_id,this.executeStepCallback("on_activate",topic_id,step_id),this.currentStepStorage.set({topic_id:topic_id,step_id:step_id}),this.setState("topic_id",topic_id),this.setState("step_id",step_id),this.tick()},InlineManualPlayer.prototype.getStepClassNames=function(topic_id,step_id){var item,j,k,len,len1,properties_list,property,ref5,result,step_data;if(result=[],step_data=this.getStepData(topic_id,step_id),null!=step_data){if(null!=step_data.class_names)for(ref5=step_data.class_names,j=0,len=ref5.length;j<len;j++)item=ref5[j],result.push(item);for(properties_list=["hide_title","hide_prev","hide_next","hide_progress","hide_navigation","hide_end","hide_controls","hide_close"],k=0,len1=properties_list.length;k<len1;k++)property=properties_list[k],step_data[property]&&result.push(property);0===step_id&&result.push(this.classname_namespace+"-firstStep"),step_id===this.topics[topic_id].steps.length-1&&result.push(this.classname_namespace+"-lastStep")}return result},InlineManualPlayer.prototype.initPopover=function(step_data,class_names){return null==class_names&&(class_names={}),this.popover.setContent(this.constructPopover(step_data)),this.popover.setAngle(step_data.position),this.popover.attach(getStepPopoverTarget(step_data)),this.ui_elements.popover_content.getNode().style.width=step_data.width+"px",this.popover.extra_class_names={wrapper:class_names},this.popover.setOptions({z_index:this.getZIndex("popover"),disable_smart_position:this.options.popover_disable_smart_position,scroll_message:this.l10n.scroll_message}),this.popover.show(),this.setLangDirectionClass(this.popover.ui.base),this.resizePopoverPointerHolder()},InlineManualPlayer.prototype.endTopic=function(){return this.deactivate()},InlineManualPlayer.prototype._endTopic=function(topic_id,step_index){var ref5,ref6,ref7,ref8;return null==topic_id&&(topic_id=this.getCurrentTopic()),null==step_index&&(step_index=this.getCurrentStep()),this.tracking.track({event:"topic_end",topic:topic_id,steps:this.countTopicSteps(topic_id),step:step_index,origin:null!=(ref5=this.persistent_topic_data.get())?ref5.origin:void 0,action_type:(null!=(ref6=this.persistent_topic_data.get())?ref6.action_type:void 0)||null,action_id:(null!=(ref7=this.persistent_topic_data.get())?ref7.action_id:void 0)||null,topic_session_id:null!=(ref8=this.persistent_topic_data.get())?ref8.session_id:void 0}),this.executeTopicCallback("on_end",topic_id,step_index),this.executeCallback("onTopicEnd",this,topic_id,step_index),this.emitter.fire("onTopicEnd",[this,topic_id,step_index]),resetWasDisplayedFlag(this,topic_id)},InlineManualPlayer.prototype.topicDone=function(){var ref5,ref6,ref7,ref8;return this.tracking.track({event:"topic_done",topic:this.current_topic.id,steps:this.countTopicSteps(this.current_topic.id),origin:null!=(ref5=this.persistent_topic_data.get())?ref5.origin:void 0,action_type:(null!=(ref6=this.persistent_topic_data.get())?ref6.action_type:void 0)||null,action_id:(null!=(ref7=this.persistent_topic_data.get())?ref7.action_id:void 0)||null,topic_session_id:null!=(ref8=this.persistent_topic_data.get())?ref8.session_id:void 0}),this.executeTopicCallback("on_done",this.current_topic.id,this.current_step),this.executeCallback("onTopicDone",this,this.current_topic.id,this.current_step),this.emitter.fire("onTopicDone",[this,this.current_topic.id,this.current_step])},InlineManualPlayer.prototype.goToStep=function(){return this._goToStep.apply(this,arguments)},InlineManualPlayer.prototype._goToStep=function(step_id){var parsed_step_id,steps_count;if(null==step_id&&(step_id=0),null!=this.current_topic.id)return"previous"===step_id&&(step_id=this.current_step-1,this.executeTopicCallback("on_previous",this.current_topic.id,step_id),this.executeCallback("onTopicPrevious",this,this.current_topic.id,step_id),this.emitter.fire("onTopicPrevious",[this,this.current_topic.id,step_id])),"next"===step_id&&(step_id=this.current_step+1,this.executeTopicCallback("on_next",this.current_topic.id,step_id),this.executeCallback("onTopicNext",this,this.current_topic.id,step_id),this.emitter.fire("onTopicNext",[this,this.current_topic.id,step_id])),parsed_step_id=parseInt(step_id),isNaN(parsed_step_id)||parsed_step_id<0?this.debug.warn("goto_invalid",step_id):(steps_count=this.topics[this.current_topic.id].steps.length,parsed_step_id>=steps_count?this.deactivate():this._activateStep(this.current_topic.id,parsed_step_id))},InlineManualPlayer.prototype.deactivate=function(keep_current_step_storage){var current_topic_id;if(null==keep_current_step_storage&&(keep_current_step_storage=!1),current_topic_id=this.getCurrentTopic(),null!=current_topic_id&&(this.debug.info("deactivate.topic",{topic_id:current_topic_id}),this._endTopic()),this.unsaveCurrentStep(),this.unsaveCurrentTopic(),this.deactivateStep(),this.removeObserver(),keep_current_step_storage||this.currentStepStorage.forget(),this.tick(),null!=current_topic_id)return this.executeCallback("onAfterTopicEnd",this),this.emitter.fire("onAfterTopicEnd",[this])},InlineManualPlayer.prototype.destroy=function(){return this.deactivate(),this.destroyUi(),this.destroyLaunchers(),this.executeCallback("onDestroy",this),this.emitter.fire("onDestroy",[this])},InlineManualPlayer.prototype.destroyLaunchers=function(){var j,launcher,len,ref5,results;for(ref5=this.launchers,results=[],j=0,len=ref5.length;j<len;j++)launcher=ref5[j],results.push(launcher.destroy());return results},InlineManualPlayer.prototype.attemptContinuation=function(){var attempts,data,max_attempts,ref5,ref6,ref7,should_attempt,should_continue,step_data;if(data=this.currentStepStorage.get(),attempts=this.continuationStorage.get(),null!=data&&(this.debug.info("continuation_attempt",{topic_id:data.topic_id,step_id:data.step_id,attempt:attempts}),should_continue=null!=data.topic_id&&null!=data.step_id))return step_data=null!=(ref5=this.topics[data.topic_id])&&null!=(ref6=ref5.steps)&&null!=(ref7=ref6[data.step_id])?ref7.max_continuation_attempts:void 0,max_attempts=step_data||this.options.max_continuation_attempts,should_attempt=0===max_attempts||attempts<max_attempts,should_attempt?(this.continuationStorage.set(),this._activateStep(data.topic_id,data.step_id)):(this.continuationStorage.forget(),this.currentStepStorage.forget())},InlineManualPlayer.prototype.triggers=[],InlineManualPlayer.prototype.showPanel=function(){return this.tracking.track({event:"widget_open"}),this.setState("panel_trigger",!1),this.setState("panel",!0),this.tick()},InlineManualPlayer.prototype.hidePanel=function(){return this.setState("panel_trigger",this.panelTriggerVisibility()),this.setState("panel",!1),this.getState("article_displayed")===!0&&this.deactivate(),this.tick()},InlineManualPlayer.prototype.panelTriggerVisibility=function(){var rule;return rule=this.options.panel_trigger_visibility,null==rule||this.evaluateRule(rule)},InlineManualPlayer.prototype.togglePanel=function(){return this.state.panel?this.hidePanel():this.showPanel()},InlineManualPlayer.prototype.updateList=function(data){var item,item_class_names,item_element,j,len,list,results;if(null==data&&(data=[]),list=this.ui_elements.panel_list.getNode(),list.innerHTML="",data.length>0){for(results=[],j=0,len=data.length;j<len;j++)item=data[j],item_class_names=item.class_names||[],item_class_names.push("list-item"),null!=item.type&&"default"!==item.type&&item_class_names.push("list-item-"+item.type),item.highlight&&item_class_names.push("highlight"),item_element=new this.UiElement({attributes:{class:this.getNsClasses(item_class_names)},data:{content:item.content},events:{click:item.callback}}),results.push(item_element.add(list));return results}return this.ui_elements.list_empty.setData({content:translate(this.l10n.empty_topics_list,this.options.language)}),this.ui_elements.list_empty.add(list)},InlineManualPlayer.prototype.getAllListItems=function(){return safeQueryAll("."+this.classname_namespace+"-list-item",this.ui)},InlineManualPlayer.prototype.getListItem=function(index){return null==index&&(index=-1),this.getAllListItems()[index]},InlineManualPlayer.prototype.highlightItem=function(index){var item;if(item=this.getListItem(index),null!=item)return ClassBridge.add(item,this.classname_namespace+"-highlight")},InlineManualPlayer.prototype.unhighlightItem=function(index){var item;if(item=this.getListItem(index),null!=item)return ClassBridge.remove(item,this.classname_namespace+"-highlight")},InlineManualPlayer.prototype.unhighlightAllItems=function(){var i,j,ref5,results;for(results=[],i=j=0,ref5=this.getAllListItems().length;0<=ref5?j<=ref5:j>=ref5;i=0<=ref5?++j:--j)results.push(this.unhighlightItem(i));return results},InlineManualPlayer.prototype.destroyUi=function(){var key,ref5,ref6,ref7,ref8,ref9,val;ref5=this.ui_elements;for(key in ref5)val=ref5[key],val.remove();return null!=(ref6=this.ui)&&null!=(ref7=ref6.parentNode)&&ref7.removeChild(this.ui),this.ui=null,null!=(ref8=this.comment_element)&&null!=(ref9=ref8.parentNode)&&ref9.removeChild(this.comment_element),removeCustomStyle(this),this.removeCustomTrigger()},InlineManualPlayer.prototype.initUi=function(){var comment_content;return this.removeObserver(),this.destroyUi(),this.addCustomTrigger(),this.createUiElements(),this.ui=document.body.appendChild(document.createElement("div")),comment_content=["","Inline Manual Player","Easily create walkthroughs, onboarding guides, tooltips and product documentation.","http://inlinemanual.com/",""],this.comment_element=document.createComment(comment_content.join("\n")),this.ui.parentNode.insertBefore(this.comment_element,this.ui),this.setUiClassNames(),addCustomStyle(this,this.options.style),this.observer||this.addObserver(),this.tick(!0)},InlineManualPlayer.prototype.setUiClassNames=function(){var class_names;if(null!=this.ui)return this.ui.className="",class_names=this.getNsClasses(["general","position-"+this.options.position,"skin-"+this.options.skin]),ClassBridge.add(this.ui,class_names),this.setLangDirectionClass(this.ui),this.setSkinClass()},InlineManualPlayer.prototype.custom_trigger_collection=new ElementCollector,InlineManualPlayer.prototype.setCustomTrigger=function(selector){return null==selector&&(selector=this.options.custom_trigger),this.removeCustomTrigger(),this.custom_trigger_collection.reset(),this.custom_trigger_collection.add(selector),this.addCustomTrigger()},InlineManualPlayer.prototype.removeCustomTrigger=function(){var element,j,len,ref5,results;for(ref5=this.custom_trigger_collection.get(),results=[],j=0,len=ref5.length;j<len;j++)element=ref5[j],results.push(EventBridge.remove(element,"click",this.handleCustomToggleClick));return results},InlineManualPlayer.prototype.addCustomTrigger=function(){var element,j,len,ref5,results;for(ref5=this.custom_trigger_collection.get(),results=[],j=0,len=ref5.length;j<len;j++)element=ref5[j],results.push(EventBridge.add(element,"click",this.handleCustomToggleClick));return results},InlineManualPlayer.prototype.handleCustomToggleClick=function(){return this.togglePanel()},InlineManualPlayer.prototype.evaluateTemplate=function(settings,content,data){var key,result,val;null==content&&(content=""),null==data&&(data=this.l10n),result=settings.template,result=result.replace("%classname%",settings.classname),result=result.replace("%content%",content);for(key in data)val=data[key],result=result.replace("%"+key+"%",translate(val,this.options.language));return result},InlineManualPlayer.prototype.constructPopover=function(step_data){var ref5,root;return this.ui_elements.popover_title.setData({content:this.applyVariables(translate(step_data.title,this.options.language))}),this.ui_elements.popover_content.setData({content:this.applyVariables(translate(step_data.content,this.options.language))}),this.ui_elements.popover_progress.setData({current_step:this.current_step+1,total_steps:(null!=(ref5=this.topics[this.current_topic.id])?ref5.steps.length:void 0)||0}),root=new this.UiElement({data:{content:""},callbacks:{onCreate:function(_this){return function(obj){if(obj.insert([_this.ui_elements.popover_title,_this.ui_elements.popover_content,_this.ui_elements.popover_controls,_this.ui_elements.popover_close_button]),!_this.options.hide_branding)return obj.insert(_this.ui_elements.popover_branding)}}(this)}}),root.getNode()},InlineManualPlayer.prototype.displayArticle=function(topic_id,step_id){var item_element,j,len,list,ref5,results,step,title_element,topic_data;for(null==topic_id&&(topic_id=this.current_topic.id),null==step_id&&(step_id=this.current_step),topic_data=this.topics[topic_id],list=this.ui_elements.panel_list.getNode(),list.innerHTML="",title_element=new UiElement({attributes:{class:this.getNsClasses(["article-title"])},data:{content:topic_data.title}}),title_element.add(list),ref5=topic_data.steps,results=[],step_id=j=0,len=ref5.length;j<len;step_id=++j)step=ref5[step_id],item_element=this.constructArticleItem(topic_id,step_id),results.push(item_element.add(list));return results},InlineManualPlayer.prototype.constructArticleItem=function(topic_id,step_id){var item_class,step_data;return step_data=this.getStepData(topic_id,step_id),item_class=[].concat(this.getStepClassNames(topic_id,step_id),this.getNsClasses(["article-item"])).join(" "),new this.UiElement({template:'<div> <div class="%title_class%">%title%</div> <div class="%body_class%">%body%</div> </div>',attributes:{class:item_class},data:{title:this.applyVariables(step_data.title),title_class:this.getNsClasses(["article-item-title"]),body:this.applyVariables(step_data.content),body_class:this.getNsClasses(["article-item-body"])}})},InlineManualPlayer.prototype.displayTopics=function(topics,options){var default_topic_options,highlighted_items,j,len,ref5,regular_items,topic,topic_id,topics_items;for(null==topics&&(topics=this.topics),null==options&&(options={}),default_topic_options={search:null},options=merge(default_topic_options,options),highlighted_items=[],regular_items=[],ref5=this.sortTopics(this.getValidTopics()),j=0,len=ref5.length;j<len;j++)topic_id=ref5[j],topic=topics[topic_id],null!=topic&&!function(_this){return function(topic_id,topic){var include_topic,item,item_content,ref6,topic_metadata;if(include_topic=!0,topic.hidden&&(include_topic=!1),topic.visibility&&(isTopicVisible(topic,_this)||(include_topic=!1)),include_topic)return item_content=translate(topic.title,_this.options.language),null!=options.search&&(item_content=_this.highlightSearchResult(item_content,options.search)),item={content:item_content,type:topic.type,class_names:[],callback:function(){return _this.handleTopicStart("topic_list"),_this._activateTopic(topic_id)}},topic_id===_this.current_topic.id&&item.class_names.push("active"),topic_metadata=null!=(ref6=_this.metadata.topic)?ref6[topic_id]:void 0,null!=(null!=topic_metadata?topic_metadata.start:void 0)&&item.class_names.push("topic-status-played"),null!=(null!=topic_metadata?topic_metadata.done:void 0)&&item.class_names.push("topic-status-completed"),topic.url=_this.applyUrlVariables(topic.url),"redirect"===topic.type&&testUrl(topic.url)&&(item.highlight=!0),topic.context_paths=_this.applyUrlVariables(topic.context_paths),topic.context?_this.evaluateRule(topic.context)&&(item.highlight=!0):testUrl(topic.context_paths)&&(item.highlight=!0),item.highlight?highlighted_items.push(item):regular_items.push(item)}}(this)(topic_id,topic);return topics_items=this.options.context_topics_only?highlighted_items:[].concat(highlighted_items,regular_items),this.updateList(topics_items)},InlineManualPlayer.prototype.constructConditionPrerequisite=function(data,callback){var condition_check;return null==data&&(data={}),null==callback&&(callback=noop),(condition_check=constructCondition(data,this.debug.warn.bind(this.debug)))?new Prerequisite({check:condition_check,onFinish:callback}):null},InlineManualPlayer.prototype.constructDelayPrerequisite=function(data,callback){var delay_callback;return null==data&&(data={}),null==callback&&(callback=noop),(null!=data?data.delay:void 0)&&data.delay>0?(delay_callback=new DelayCallback,new Prerequisite({check:function(){return delay_callback.check()},interval:1e3*data.delay,onStart:function(_this){return function(){return _this.debug.info("step.delay",{title:data.title,delay:data.delay})}}(this),onFinish:callback})):null},InlineManualPlayer.prototype.setPrerequisites=function(step_data,topic_id,step_id,force){var condition_prerequisite,delay_prerequisite,prerequisite_callback;return prerequisite_callback=function(_this){return function(){return _this.setState("step_displayed",!0),_this.tick()}}(this),condition_prerequisite=this.constructConditionPrerequisite(step_data,prerequisite_callback),delay_prerequisite=this.constructDelayPrerequisite(step_data,prerequisite_callback),null!=condition_prerequisite&&null!=delay_prerequisite?(this.condition_prerequisite=this.constructConditionPrerequisite(step_data,function(){return delay_prerequisite.start()}),this.delay_prerequisite=null):(this.condition_prerequisite=condition_prerequisite,this.delay_prerequisite=delay_prerequisite)},InlineManualPlayer.prototype.unsetPrerequisites=function(){var ref5,ref6;return null!=(ref5=this.condition_prerequisite)&&ref5.stop(),null!=(ref6=this.delay_prerequisite)?ref6.stop():void 0},InlineManualPlayer.prototype.activateBackdrop=function(element,cover,options){var backdrop_options,j,key,len,property,property_value,ref5,val;for(null==cover&&(cover=!1),null==options&&(options={}),this.deactivateBackdrop(),backdrop_options={z_index:this.getZIndex("backdrop"),hide_on_click:!1,cover:cover,watch:!0,backdrop_class:this.getBackdropClassNames("step")},ref5=["color","opacity","padding"],j=0,len=ref5.length;j<len;j++)property=ref5[j],property_value=this.options["backdrop_"+property],null!=property_value&&(backdrop_options[property]=property_value);for(key in options)val=options[key],backdrop_options[key]=val;return this.backdrop=new Backdrop(backdrop_options),this.backdrop.show(element)},InlineManualPlayer.prototype.deactivateBackdrop=function(){var ref5,ref6;return null!=(ref5=this.backdrop)&&ref5.destroy(),this.backdrop=null,null!=(ref6=this.panel_backdrop)&&ref6.destroy(),this.panel_backdrop=null},InlineManualPlayer.prototype.setLangDirectionClass=function(element){var direction;return direction=translate(this.l10n.lang_direction,this.options.language),ClassBridge.add(element,"inmplayer-lang-direction-"+direction)},InlineManualPlayer.prototype.setSkinClass=function(){var new_class,old_class;return old_class=this.getNsClasses("skin-"+this.last_remembered_state.skin),new_class=this.getNsClasses("skin-"+this.options.skin),ClassBridge.remove(this.ui,old_class),ClassBridge.add(this.ui,new_class)},InlineManualPlayer.prototype.reinit=function(target_element){return null==target_element&&(target_element=document.body),this.initUi(),this.tick(!0),this.popover.hide(),this.popover.createUi(),null!=this.current_topic.id&&null!=this.current_step&&this._activateStep(this.current_topic.id,this.current_step),this.emitter.fire("onReinit",[this,target_element])},InlineManualPlayer.prototype.manualReinit=function(target_element){return null==target_element&&(target_element=document.body),this.reinit(target_element),this.emitter.fire("onManualReinit",[this,target_element])},InlineManualPlayer.prototype.belongsToUi=function(node){var j,len,ref5,ref6,ref7,ref8,ui_element,ui_elements;for(ui_elements=[this.ui,null!=(ref5=this.popover)&&null!=(ref6=ref5.ui)?ref6.base:void 0,null!=(ref7=this.popover)&&null!=(ref8=ref7.ui)?ref8.pointer_holder:void 0],j=0,len=ui_elements.length;j<len;j++){if(ui_element=ui_elements[j],node===ui_element)return!0;if(null!=ui_element?ui_element.contains(node):void 0)return!0}return!1},InlineManualPlayer.prototype.observer=null,InlineManualPlayer.prototype.addObserver=function(){var observer_config;return null==window.MutationObserver?null:this.reinit_observer_enabled?(this.removeObserver(),this.observer=new MutationObserver(function(_this){return function(mutations){var j,k,l,len,len1,len2,mutation,node,ref5,ref6,should_reinit;for(should_reinit=!1,j=0,len=mutations.length;j<len;j++){for(mutation=mutations[j],ref5=mutation.addedNodes,k=0,len1=ref5.length;k<len1;k++)node=ref5[k],_this.belongsToUi(node)||(should_reinit=!0);for(ref6=mutation.removedNodes,l=0,len2=ref6.length;l<len2;l++)node=ref6[l],_this.belongsToUi(node)&&(should_reinit=!0)}if(should_reinit)return _this.reinit()}}(this)),observer_config={childList:!0,subtree:!0},this.observer.observe(document.body,observer_config)):null},InlineManualPlayer.prototype.removeObserver=function(){if(null!=this.observer)return this.observer.disconnect(),this.observer=null},InlineManualPlayer.prototype.enableObserver=function(){return this.reinit_observer_enabled=!0,this.addObserver()},InlineManualPlayer.prototype.disableObserver=function(){return this.reinit_observer_enabled=!1,this.removeObserver()},InlineManualPlayer.prototype.current_step_triggers=[],InlineManualPlayer.prototype.addCurrentStepTriggers=function(topic_id,step_id){var base1,current_step_triggers,j,len,results,step_data,trigger,trigger_obj;for(step_data=this.getStepData(topic_id,step_id),current_step_triggers=(null!=step_data?step_data.triggers:void 0)||[],results=[],j=0,len=current_step_triggers.length;j<len;j++)trigger=current_step_triggers[j],"current"===trigger.scope?(trigger_obj=new this.Trigger(trigger,this),null==(base1=trigger_obj.options).element&&(base1.element=step_data.element),trigger_obj.topic_id=topic_id,trigger_obj.step_id=step_id,trigger_obj.tour=this,trigger_obj.add(),results.push(this.current_step_triggers.push(trigger_obj))):results.push(void 0);return results},InlineManualPlayer.prototype.removeCurrentStepTriggers=function(){var j,len,ref5,trigger;for(ref5=this.current_step_triggers,j=0,len=ref5.length;j<len;j++)trigger=ref5[j],trigger.remove();return this.current_step_triggers=[]},InlineManualPlayer.prototype.sortTopics=function(topics){var item,j,key,len,results,topics_array,val;null==topics&&(topics={}),topics_array=[];for(key in topics)val=topics[key],topics_array.push({key:key,val:val});for(topics_array=topics_array.sort(function(a,b){var a_order,b_order;return a_order=parseInt(a.val.order),b_order=parseInt(b.val.order),a_order!==b_order?isNaN(a_order)?1:isNaN(b_order)?-1:a_order-b_order:a.val.title!==b.val.title?a.val.title>b.val.title?1:-1:0}),results=[],j=0,len=topics_array.length;j<len;j++)item=topics_array[j],results.push(item.key);return results},InlineManualPlayer.prototype.isValidTopic=function(topic_id){var valid_topics;return valid_topics=this.getValidTopics(),null!=valid_topics[topic_id]},InlineManualPlayer.prototype.getValidTopics=function(topics){return null==topics&&(topics=this.topics),topics=this.filterTopicsByRules(topics),this.options.filter_topics_by_language===!0&&(topics=this.filterTopicsByLanguage(topics)),topics},InlineManualPlayer.prototype.filterTopicsByRules=function(topics){var filtered_topics,is_valid_topic,topic_data,topic_key;null==topics&&(topics=this.topics),filtered_topics={};for(topic_key in topics)topic_data=topics[topic_key],is_valid_topic=!0,topic_data.visibility&&(is_valid_topic=this.evaluateRule(topic_data.visibility)),is_valid_topic&&(filtered_topics[topic_key]=topic_data);return filtered_topics},InlineManualPlayer.prototype.filterTopicsByLanguage=function(topics,language){var filtered_topics,topic,topic_id;null==topics&&(topics=this.topics),null==language&&(language=this.options.language),filtered_topics={};for(topic_id in topics)topic=topics[topic_id],matchesTopicLanguage(topic,language)&&(filtered_topics[topic_id]=topic);return filtered_topics},InlineManualPlayer.prototype.filterTopicsByContent=function(topics,content,language){var filtered_topics,key,title,val;null==topics&&(topics=this.topics),null==content&&(content=""),null==language&&(language=this.options.language),"string"!=typeof content&&(this.debug.warn("search.invalid_input",content),content=""),filtered_topics={},content=content.toLowerCase();for(key in topics)val=topics[key],title=translate(val.title,language),"string"==typeof title&&title.toLowerCase().indexOf(content)!==-1&&(filtered_topics[key]=val);return filtered_topics},InlineManualPlayer.prototype.activateByUrlParams=function(url){var params,step_id;if(null==url&&(url=document.location),params=getUrlParams(url),params.imTopic&&null==params.imDeactivate)return this.handleTopicStart("url"),null!=params.imStep?(step_id=parseInt(params.imStep),this._activateStep(params.imTopic,step_id)):this._activateTopic(params.imTopic),this.debug.info("activate.by_url",{topic_id:params.imTopic,step_id:step_id})},InlineManualPlayer.prototype.deactivateByUrlParams=function(url){var data,params,should_deactivate,step_id;if(null==url&&(url=document.location),params=getUrlParams(url),data=this.currentStepStorage.get(),null!=params.imDeactivate&&(should_deactivate=!1,null==params.imTopic&&(should_deactivate=!0,this.debug.info("deactivate.by_url.any")),params.imTopic===(null!=data?data.topic_id:void 0)&&null==params.imStep&&(should_deactivate=!0,this.debug.info("deactivate.by_url.topic",{topic_id:params.imTopic})),step_id=parseInt(params.imStep),params.imTopic===(null!=data?data.topic_id:void 0)&&step_id===(null!=data?data.step_id:void 0)&&(should_deactivate=!0,this.debug.info("deactivate.by_url.step",{topic_id:params.imTopic,step_id:step_id})),should_deactivate))return this.deactivate()},InlineManualPlayer.prototype.setLanguage=function(language){return null==language&&(language="en"),this.options.language=language,this.setState("language",language),this.tick(),null!=this.current_topic.id&&null!=this.current_step&&this._activateStep(this.current_topic.id,this.current_step),this.executeCallback("onSetLanguage",this,language),this.emitter.fire("onSetLanguage",[this,language])},InlineManualPlayer.prototype.executeCallback=function(){var callback_id,params;return callback_id=arguments[0],params=2<=arguments.length?slice.call(arguments,1):[],this.callbacks[callback_id].apply(null,params)},InlineManualPlayer.prototype.executeStepCallback=function(callback_id,topic_id,step_id){var custom_data,step;if(step=this.getStepData(topic_id,step_id),null!=step)return custom_data=step.custom_data||{},"function"==typeof step[callback_id]?step[callback_id](this,topic_id,step_id,custom_data):void 0},InlineManualPlayer.prototype.executeTopicCallback=function(callback_id,topic_id,step_id){var custom_data,topic;if(topic=this.topics[topic_id],null!=topic)return custom_data=topic.custom_data||{},"function"==typeof topic[callback_id]?topic[callback_id](this,topic_id,step_id,custom_data):void 0},InlineManualPlayer.prototype.setZIndex=function(element,value,topic_id,step_id){if(null==topic_id&&(topic_id=this.current_topic.id),null==step_id&&(step_id=this.current_step),"string"==typeof value&&indexOf.call(this.layer_stack,value)>=0&&(value=this.getZIndex(value,topic_id,step_id)),null!=element&&!isNaN(value))return element.style.zIndex=value},InlineManualPlayer.prototype.getZIndex=function(layer_name,topic_id,step_id){var base,i,j,layer,layer_index,len,ref5,ref6,ref7;for(null==topic_id&&(topic_id=this.current_topic.id),null==step_id&&(step_id=this.current_step),base=(null!=(ref5=this.getStepData(topic_id,step_id))?ref5.z_index:void 0)||(null!=(ref6=this.topics[topic_id])?ref6.z_index:void 0)||this.options.z_index||0,layer_index=0,ref7=this.layer_stack,i=j=0,len=ref7.length;j<len;i=++j)layer=ref7[i],layer_name===layer&&(layer_index=i);return base+10*layer_index},InlineManualPlayer.prototype.translate=function(content_string_id){return translate(this.l10n[content_string_id],this.options.language)},InlineManualPlayer.prototype.initState=function(){return this.state={step_displayed:!1,topic_id:null,step_id:null,panel:!1,panel_trigger:this.panelTriggerVisibility(),style:default_options.style,custom_trigger:default_options.custom_trigger,position:default_options.position,topics:0,hide_branding:default_options.hide_branding,step_backdrop:!1,panel_backdrop:!1,skin:default_options.skin,article_displayed:!1},this.rememberState()},InlineManualPlayer.prototype.rememberState=function(){var key,ref5,results,val;this.last_remembered_state={},ref5=this.state,results=[];for(key in ref5)val=ref5[key],results.push(this.last_remembered_state[key]=val);return results},InlineManualPlayer.prototype.isStateChanged=function(){var key,ref5,val;ref5=this.state;for(key in ref5)if(val=ref5[key],this.last_remembered_state[key]!==val)return!0;return!1},InlineManualPlayer.prototype.isStatePropertyChanged=function(key){return this.state[key]!==this.last_remembered_state[key]},InlineManualPlayer.prototype.setState=function(key,val){return this.state[key]=val},InlineManualPlayer.prototype.getState=function(key){return this.state[key]},InlineManualPlayer.prototype.tick=function(force){if(null==force&&(force=!1),force||this.isStateChanged())return this.draw()},InlineManualPlayer.prototype.draw=function(){var element,state;if(this.ui_elements)return this.isStatePropertyChanged("l10n")&&this.resetUi(),this.isStatePropertyChanged("language")&&this.resetUi(),this.isStatePropertyChanged("skin")&&(this.setSkinClass(),this.resetUi()),this.isStatePropertyChanged("position")&&this.setUiClassNames(),this.isStatePropertyChanged("hide_branding")&&this.ui_elements.panel_footer.redraw(),this.isStatePropertyChanged("topics")&&this.displayTopics(),this.ui_elements.panel_trigger.toggleByState(this.state.panel_trigger,this.ui),this.ui_elements.panel.toggleByState(this.state.panel,this.ui),this.isStatePropertyChanged("article_displayed")&&(element=this.ui_elements.article_panel,state=this.getState("article_displayed"),state===!0?element.add(this.ui):element.remove()),this.isStatePropertyChanged("custom_trigger")&&this.setCustomTrigger(),(this.isStatePropertyChanged("step_displayed")||this.isStatePropertyChanged("topic_id")||this.isStatePropertyChanged("step_id"))&&(this.state.step_displayed?this.displayStep():this.undisplayStep()),insertCustomStyle(this),this.rememberState()},InlineManualPlayer.prototype.alignPanel=function(node){var box,vertical_position;if(null==node&&(node=this.ui_elements.panel.getNode()),null!=node)return box=DomBox.getBox(node),vertical_position=(DomBox.Viewport.getHeight()-box.height)/2,node.style.top=vertical_position+"px"},InlineManualPlayer.prototype.addBackdropSplashMode=function(node){var ref5;return null!=(ref5=this.backdrop)&&ref5.hide(),this.panel_backdrop=new Backdrop({backdrop_class:this.getBackdropClassNames("splash"),hide_on_click:!1,z_index:this.getZIndex("splash"),padding:0,onHide:function(_this){return function(){var ref6;return null!=(ref6=_this.backdrop)?ref6.show():void 0}}(this)}),this.panel_backdrop.show(node)},InlineManualPlayer.prototype.onAddArticlePanel=function(node){return this.constructPanelUi(node),this.ui_elements.article_back_button.add(node),this.displayArticle(),
this.activatePanelUi(node)},InlineManualPlayer.prototype.onAddTopicsPanel=function(node){return this.constructPanelUi(node),this.options.search_enabled===!0&&this.ui_elements.panel_search.add(node,this.ui_elements.panel_list.node),this.displayTopics(),this.activatePanelUi(node)},InlineManualPlayer.prototype.constructPanelUi=function(node){return this.setZIndex(node,"panel"),this.ui_elements.panel_header.add(node),this.ui_elements.panel_list.add(node),this.ui_elements.panel_footer.add(node),this.ui_elements.panel_close_button.add(node)},InlineManualPlayer.prototype.activatePanelUi=function(node){var base1;return"function"==typeof(base1=this.skin[this.options.skin]).onAddPanel&&base1.onAddPanel(node,this),this.options.splash_mode===!0&&(centerNode(node),this.options.splash_backdrop===!0&&this.addBackdropSplashMode(node)),ClassBridge.add(this.ui,this.classname_namespace+"-topicsDisplayed")},InlineManualPlayer.prototype.onRemovePanel=function(){var base1;return this.deactivateBackdrop(),null!=this.ui&&ClassBridge.remove(this.ui,this.classname_namespace+"-topicsDisplayed"),"function"==typeof(base1=this.skin[this.options.skin]).onRemovePanel?base1.onRemovePanel(this):void 0},InlineManualPlayer.prototype.setVariables=function(variables){return null==variables&&(variables={}),this.options.variables=variables},InlineManualPlayer.prototype.addVariables=function(variables){var key,results,val;null==variables&&(variables={}),null==this.options.variables&&(this.options.variables={}),results=[];for(key in variables)val=variables[key],results.push(this.options.variables[key]=val);return results},InlineManualPlayer.prototype.removeVariables=function(variables){var j,len,results,variable;for(null==variables&&(variables=[]),results=[],j=0,len=variables.length;j<len;j++)variable=variables[j],results.push(delete this.options.variables[variable]);return results},InlineManualPlayer.prototype.setRules=function(rules){return null==rules&&(rules={}),this.rules=rules},InlineManualPlayer.prototype.handleStorageChange=function(event){var data,event_data,new_value,step_changed,storage_key,topic_changed;if(storage_key=this.options.storage_prefix+"InmPlayerCurrent",(null!=event?event.key:void 0)===storage_key&&event.newValue!==event.oldValue&&(new_value=event.newValue||"{}",event_data=safeParseJson(new_value),topic_changed=this.current_topic.id!==event_data.topic_id,step_changed=this.current_step!==event_data.step_id,topic_changed||step_changed))return data=this.currentStepStorage.get(),null!=data?this._activateStep(data.topic_id,data.step_id):this.deactivate()},InlineManualPlayer.prototype._setMetadata=function(data){var key,results,val;null==data&&(data={}),results=[];for(key in data)val=data[key],this.metadata[key]=val,results.push(this.tracking.metadata[key]=val);return results},InlineManualPlayer.prototype.setMetadata=function(data){return null==data&&(data={}),this._setMetadata(data),this.attemptAutolaunch()},InlineManualPlayer.prototype.attemptAutolaunch=function(){var additional_data,item,j,len,ref5;if(this.autolaunch_enabled===!0)for(ref5=this.autolaunch||[],j=0,len=ref5.length;j<len;j++)if(item=ref5[j],this.evaluateRule(item.rule))return additional_data={action_type:"autolaunch",action_id:item.id},this.handleTopicStart("autolauncher",additional_data),null!=item.step?this._activateStep(item.topic,item.step):this._activateTopic(item.topic),!0;return!1},InlineManualPlayer.prototype.evaluateRule=function(rule){var data,ruleset_options;return"string"==typeof rule&&(rule=this.rules[rule]),"object"===("undefined"==typeof rule?"undefined":_typeof(rule))&&"function"!=typeof rule.eval&&("rule"===rule.type&&(rule=new Rule(rule)),"ruleset"===rule.type&&(ruleset_options=_extends({},rule,{getRules:function(_this){return function(){return _this.rules}}(this)}),rule=new Ruleset(ruleset_options))),data=_extends({},this.tracking.metadata,{"@":this.options}),null!=rule&&"function"==typeof rule.eval?rule.eval(data):void 0},InlineManualPlayer.prototype.push=function(data){var args,method;if(null==data&&(data=[]),method=data[0],args=2<=data.length?slice.call(data,1):[],null!=this[method])return this[method].apply(this,args)},InlineManualPlayer.prototype.handleQueue=function(queue){var item,j,len,results;for(null==queue&&(queue=[]),results=[],j=0,len=queue.length;j<len;j++)item=queue[j],results.push(this.push(item));return results},InlineManualPlayer.prototype.getCurrentTopic=function(){return this.current_topic.id},InlineManualPlayer.prototype.getCurrentStep=function(){return this.current_step},InlineManualPlayer.prototype.setActions=function(actions){if(null==actions&&(actions={}),null!=actions.autolaunch)return this.setAutolaunch(actions.autolaunch)},InlineManualPlayer.prototype.setAutolaunch=function(items){var item,j,len,valid_items;for(null==items&&(items=[]),valid_items=[],j=0,len=items.length;j<len;j++)item=items[j],item=this.sanitizeAutolaunch(item),null!=item&&valid_items.push(item);return this.autolaunch=valid_items},InlineManualPlayer.prototype.sanitizeAutolaunch=function(item){return null==item&&(item={}),null!=item&&null!=item.rule&&null!=item.topic?item:null},InlineManualPlayer.prototype.handleTopicStart=function(origin,additional_data){var data;return null==additional_data&&(additional_data={}),data={origin:origin,session_id:UUID4.generate()},data=merge(additional_data,data),this.persistent_topic_data.set(data)},InlineManualPlayer.prototype.sanitizeUrl=function(url){return sanitizeUrl(url,this.options.base_path)},InlineManualPlayer.prototype.getNsClasses=function(class_names,namespace){return null==class_names&&(class_names=[]),null==namespace&&(namespace=this.classname_namespace),"string"==typeof class_names&&(class_names=[class_names]),class_names.filter(function(item){return null!=item}).map(function(item){return namespace+"-"+item}).join(" ")},InlineManualPlayer.prototype.resetUi=function(){var key,ref5,val;ref5=this.ui_elements;for(key in ref5)val=ref5[key],val.remove();return this.createUiElements()},InlineManualPlayer.prototype.handleWindowResize=function(event){var base1;return"function"==typeof(base1=this.skin[this.options.skin]).onResize&&base1.onResize(event,this),this.resizePopoverPointerHolder()},InlineManualPlayer.prototype.resizePopoverPointerHolder=function(){var document_size,elm,j,len,ref5,results;for(document_size=DomBox.Document.getSize(),ref5=safeQueryAll(".inmplayer-popover-pointer-holder"),results=[],j=0,len=ref5.length;j<len;j++)elm=ref5[j],elm.style.width=document_size.width+"px",results.push(elm.style.height=document_size.height+"px");return results},InlineManualPlayer.prototype.applyVariables=function(content){var data,options,template;return options={delimiter_start:"{{",delimiter_end:"}}",delimiter_separator:"|"},data=merge(this.options.variables,this.metadata),template=new Template(content,data,options),template.getHtml()},InlineManualPlayer.prototype.applyUrlVariables=function(url){var constructUrl,data,options;return url?(options={delimiter_start:"[",delimiter_end:"]"},data=merge(this.options.variables,this.metadata),constructUrl=function(url){var template;return template=new Template(url,data,options),template.getHtml()},Array.isArray(url)?url.map(constructUrl):constructUrl(url)):url},InlineManualPlayer.prototype.getStepData=function(topic_id,step_id){var data,languages,step_data,topic_data;return topic_data=this.topics[topic_id],null!=topic_data?(step_data=topic_data.steps[step_id],languages=[].concat(this.options.language,topic_data.language,topic_data.languages),data=translateStepProperties(step_data,languages)):null},InlineManualPlayer.prototype.getBackdropClassNames=function(type){var class_name;return class_name=null!=this.options.backdrop_classname?this.options.backdrop_classname:this.getNsClasses("backdrop"),null!=type&&(class_name=[class_name,class_name+"-"+type].join(" ")),class_name},InlineManualPlayer}(),expose(InlineManualPlayer,"InlineManualPlayer"),ajax=__webpack_require__(79).default,user_info={handleUserData:function(response,callback){var key,response_data,val;if(null==callback&&(callback=noop),this){if(response_data=safeParseJson(null!=response?response.responseText:void 0),null!=response_data){this.tracking.setUuid(response_data.uuid);for(key in response_data)val=response_data[key],"uuid"!==key&&(this.metadata[key]=val,this.tracking.metadata[key]=val)}return this.autolaunch_enabled=!0,callback()}},handleUserDataError:function(response,callback){var ref5,response_data;if(null==callback&&(callback=noop),this)return response_data=safeParseJson(null!=response?response.responseText:void 0),null!=(ref5=this.debug)&&ref5.error("user_info.fail",null!=response_data?response_data.message:void 0),this.autolaunch_enabled=!1,callback()},handleEmptyProfile:function(response,callback){if(null==callback&&(callback=noop),this)return this.autolaunch_enabled=!0,callback()},requestUserData:function(url,callback){var options,params,ref5;return null==callback&&(callback=noop),this.tracking.enabled!==!0&&(null!=(ref5=this.debug)&&ref5.warn("user_info.disabled",{url:url}),callback()),params={key:this.tracking.api_key,uid:this.metadata.uid},options={params:params,onCode:{404:function(_this){return function(res){return _this.handleEmptyProfile(res,function(){return callback(res)})}}(this)},onError:function(_this){return function(res){return _this.handleUserDataError(res,function(){return callback(res)})}}(this),onSuccess:function(_this){return function(res){var data;return data=safeParseJson(null!=res?res.responseText:void 0),_this.handleUserData(res,function(){return callback(data)}),_this.callbacks.onProfileLoad(data)}}(this)},ajax(url,options)},evaluateUserData:function(callback){var has_rules,isEmptyObject,is_mismatch,uid,uuid;return null==callback&&(callback=noop),isEmptyObject=function(obj){var key,val;for(key in obj)return val=obj[key],!1;return!0},uuid=this.tracking.getUuid(),uid=this.metadata.uid,has_rules=!isEmptyObject(this.rules),is_mismatch=(null!=uuid||null!=uid)&&uuid!==uid,null!=uuid||null!=uid||has_rules?null!=uid&&has_rules?this.requestUserData(this.profile_url,callback):null!=uid&&is_mismatch?this.requestUserData(this.uuid_url,callback):(this.autolaunch_enabled=!0,callback()):(this.tracking.generateUuid(),callback())},getProfile:function(callback){return null==callback&&(callback=noop),this.requestUserData(this.profile_url,callback)}};for(key in user_info)val=user_info[key],InlineManualPlayer.prototype[key]=val;Boogie=__webpack_require__(121),debug={getDebugCodes:function(){return{init:"Constructing new `InlineManualPlayer`.",set_options:"Setting options.",redirect:function(data){return"Redirecting to "+data.url+"."},continuation_attempt:function(_this){return function(data){return"Attempt #"+data.attempt+" to continue "+_this.debugCurrent(data.topic_id,data.step_id)+"."}}(this),invalid:{selector:function(data){return"Invalid CSS selector `"+data.selector+"` is used. Fix it or use `null` instead."},condition:function(data){return"Condition for step '"+data+"' does not contain any value. It will be ignored."}},launcher:{context_path_empty:"Context paths in launcher config contain an empty array. Use `null` instead."},topic_redirect_without_url:function(data){return"Topic "+data+" is of type 'redirect', but no 'url' is defined."},activate:{missing_data:function(_this){return function(data){return"Tried to activate "+_this.debugCurrent(data.topic_id,data.step_id)+", but the topic or step is not defined."}}(this),by_url:function(_this){return function(data){return"Activating "+_this.debugCurrent(data.topic_id,data.step_id)+" by URL."}}(this)},step:{display:function(_this){return function(data){return"Displaying "+_this.debugCurrent(data.topic_id,data.step_id)+"."}}(this),activated:function(_this){return function(data){return"Activating "+_this.debugCurrent(data.topic_id,data.step_id)+"."}}(this),stopped_before_activation:function(_this){return function(data){return"Step "+_this.debugCurrent(data.topic_id,data.step_id)+" stopped before activation by callback."}}(this),delay:function(data){return"Delayed step '"+data.title+"' is activated. It will be displayed after "+data.delay+"s."},goto_invalid:function(data){return"Calling method `goToStep` with invalid parameter: '"+data+"'."},activate:{redirect:function(_this){return function(data){return"Could not display "+_this.debugCurrent(data.topic_id,data.step_id)+" because it is redirected to '"+data.url+"'."}}(this),unmet_condition:function(_this){return function(data){return"Could not display "+_this.debugCurrent(data.topic_id,data.step_id)+" because it contains an unmet condition."}}(this),delay:function(_this){return function(data){return"Could not display "+_this.debugCurrent(data.topic_id,data.step_id)+" because it contains a delay."}}(this),url_match:function(_this){return function(data){return"Could not display "+_this.debugCurrent(data.topic_id,data.step_id)+" because its URL trigger ("+data.url_pattern+") does not match current URL ("+document.location.toString()+")."}}(this)},search:{tracking:function(data){return"Sending search tracking data: "+data},invalid_input:function(data){return"Filtering topics by non-string content (data). How did you even do that?"}}},deactivate:{topic:function(_this){return function(data){return"Deactivating topic "+_this.debugCurrent(data.topic_id)+"."}}(this),by_url:{any:"Deactivating any topic at any step by URL.",topic:function(_this){return function(data){return"Deactivating topic "+_this.debugCurrent(data.topic_id)+" by URL."}}(this),step:function(_this){return function(data){return"Deactivating step "+_this.debugCurrent(data.topic_id,data.step_id)+" by URL."}}(this)}},rule:{non_existing:function(data){return"Trying to use non-existing reference to rule '"+data+"'."},invalid:function(data){return"Trying to add invalid rule '"+data+"'."},other:function(data){return"Rule '"+data.key+"': "+data.msg}},trigger:{invalid_selector:"Invalid data is used as CSS selector for trigger element. Use either valid string with CSS selector or `null` instead.",empty_selector:"Empty string is used as CSS selector for trigger element. Use `null` instead."},user_info:{fail:"Request for user data unsuccessful.",disabled:function(data){return"Requesting user data from '"+data.url+"', but the tracking is disabled."}},topic:{languages:function(data){return"Trying to set invalid languages ("+data.invalid_value+") to topic (ID "+data.topic_id+"."}}}},setupDebug:function(){return this.debug=new Boogie({prefix:"Inline Manual Player:",url_prefix:"imDebug-",codes:this.getDebugCodes(),onActivate:function(_this){return function(){return _this.handleDebugActivation()}}(this),onRecord:function(_this){return function(){return _this.handleDebugRecord.apply(_this,arguments)}}(this)})},handleDebugActivation:function(){return this.optionsHistory=[],this.optionsMerged={}},handleDebugRecord:function(type,code,data,message){if("set_options"===code)return this.optionsHistory.push(data),this.optionsMerged=merge(this.optionsMerged,data)},debugTopic:function(topic_id){var topic_data;return topic_data=this.topics[topic_id],null!=topic_data?"topic '"+topic_id+"' (title: '"+topic_data.title+"')":"topic '"+topic_id+"' (data not found)"},debugStep:function(topic_id,step_id){var ref5,step_data;return step_data=null!=(ref5=this.topics[topic_id])?ref5.steps[step_id]:void 0,null!=step_data?"step '"+step_id+"' (title: '"+step_data.title+"')":"step '"+step_id+"' (data not found)"},debugCurrent:function(topic_id,step_id){var content;return content=[],null!=step_id&&content.push(this.debugStep(topic_id,step_id)),null!=topic_id&&content.push(this.debugTopic(topic_id)),content.join(" of ")}};for(key in debug)val=debug[key],InlineManualPlayer.prototype[key]=val;window.createInlineManualPlayer=function(data,object_name){var base1,ref5,ref6;if(null==data&&(data={}),null==object_name&&(object_name="inline_manual_player"),null!=window.inlineManualOptions){ref5=window.inlineManualOptions;for(key in ref5)val=ref5[key],data[key]=val}if(null!=window.inlineManualTracking){null==data.tracking&&(data.tracking={}),null==(base1=data.tracking).metadata&&(base1.metadata={}),ref6=window.inlineManualTracking;for(key in ref6)val=ref6[key],data.tracking.metadata[key]=val}return null!=window[object_name]&&(data.queue=window[object_name]),window[object_name]=new InlineManualPlayer(data)},merge=function(){var j,len,object,objects,result;for(objects=1<=arguments.length?slice.call(arguments,0):[],result={},j=0,len=objects.length;j<len;j++)if(object=objects[j],isObject(object))for(key in object)val=object[key],result[key]=val;return result},isArray=function(obj){return null!=Array.isArray?Array.isArray(obj):"[object Array]"===Object.prototype.toString.call(obj)},isObject=function(obj){return null!=obj&&("object"===("undefined"==typeof obj?"undefined":_typeof(obj))&&!isArray(obj))},validateCssSelector=function(selector){var error;if(null==selector)return!1;try{document.querySelector(selector)}catch(error1){return error=error1,!1}return!0},safeQueryAll=__webpack_require__(42).safeQueryAll,ElementMonitor=__webpack_require__(87).default,Trigger=function(){function Trigger(options,parent){null==options&&(options={}),this.parent=parent,this.execute=bind(this.execute,this),this.options=this.sanitize(options),this.monitor=new ElementMonitor(this.options.element,{onAppear:function(_this){return function(){return _this.remove(),_this.add()}}(this)}),this.monitor.start()}return Trigger.prototype.default_options={element:null,events:[],scope:"current",activate:"current"},Trigger.prototype.window_events=["load","unload","abort","error","resize","scroll"],Trigger.prototype.sanitize=function(options,default_options){var result;return null==options&&(options={}),null==default_options&&(default_options=this.default_options),result=merge(default_options,options),result.events=this.sanitizeEvents(result.events),result.scope=this.sanitizeScope(result.scope),result.activate=this.sanitizeActivate(result.activate),result.element=this.sanitizeElement(result.element),result},Trigger.prototype.sanitizeEvents=function(events){var allowed_events,event;return null==events&&(events=[]),"string"==typeof events&&(events=[events]),allowed_events=["click","dblclick","mousedown","mouseup","mouseover","mousemove","mouseout","dragstart","drag","dragenter","dragleave","dragover","drop","dragend","mouseenter","mouseleave","keydown","keypress","keyup","load","unload","abort","error","resize","scroll","select","change","submit","reset","focus","blur"],events=function(){var j,len,results;for(results=[],j=0,len=events.length;j<len;j++)event=events[j],indexOf.call(allowed_events,event)>=0&&results.push(event);return results}()},Trigger.prototype.sanitizeScope=function(scope){var allowed_scopes;return allowed_scopes=["current","any"],indexOf.call(allowed_scopes,scope)<0&&(scope=null),scope},Trigger.prototype.sanitizeActivate=function(activate){var allowed_activates;return allowed_activates=["current","next","previous","none"],"number"==typeof activate||indexOf.call(allowed_activates,activate)>=0?activate:allowed_activates[0]},Trigger.prototype.sanitizeElement=function(element){var ref5;return validateCssSelector(element)?element:(null!=(ref5=this.parent)&&ref5.debug.warn("invalid.selector",{selector:element}),null)},Trigger.prototype.execute=function(){if(null!=this.tour&&this.tour.current_topic.id===this.topic_id&&("any"===this.options.scope||"current"===this.options.scope&&this.tour.current_step===this.step_id))return"current"===this.options.activate?this.tour._activateStep(this.topic_id,this.step_id,!0):"none"===this.options.activate?this.tour.deactivate():this.tour._goToStep(this.options.activate)},Trigger.prototype.add=function(element_selector,events){var element,elements,event,j,len,results;for(null==element_selector&&(element_selector=this.options.element),null==events&&(events=this.options.events),this.options.element=this.sanitizeElement(element_selector),this.options.events=this.sanitizeEvents(events),this.monitor.elements.set(this.options.element),results=[],j=0,len=events.length;j<len;j++)event=events[j],elements=indexOf.call(this.window_events,event)>=0?[window]:safeQueryAll(element_selector),results.push(function(){var k,len1,results1;for(results1=[],k=0,len1=elements.length;k<len1;k++)element=elements[k],results1.push(EventBridge.add(element,event,this.execute));return results1}.call(this));return results},Trigger.prototype.remove=function(element_selector,events){var element,elements,event,j,len,results;for(null==element_selector&&(element_selector=this.options.element),null==events&&(events=this.options.events),results=[],j=0,len=events.length;j<len;j++)event=events[j],elements=indexOf.call(this.window_events,event)>=0?[window]:safeQueryAll(element_selector),results.push(function(){var k,len1,results1;for(results1=[],k=0,len1=elements.length;k<len1;k++)element=elements[k],results1.push(EventBridge.remove(element,event,this.execute));return results1}.call(this));return results},Trigger}(),InlineManualPlayer.prototype.Trigger=Trigger,UUID4=__webpack_require__(12),containsProtocol=__webpack_require__(44).containsProtocol,ajax=__webpack_require__(79).default,Statistics=function(){function Statistics(options){null==options&&(options={}),this.setOptions(merge(this.default_options,options)),this.uuid=this.getUuid()}return Statistics.prototype.default_options={storage_key:"inline-manual-player-uuid",tracking_url:"//analytics.inlinemanual.com/__ptm",tracking_debug_url:"//localhost:3000/tracking",enabled:!1,debug:!1,metadata:{},api_key:null,version:null},Statistics.prototype.technical_data={url:document.location.toString()},Statistics.prototype.setOptions=function(options){var results;null==options&&(options={}),results=[];for(key in options)val=options[key],results.push(this[key]=options[key]);return results},Statistics.prototype.forgetUuid=function(){return"undefined"!=typeof localStorage&&null!==localStorage?localStorage.removeItem(this.storage_key):void 0},Statistics.prototype.setUuid=function(uuid){return"undefined"!=typeof localStorage&&null!==localStorage?localStorage.setItem(this.storage_key,uuid):void 0},Statistics.prototype.getUuid=function(){var current_uuid;return current_uuid="undefined"!=typeof localStorage&&null!==localStorage?localStorage.getItem(this.storage_key):void 0,null==current_uuid||UUID4.validate(current_uuid)||(current_uuid=this.generateUuid()),current_uuid},Statistics.prototype.generateUuid=function(){return this.uuid=UUID4.generate(),this.setUuid(this.uuid),this.uuid},Statistics.prototype.track=function(event_data){var data,ref5;null==event_data&&(event_data={}),data={uuid:this.getUuid()||this.generateUuid(),time:(new Date).getTime()},null!=this.metadata.uid&&(data.uid=this.metadata.uid),ref5=this.technical_data;for(key in ref5)val=ref5[key],data[key]=val;for(key in event_data)val=event_data[key],data[key]=val;if("player_init"===event_data.event&&(data.meta=this.metadata),null!=this.api_key&&(data.key=this.api_key),data.version=this.version,this.enabled)return this.send(data)},Statistics.prototype.send=function(data){var url;return null==data&&(data={}),url=this.debug?this.tracking_debug_url:this.tracking_url,containsProtocol(url)||(url=""+document.location.protocol+url),ajax(url,{method:"POST",params:data})},Statistics}(),InlineManualPlayer.prototype.Statistics=Statistics,DelayedReaction=__webpack_require__(122).default,safeQuery=__webpack_require__(42).safeQuery,search={last_remembered_search:"",initSearch:function(obj){var clear_link,handleSearchEvent,search_button,search_field;return search_field=safeQuery("input",obj.node),search_button=safeQuery("button",obj.node),clear_link=safeQuery("a",obj.node),this.delayedSearch=new DelayedReaction(1e3),this.clearSearch(search_field),handleSearchEvent=function(_this){return function(){return search_field.value!==_this.last_remembered_search&&(_this.doSearch(search_field.value),_this.trackSearch(search_field.value)),_this.last_remembered_search=search_field.value}}(this),EventBridge.add(search_field,["keyup","change"],handleSearchEvent),EventBridge.add(search_button,"click",handleSearchEvent),EventBridge.add(clear_link,"click",function(_this){return function(){return _this.clearSearch(search_field)}}(this))},doSearch:function(content){var filtered_topics,valid_topics;return null==content&&(content=""),""!==content?(valid_topics=this.getValidTopics(),filtered_topics=this.filterTopicsByContent(valid_topics,content),this.displayTopics(filtered_topics,{search:content})):this.displayTopics()},clearSearch:function(node){return null!=node&&(node.value=""),this.doSearch(),this.last_remembered_search=""},trackSearch:function(content){if(null==content&&(content=""),!((null!=content?content.length:void 0)<3))return this.delayedSearch.delayedAction(function(_this){return function(){return _this.debug.info("search.tracking",_this.tracking.track),_this.tracking.track({event:"search",search:content})}}(this))},highlightSearchResult:function(haystack,needle,before,after){var re,replacement;return null==haystack&&(haystack=""),null==needle&&(needle=""),null==before&&(before='<span class="search-highlight">'),null==after&&(after="</span>"),re=RegExp("("+needle+")","gi"),replacement=before+"$1"+after,haystack.replace(re,replacement)}};for(key in search)val=search[key],InlineManualPlayer.prototype[key]=val;InlineManualPlayer.prototype.createUiElements=function(){return this.ui_elements={panel_trigger:new this.UiElement({attributes:{class:this.getNsClasses("trigger")},data:{content:this.translate("trigger_title")||this.translate("title")},events:{click:function(_this){return function(){return _this.showPanel()}}(this)},callbacks:{onAdd:function(_this){return function(obj){return _this.setZIndex(obj.getNode(),"panel")}}(this),onStateCheck:function(_this){return function(){return!_this.options.hide_trigger}}(this)}}),panel_header:new this.UiElement({attributes:{class:this.getNsClasses("panel-header")},data:{content:this.translate("panel_title")||this.translate("title")},events:{click:function(_this){return function(){return _this.hidePanel()}}(this)}}),panel_search:new this.UiElement({attributes:{class:this.getNsClasses("panel-search")},data:{content:"<input type='text' /> <button>"+this.translate("search_submit")+"</button> <a href='javascript:void(0);'>"+this.translate("search_clear")+"</a>"},callbacks:{onAdd:function(_this){return function(obj){return _this.initSearch(obj)}}(this)}}),panel_list:new this.UiElement({attributes:{class:this.getNsClasses("panel-body")},data:{content:""}}),list_empty:new this.UiElement({attributes:{class:this.getNsClasses("list-empty")},data:{content:""}}),panel_close_button:new this.UiElement({attributes:{class:this.getNsClasses("panel-close-button")},data:{content:"×"},events:{click:function(_this){return function(){return _this.hidePanel()}}(this)}}),article_close_button:new this.UiElement({attributes:{class:this.getNsClasses("panel-close-button")},data:{content:"×"},events:{click:function(_this){return function(){return _this.deactivate(),_this.hidePanel()}}(this)}}),article_back_button:new this.UiElement({attributes:{class:this.getNsClasses("panel-back-button")},data:{content:"←"},events:{click:function(_this){return function(){return _this.deactivate(),_this.showPanel()}}(this)}}),panel_custom_footer:new this.UiElement({attributes:{class:this.getNsClasses("panel-custom-footer")},data:{content:this.translate("footer")},events:{click:function(_this){return function(event){var target;for(target=EventBridge.target(event);"a"!==target.tagName.toLowerCase();)target=target.parentNode;return _this.tracking.track({event:"footer_click",link_url:target.href})}}(this)}}),panel_branding:new this.UiElement({template:'<a href="%branding_link%" target="_blank"> %content% Inline Manual </a>',attributes:{class:this.getNsClasses(["branding","panel-footer-branding"])},data:{content:this.translate("branding"),branding_link:this.translate("branding_link")}}),panel_footer:new this.UiElement({attributes:{class:this.getNsClasses("panel-footer")},data:{content:""},callbacks:{onAdd:function(_this){return function(obj){if(_this.ui_elements.panel_custom_footer.add(obj.getNode()),!_this.options.hide_branding)return _this.ui_elements.panel_branding.add(obj.getNode())}}(this)}}),panel:new this.UiElement({attributes:{class:this.getNsClasses("panel")},data:{content:""},callbacks:{onAdd:function(_this){return function(obj){return _this.onAddTopicsPanel(obj.getNode())}}(this),onRemove:function(_this){return function(obj){return _this.onRemovePanel()}}(this)}}),article_panel:new this.UiElement({attributes:{class:this.getNsClasses("panel")},data:{content:""},callbacks:{onAdd:function(_this){return function(obj){return _this.onAddArticlePanel(obj.getNode())}}(this),onRemove:function(_this){return function(obj){return _this.onRemovePanel()}}(this)}}),popover_progress:new this.UiElement({template:"<div>%current_step% / %total_steps%</div>",attributes:{class:this.getNsClasses("popover-progress")},data:{current_step:"0",total_steps:"0"}}),popover_title:new this.UiElement({attributes:{class:this.getNsClasses("popover-title")}}),popover_content:new this.UiElement({attributes:{class:this.getNsClasses("popover-inner-content")}}),popover_close_button:new this.UiElement({attributes:{class:this.getNsClasses("popover-close-button")},data:{content:"×"},events:{click:function(_this){return function(){return _this.endTopic()}}(this)}}),popover_controls:new this.UiElement({attributes:{class:this.getNsClasses("popover-buttons")},data:{content:""},callbacks:{onAdd:function(_this){return function(obj){return obj.insert([_this.ui_elements.popover_button_prev,_this.ui_elements.popover_button_next,_this.ui_elements.popover_button_end,_this.ui_elements.popover_progress])}}(this)}}),popover_button_prev:new this.UiElement({attributes:{class:this.getNsClasses(["popover-button-previous","button"])},data:{content:translate(this.l10n.previous,this.options.language)},events:{click:function(_this){return function(){return _this._goToStep("previous")}}(this)}}),popover_button_next:new this.UiElement({attributes:{class:this.getNsClasses(["popover-button-next","button"])},data:{content:translate(this.l10n.next,this.options.language)},events:{click:function(_this){return function(){return _this._goToStep("next")}}(this)}}),popover_button_end:new this.UiElement({attributes:{class:this.getNsClasses(["popover-button-end","button"])},data:{content:translate(this.l10n.end,this.options.language)},events:{click:function(_this){return function(){return _this.endTopic()}}(this)}}),popover_branding:new this.UiElement({template:'<a href="%branding_link%" target="_blank"> %content% <span>Inline Manual</span> </a>',attributes:{class:this.getNsClasses(["branding","popover-branding"])},data:{content:this.translate("branding"),branding_link:this.translate("branding_link")}})}},Template=__webpack_require__(13).default,UiElement=function(){function UiElement(options){var ref5;if(null==options&&(options={}),this.changed=!1,this.data={},this.setData(options.data),this.setTemplate(options.template),this.events={},null!=options.events){ref5=options.events;for(key in ref5)val=ref5[key],this.addEvent(key,val)}this.attributes={},null!=options.attributes&&this.setAttributes(options.attributes),this.callbacks={},this.setCallbacks(this.default_callbacks),this.setCallbacks(options.callbacks),this.createNode()}return UiElement.prototype.default_template="<div>%content%</div>",UiElement.prototype.default_callbacks={onCreate:function(){},onAdd:function(){},onRemove:function(){},onStateCheck:function(){return!0}},UiElement.prototype.setData=function(data){null==data&&(data={});for(key in data)val=data[key],this.data[key]!==val&&(this.changed=!0),this.data[key]=val;return this.data},UiElement.prototype.setTemplate=function(template){return null==template&&(template=this.default_template),template!==this.template&&(this.changed=!0),this.template=template},UiElement.prototype.setAttributes=function(attributes){return null==attributes&&(attributes={}),
attributes!=={}&&(this.changed=!0),this.attributes=merge(this.attributes,attributes)},UiElement.prototype.addEvent=function(type,callback){return null==callback&&(callback=noop),this.changed=!0,this.events[type]=callback},UiElement.prototype.setCallbacks=function(callbacks){var results;null==callbacks&&(callbacks={}),results=[];for(key in callbacks)val=callbacks[key],results.push(this.callbacks[key]=val);return results},UiElement.prototype.createNode=function(){var ref5,ref6,template;if(this.changed=!1,this.remove(),template=new Template(this.template,this.data),this.node=template.getDom(),null!=this.node.setAttribute){ref5=this.attributes;for(key in ref5)val=ref5[key],this.node.setAttribute(key,val)}ref6=this.events;for(key in ref6)val=ref6[key],EventBridge.add(this.node,key,val);return this.callbacks.onCreate(this),this.node},UiElement.prototype.getNode=function(){return(this.changed||null==this.node)&&this.createNode(),this.node},UiElement.prototype.add=function(parent_node,ref_node){return null==parent_node&&(parent_node=document.body),null==ref_node&&(ref_node=null),parent_node.insertBefore(this.getNode(),ref_node),this.callbacks.onAdd(this)},UiElement.prototype.insert=function(objects,ref_node){var item,j,len;if(null!=objects)for(isArray(objects)||(objects=[objects]),j=0,len=objects.length;j<len;j++)item=objects[j],null==ref_node&&(ref_node=null),this.getNode().insertBefore(item.getNode(),ref_node),item.callbacks.onAdd(item)},UiElement.prototype.remove=function(){var ref5,ref6;return this.callbacks.onRemove(this),null!=(ref5=this.node)&&null!=(ref6=ref5.parentNode)&&ref6.removeChild(this.node),this.node=null},UiElement.prototype.toggleByState=function(state,parent_node){var ref5;if(state===!0&&this.callbacks.onStateCheck()){if(null==this.node||this.node.parentNode!==parent_node)return this.add(parent_node)}else if(null!=(null!=(ref5=this.node)?ref5.parentNode:void 0))return this.remove()},UiElement.prototype.redraw=function(){var original_node,parent_node,ref_node;return original_node=this.getNode(),parent_node=null!=original_node?original_node.parentNode:void 0,ref_node=original_node.nextSibling,this.remove(),this.add(parent_node,ref_node)},UiElement}(),InlineManualPlayer.prototype.UiElement=UiElement},,,,,,,,,,,,function(module,exports){"use strict";function getRandomCharacter(char_list){var random_position=Math.floor(Math.random()*char_list.length);return char_list.charAt(random_position)}function getPatternCharacter(character){return character in replacements?getRandomCharacter(replacements[character]):character}function validate(id){return pattern_re.test(id)}function generate(){return pattern.split("").map(getPatternCharacter).join("")}Object.defineProperty(exports,"__esModule",{value:!0}),exports.validate=validate,exports.generate=generate;var pattern="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx",replacements={x:"0123456789abcdef",y:"89ab"},pattern_re=/[a-f0-9]{8}-[a-f0-9]{4}-4[a-f0-9]{3}-[89ab][a-f0-9]{3}-[a-f0-9]{12}/},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},_createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_utilities=__webpack_require__(14),default_options={delimiter_start:"%",delimiter_end:"%",delimiter_separator:"|"},Template=function(){function Template(){var content=arguments.length<=0||void 0===arguments[0]?"":arguments[0],data=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],custom_options=arguments.length<=2||void 0===arguments[2]?{}:arguments[2];_classCallCheck(this,Template),this.default_data={},this.data={},this.setData(data),this.content="",this.setContent(content),this.options={},this.setOptions(_extends({},default_options,custom_options))}return _createClass(Template,[{key:"setContent",value:function(){var content=arguments.length<=0||void 0===arguments[0]?"":arguments[0];return this.content=content,this}},{key:"setData",value:function(){var data=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];return _extends(this.data,data),this}},{key:"setOptions",value:function(){var options=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],re_options=["delimiter_start","delimiter_end","delimiter_separator"];return re_options.forEach(function(item){"undefined"!=typeof options[item]&&(options[item]=(0,_utilities.escapeForRegExp)(options[item]))}),_extends(this.options,options),this}},{key:"getHtml",value:function(){var _this=this,result=this.content,placeholders=(0,_utilities.getPlaceholders)(this.content,this.options);return placeholders.forEach(function(placeholder){var _getPlaceholderData=(0,_utilities.getPlaceholderData)(placeholder,_this.options),key=_getPlaceholderData.key,value=_getPlaceholderData.value;"undefined"!=typeof _this.data[key]&&(value=_this.data[key]),"undefined"!=typeof value&&(result=result.replace(placeholder,value))}),result}},{key:"getDom",value:function(){var elm=document.createElement("div");return elm.innerHTML=this.getHtml(),elm.childNodes.length>1?(0,_utilities.getChildrenAsFragment)(elm):elm.childNodes[0]}}]),Template}();exports.default=Template},function(module,exports){"use strict";function escapeForRegExp(content){return content.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")}function getChildrenAsFragment(element){for(var fragment=document.createDocumentFragment(),child_element=void 0;child_element=element.firstChild;)fragment.appendChild(child_element);return fragment}function getPlaceholders(content,_ref){var start=_ref.delimiter_start,end=_ref.delimiter_end,match_re_content=start+"[^"+end+"]+"+end,match_re=new RegExp(match_re_content,"g");return content.match(match_re)||[]}function getPlaceholderData(placeholder,_ref2){var start=_ref2.delimiter_start,end=_ref2.delimiter_end,separator=_ref2.delimiter_separator,item_re_content=[start,"([^"+separator+"]+)","("+separator+")*","(.+)*",end].join(""),item_re=new RegExp(item_re_content),item_matches=placeholder.match(item_re);return{key:item_matches[1],value:item_matches[3]}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.escapeForRegExp=escapeForRegExp,exports.getChildrenAsFragment=getChildrenAsFragment,exports.getPlaceholders=getPlaceholders,exports.getPlaceholderData=getPlaceholderData},function(module,exports){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function validateId(id){return validateInput(id,"string","Invalid ID.")}function validateFunction(fn){return validateInput(fn,"function","Invalid function.")}function validateInput(input,expected_type,message){if(("undefined"==typeof input?"undefined":_typeof(input))!==expected_type)throw new Error("Emitter: "+message);return!0}var _typeof2="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol?"symbol":typeof obj};Object.defineProperty(exports,"__esModule",{value:!0});var _typeof="function"==typeof Symbol&&"symbol"===_typeof2(Symbol.iterator)?function(obj){return"undefined"==typeof obj?"undefined":_typeof2(obj)}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol?"symbol":"undefined"==typeof obj?"undefined":_typeof2(obj)},_createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),Emitter=function(){function Emitter(){_classCallCheck(this,Emitter),this._listeners={}}return _createClass(Emitter,[{key:"add",value:function(id,fn,context){return this._add(id,fn,context,!1)}},{key:"once",value:function(id,fn,context){return this._add(id,fn,context,!0)}},{key:"remove",value:function(id,fn){if(validateId(id)&&validateFunction(fn)){var found_index=-1,category=this._getCategory(id);category.forEach(function(item,i){item.fn===fn&&(found_index=i)}),found_index!==-1&&category.splice(found_index,1)}}},{key:"fire",value:function(id){var _this=this,params=arguments.length<=1||void 0===arguments[1]?[]:arguments[1];validateId(id)&&!function(){var once_functions=[],category=_this._getCategory(id);category.forEach(function(item){item.once===!0&&once_functions.push(item.fn),item.fn.apply(item.context,params)}),once_functions.forEach(function(fn){_this.remove(id,fn)})}()}},{key:"_getCategory",value:function(id){return"undefined"==typeof this._listeners[id]&&(this._listeners[id]=[]),this._listeners[id]}},{key:"_add",value:function(id,fn){var _this2=this,context=arguments.length<=2||void 0===arguments[2]?null:arguments[2],once=arguments[3];return validateId(id)&&validateFunction(fn)&&(this.remove(id,fn),this._getCategory(id).push({fn:fn,context:context,once:once})),{remove:function(){return _this2.remove(id,fn)}}}}]),Emitter}();exports.default=Emitter},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _uuid=__webpack_require__(12),_class=function(){function _class(){_classCallCheck(this,_class),this.reset(),this.id=(0,_uuid.generate)()}return _class.prototype.reset=function(){this.status=!1},_class.prototype.check=function(){return this.status!==!1||(this.status=!0,!1)},_class}();exports.default=_class},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol?"symbol":typeof obj},_safeParseJson=__webpack_require__(18),_class=function(){function _class(){var id=arguments.length<=0||void 0===arguments[0]?"StorageInterface"+(new Date).getTime():arguments[0],onGet=arguments.length<=1||void 0===arguments[1]?function(value){return value}:arguments[1];_classCallCheck(this,_class),this.id=id,this.onGet=onGet}return _class.prototype.get=function(){return this.onGet((0,_safeParseJson.safeParseJson)(localStorage.getItem(this.id)))},_class.prototype.set=function(value){"object"===("undefined"==typeof value?"undefined":_typeof(value))&&(value=JSON.stringify(value)),localStorage.setItem(this.id,value)},_class.prototype.forget=function(){try{return localStorage.removeItem(this.id),!0}catch(error){return!1}},_class}();exports.default=_class},function(module,exports){"use strict";function safeParseJson(data){try{return JSON.parse(data)}catch(error){return data}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.safeParseJson=safeParseJson},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0});var _storageInterface=__webpack_require__(17),_storageInterface2=_interopRequireDefault(_storageInterface),_uuid=__webpack_require__(12),_class=function(_StorageInterface){function _class(){var id=arguments.length<=0||void 0===arguments[0]?(0,_uuid.generate)():arguments[0],onGet=arguments.length<=1||void 0===arguments[1]?function(value){return value}:arguments[1];return _classCallCheck(this,_class),_possibleConstructorReturn(this,_StorageInterface.call(this,id,onGet))}return _inherits(_class,_StorageInterface),_class.prototype.set=function(){_StorageInterface.prototype.set.call(this,this.get()+1)},_class.prototype.get=function(){return _StorageInterface.prototype.get.call(this)||0},_class}(_storageInterface2.default);exports.default=_class},function(module,exports){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var noop=function(){},default_options={check:function(){return!0},interval:100,onStart:noop,onTick:noop,onStop:noop,onFinish:noop},_class=function(){function _class(){var custom_options=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];_classCallCheck(this,_class),this.ticker=null;for(var key in default_options)default_options.hasOwnProperty(key)&&(this[key]=custom_options[key]||default_options[key]);this.reset()}return _class.prototype.tick=function(){this.status=!!this.check(),this.status===!0&&this.finish(),this.onTick(this)},_class.prototype.start=function(){var _this=this;this.ticker=setInterval(function(){return _this.tick()},this.interval),this.tick(),this.onStart(this)},_class.prototype.stop=function(){clearInterval(this.ticker),this.ticker=null,this.onStop(this)},_class.prototype.finish=function(){this.stop(),this.onFinish(this)},_class.prototype.isRunning=function(){return!!this.ticker},_class.prototype.reset=function(){this.status=!1},_class}();exports.default=_class},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function noop(){}function unixToLocalTimestamp(utc){return 1e3*utc}function getFormFieldValue(selector){var elm=(0,_safeQuerySelector.safeQuery)(selector);return elm?elm.value:null}function splitRelativeTime(value){var onError=arguments.length<=1||void 0===arguments[1]?noop:arguments[1],result=null,units=Object.keys(relative_time_units).join("|"),re=new RegExp("^\\s*(\\+|\\-)*\\s*(\\d+)\\s*("+units+")s*\\s*$"),match=re.exec(value);if(null!==match){var _match=_slicedToArray(match,4),sign=(_match[0],_match[1]),_value=_match[2],unit=_match[3];_value=parseInt(_value),"-"===sign&&(_value*=-1),result={value:_value,unit:unit}}else onError("Rule is trying to use invalid date value '"+value+"'.");return result}function parseRelativeTime(value){var onError=arguments.length<=1||void 0===arguments[1]?noop:arguments[1],result=0,data=splitRelativeTime(value,onError);if(null!==data){var multiplier=relative_time_units[data.unit];result=data.value*multiplier}return result}function sanitizeTime(value){var direction=arguments.length<=1||void 0===arguments[1]?1:arguments[1],now=(new Date).getTime();switch("undefined"==typeof value?"undefined":_typeof(value)){case"number":return unixToLocalTimestamp(value);case"string":var distance=parseRelativeTime(value);return now+distance*direction;default:return now}}function negate(fn){return function(){return!fn.apply(null,arguments)}}Object.defineProperty(exports,"__esModule",{value:!0});var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol?"symbol":typeof obj},_slicedToArray=function(){function sliceIterator(arr,i){var _arr=[],_n=!0,_d=!1,_e=void 0;try{for(var _s,_i=arr[Symbol.iterator]();!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{!_n&&_i.return&&_i.return()}finally{if(_d)throw _e}}return _arr}return function(arr,i){if(Array.isArray(arr))return arr;if(Symbol.iterator in Object(arr))return sliceIterator(arr,i);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();exports.splitRelativeTime=splitRelativeTime,exports.parseRelativeTime=parseRelativeTime;var _urlMatch=__webpack_require__(22),_urlMatch2=_interopRequireDefault(_urlMatch),_isVisible=__webpack_require__(34),_isVisible2=_interopRequireDefault(_isVisible),_getNestedProperty=__webpack_require__(31),_getNestedProperty2=_interopRequireDefault(_getNestedProperty),_arrayReducePrototypejsFix=__webpack_require__(39),_arrayReducePrototypejsFix2=_interopRequireDefault(_arrayReducePrototypejsFix),_exists=__webpack_require__(41),_exists2=_interopRequireDefault(_exists),_safeQuerySelector=__webpack_require__(42),relative_time_units={second:1e3,minute:6e4,hour:36e5,day:864e5,week:6048e5,month:2592e6,year:31536e6},eval_method={general:{is_empty:function(a){return!a||0===a.length},is_equal:function(a,b){return a===b}},text:{contains:function(a,b){return a.search(b)!==-1},starts_with:function(a,b){return new RegExp("^"+b).test(a)},ends_with:function(a,b){return new RegExp(b+"$").test(a)},regexp:function(a,b){return new RegExp(b).test(a)}},number:{is_empty:function(a){return!a&&"number"!=typeof a},gt:function(a,b){return a>b},gte:function(a,b){return a>=b},lt:function(a,b){return a<b},lte:function(a,b){return a<=b}},array:{is_equal:function(a,b){function compare(prev,current,index){return current===b[index]}return a.length===b.length&&(0,_arrayReducePrototypejsFix2.default)(a,compare,!0)},contains:function(a,b){return a.indexOf(b)!==-1},contains_all:function(a,b){function not_contains(prev,current){return prev&&a.indexOf(current)!==-1}return(0,_arrayReducePrototypejsFix2.default)(b,not_contains,!0)},contains_any:function(a,b){function contains(prev,current){return prev||a.indexOf(current)!==-1}return(0,_arrayReducePrototypejsFix2.default)(b,contains,!1)}},date:{is_equal:function(a,b){return unixToLocalTimestamp(a)===sanitizeTime(b)},is_within:function(a,b){a=unixToLocalTimestamp(a);var now=(new Date).getTime(),adjustment=parseRelativeTime(b);return now-adjustment<=a&&a<=now+adjustment},is_less_than:function(a,b){return unixToLocalTimestamp(a)<=sanitizeTime(b,1)},is_greater_than:function(a,b){return unixToLocalTimestamp(a)>=sanitizeTime(b,1)}},url:{match:function(a,b){return new _urlMatch2.default(b).test(a)},match_current:function(a,b){var current_url=document.location.toString();return new _urlMatch2.default(b).test(current_url)}},element:{is_equal:function(a,b){return getFormFieldValue(b)===a},gt:function(a,b){var val=getFormFieldValue(b);return val&&Number(a)>Number(val)},gte:function(a,b){var val=getFormFieldValue(b);return val&&Number(a)>=Number(val)},lt:function(a,b){var val=getFormFieldValue(b);return val&&Number(a)<Number(val)},lte:function(a,b){var val=getFormFieldValue(b);return val&&Number(a)<=Number(val)},exists:function(a,b){return!!(0,_safeQuerySelector.safeQuery)(b)},is_visible:function(a,b){return(0,_isVisible2.default)((0,_safeQuerySelector.safeQuery)(b))},contains:function(a,b){var elem=(0,_safeQuerySelector.safeQuery)(b);return a&&elem&&elem.textContent&&elem.textContent.indexOf(a)!=-1},contains_regexp:function(a,b){var elem=(0,_safeQuerySelector.safeQuery)(b);return!!elem.textContent.match(new RegExp(a))},empty:function(a,b){var elem=(0,_safeQuerySelector.safeQuery)(b);return!elem||!elem.textContent}},global:{exists:function(a){return"undefined"!=typeof(0,_getNestedProperty2.default)(window,a)},is_equal:function(a,b){var val=(0,_getNestedProperty2.default)(window,b);return"undefined"!=typeof val&&a===val},gt:function(a,b){var val=(0,_getNestedProperty2.default)(window,b);return"undefined"!=typeof val&&a>val},gte:function(a,b){var val=(0,_getNestedProperty2.default)(window,b);return"undefined"!=typeof val&&a>=val},lt:function(a,b){var val=(0,_getNestedProperty2.default)(window,b);return"undefined"!=typeof val&&a<val},lte:function(a,b){var val=(0,_getNestedProperty2.default)(window,b);return"undefined"!=typeof val&&a<=val}},callback:{equal:function(a,b){var val=(0,_getNestedProperty2.default)(window,b);return!(!val||"function"!=typeof val)&&a===val.apply(window,null)}}},_class=function(){function _class(){var options=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],onError=arguments.length<=1||void 0===arguments[1]?noop:arguments[1];_classCallCheck(this,_class),this.onError=onError,this.options={},this.sanitizeOptions(options)}return _class.prototype.sanitizeOptions=function(){var options=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];this.sanitizeKind(options.kind),this.sanitizeCondition(options.condition),this.sanitizeValue(options.value),this.sanitizeField(options.field),this.options.description=options.description},_class.prototype.sanitizeKind=function(kind){"undefined"==typeof eval_methods[kind]?this.onError("Rule can not be of kind '"+kind+"'."):this.options.kind=kind},_class.prototype.sanitizeCondition=function(condition){var kind=eval_methods[this.options.kind]||{};"undefined"==typeof kind[condition]?this.onError("Rule of kind '"+this.options.kind+"' "+("can not use condition '"+condition+"'.")):this.options.condition=condition},_class.prototype.sanitizeValue=function(value){"undefined"!=typeof value||"empty"===this.options.condition?this.options.value=value:this.onError("Rule must contain a value "+("when condition is '"+this.options.condition+"'."))},_class.prototype.sanitizeField=function(field){"undefined"==typeof field&&"element"!==this.options.kind?this.onError("Rule can not be created without a field."):this.options.field=field},_class.prototype.eval=function(){var data=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],kind=eval_methods[this.options.kind]||{},eval_method=kind[this.options.condition];if("undefined"!=typeof eval_method){var field_value=(0,_exists2.default)(this.options.field)?(0,_getNestedProperty2.default)(data,this.options.field):null;return eval_method(field_value,this.options.value)}return this.onError("Rule is trying to use invalid combination "+("of kind ("+this.options.kind+") ")+("and condition ("+this.options.condition+").")),!1},_class}();exports.default=_class;var eval_methods={text:{empty:eval_method.general.is_empty,equal:eval_method.general.is_equal,contain:eval_method.text.contains,start_with:eval_method.text.starts_with,end_with:eval_method.text.ends_with,match:eval_method.text.regexp,not_empty:negate(eval_method.general.is_empty),not_equal:negate(eval_method.general.is_equal),not_contain:negate(eval_method.text.contains),not_start_with:negate(eval_method.text.starts_with),not_end_with:negate(eval_method.text.ends_with),not_match:negate(eval_method.text.regexp)},number:{empty:eval_method.number.is_empty,equal:eval_method.general.is_equal,greater_than:eval_method.number.gt,greater_than_or_equal:eval_method.number.gte,less_than:eval_method.number.lt,less_than_or_equal:eval_method.number.lte,not_empty:negate(eval_method.number.is_empty),not_equal:negate(eval_method.general.is_equal),not_greater_than:negate(eval_method.number.gt),not_greater_than_or_equal:negate(eval_method.number.gte),not_less_than:negate(eval_method.number.lt),not_less_than_or_equal:negate(eval_method.number.lte)},array:{empty:eval_method.general.is_empty,equal:eval_method.array.is_equal,contain:eval_method.array.contains,contain_all:eval_method.array.contains_all,contain_any:eval_method.array.contains_any,not_empty:negate(eval_method.general.is_empty),not_equal:negate(eval_method.array.is_equal),not_contain:negate(eval_method.array.contains),not_contain_all:negate(eval_method.array.contains_all),not_contain_any:negate(eval_method.array.contains_any)},date:{empty:eval_method.general.is_empty,equal:eval_method.date.is_equal,within:eval_method.date.is_within,less_than:eval_method.date.is_less_than,greater_than:eval_method.date.is_greater_than,not_empty:negate(eval_method.general.is_empty),not_equal:negate(eval_method.date.is_equal),not_within:negate(eval_method.date.is_within),not_less_than:negate(eval_method.date.is_less_than),not_greater_than:negate(eval_method.date.is_greater_than)},url:{match:eval_method.url.match,match_current:eval_method.url.match_current,not_match:negate(eval_method.url.match),not_match_current:negate(eval_method.url.match_current)},element_value:{equal:eval_method.element.is_equal,gt:eval_method.element.gt,gte:eval_method.element.gte,lt:eval_method.element.lt,lte:eval_method.element.lte},element:{exists:eval_method.element.exists,is_visible:eval_method.element.is_visible},global_variable:{exists:eval_method.global.exists,equal:eval_method.global.is_equal,gt:eval_method.global.gt,gte:eval_method.global.gte,lt:eval_method.global.lt,lte:eval_method.global.lte},element_content:{contains:eval_method.element.contains,contains_regexp:eval_method.element.contains_regexp,empty:eval_method.element.empty},callback:{equal:eval_method.callback.equal}}},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _pattern=__webpack_require__(23),_pattern2=_interopRequireDefault(_pattern),_class=function(){function _class(){var patterns=arguments.length<=0||void 0===arguments[0]?[]:arguments[0];_classCallCheck(this,_class),this.patterns=[],this.add(patterns)}return _class.prototype.add=function(){var _this=this,patterns=arguments.length<=0||void 0===arguments[0]?[]:arguments[0];return"string"==typeof patterns&&(patterns=[patterns]),patterns.forEach(function(pattern){_this.patterns.indexOf(pattern)===-1&&_this.patterns.push(pattern)}),this.patterns},_class.prototype.remove=function(){var patterns=arguments.length<=0||void 0===arguments[0]?[]:arguments[0];return"string"==typeof patterns&&(patterns=[patterns]),this.patterns=this.patterns.filter(function(pattern){return patterns.indexOf(pattern)===-1}),this.patterns},_class.prototype.test=function(content){var result=!1;return this.patterns.forEach(function(pattern){var pattern_obj=new _pattern2.default(pattern);pattern_obj.test(content)===!0&&(result=!0)}),result},_class}();exports.default=_class},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _scheme=__webpack_require__(24),_scheme2=_interopRequireDefault(_scheme),_host=__webpack_require__(27),_host2=_interopRequireDefault(_host),_path=__webpack_require__(28),_path2=_interopRequireDefault(_path),_params=__webpack_require__(29),_params2=_interopRequireDefault(_params),_fragment=__webpack_require__(33),_fragment2=_interopRequireDefault(_fragment),_exists=__webpack_require__(26),_exists2=_interopRequireDefault(_exists),split_re=new RegExp("^([a-z]+|\\*)*://(.+@)*([\\w\\*\\.\\-]+)*(\\:\\d+)*(/([^\\?\\#]*))*(\\?([^\\#]*))*(\\#(.*))*"),parts_map={scheme:1,host:3,path:6,params:8,fragment:10},_class=function(){function _class(pattern){_classCallCheck(this,_class),"*"!==pattern&&"<all_urls>"!==pattern||(pattern="*://*/*?*#*"),this.original_pattern=pattern,this.pattern=this.sanitize(pattern),this.url_parts=this.getUrlParts(this.pattern)}return _class.prototype.split=function(){var pattern=arguments.length<=0||void 0===arguments[0]?"":arguments[0],empty_value=arguments.length<=1||void 0===arguments[1]?null:arguments[1],result={},parts=pattern.match(split_re);for(var key in parts_map){var val=parts_map[key];result[key]=(0,_exists2.default)(parts)&&(0,_exists2.default)(parts[val])?parts[val]:empty_value}return result},_class.prototype.getUrlParts=function(){var pattern=arguments.length<=0||void 0===arguments[0]?this.pattern:arguments[0],splits=this.split(pattern);return{scheme:new _scheme2.default(splits.scheme),host:new _host2.default(splits.host),path:new _path2.default(splits.path),params:new _params2.default(splits.params),fragment:new _fragment2.default(splits.fragment)}},_class.prototype.sanitize=function(){var pattern=arguments.length<=0||void 0===arguments[0]?this.original_pattern:arguments[0],universal_pattern="*://*/*?*#*";return"*"!==pattern&&"<all_urls>"!==pattern||(pattern=universal_pattern),pattern},_class.prototype.validate=function(){var url_parts=arguments.length<=0||void 0===arguments[0]?this.url_parts:arguments[0],result=!0;for(var key in url_parts){var val=url_parts[key];val.validate()||(result=!1)}return result},_class.prototype.test=function(url){var _this=this,result=!1;return(0,_exists2.default)(url)&&!function(){result=!0;var splits=_this.split(url);["scheme","host","path","params","fragment"].forEach(function(part){_this.url_parts[part].test(splits[part])||(result=!1)})}(),result},_class}();exports.default=_class},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!==("undefined"==typeof call?"undefined":_typeof(call))&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+("undefined"==typeof superClass?"undefined":_typeof(superClass)));subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol?"symbol":typeof obj};Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_urlPart=__webpack_require__(25),_urlPart2=_interopRequireDefault(_urlPart),_exists=__webpack_require__(26),_exists2=_interopRequireDefault(_exists),_class=function(_UrlPart){
function _class(){return _classCallCheck(this,_class),_possibleConstructorReturn(this,_UrlPart.apply(this,arguments))}return _inherits(_class,_UrlPart),_class.prototype.validate=function(){var pattern=arguments.length<=0||void 0===arguments[0]?this.original_pattern:arguments[0];if((0,_exists2.default)(pattern)){var re=new RegExp("^(\\*|[a-z]+)$");return re.test(pattern)}return!1},_createClass(_class,[{key:"sanitize_replacements",get:function(){return[{substring:"*",replacement:"https?"}]}}]),_class}(_urlPart2.default);exports.default=_class},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_exists=__webpack_require__(26),_exists2=_interopRequireDefault(_exists),_class=function(){function _class(pattern){_classCallCheck(this,_class),this.is_strict=!1,this.original_pattern=pattern,this.pattern=this.sanitize(pattern)}return _class.prototype.validate=function(){var pattern=arguments.length<=0||void 0===arguments[0]?this.original_pattern:arguments[0];if((0,_exists2.default)(pattern)){var result=!0;return this.validate_rules.forEach(function(rule){rule.test(pattern)||(result=!1)}),this.invalidate_rules.forEach(function(rule){rule.test(pattern)&&(result=!1)}),result}return!this.is_required},_class.prototype.test=function(){var content=arguments.length<=0||void 0===arguments[0]?"":arguments[0],pattern=arguments.length<=1||void 0===arguments[1]?this.pattern:arguments[1];return null===content&&(content=""),!(0,_exists2.default)(pattern)||pattern.test(content)},_class.prototype.sanitize=function(){var pattern=arguments.length<=0||void 0===arguments[0]?this.original_pattern:arguments[0];return(0,_exists2.default)(pattern)||(pattern=this.default_value),(0,_exists2.default)(pattern)&&this.validate(pattern)?(this.sanitize_replacements.forEach(function(_ref){var substring=_ref.substring,replacement=_ref.replacement;pattern=pattern.replace(substring,replacement)}),new RegExp("^"+pattern+"$")):null},_createClass(_class,[{key:"default_value",get:function(){return null}},{key:"is_required",get:function(){return!0}},{key:"validate_rules",get:function(){return[]}},{key:"invalidate_rules",get:function(){return[]}},{key:"sanitize_replacements",get:function(){return[]}}]),_class}();exports.default=_class},function(module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(val){return"undefined"!=typeof val&&null!==val}},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!==("undefined"==typeof call?"undefined":_typeof(call))&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+("undefined"==typeof superClass?"undefined":_typeof(superClass)));subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol?"symbol":typeof obj};Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_urlPart=__webpack_require__(25),_urlPart2=_interopRequireDefault(_urlPart),_class=function(_UrlPart){function _class(){return _classCallCheck(this,_class),_possibleConstructorReturn(this,_UrlPart.apply(this,arguments))}return _inherits(_class,_UrlPart),_createClass(_class,[{key:"validate_rules",get:function(){return[/.+/]}},{key:"invalidate_rules",get:function(){return[/\*\*/,/\*[^\.]+/,/.\*/,/^(\.|-)/,/(\.|-)$/,/[^a-z0-9-.\*]/]}},{key:"sanitize_replacements",get:function(){return[{substring:/^\*\./,replacement:"(*.)?"},{substring:".",replacement:"\\."},{substring:"*",replacement:"[a-z0-9-.]+"}]}}]),_class}(_urlPart2.default);exports.default=_class},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!==("undefined"==typeof call?"undefined":_typeof(call))&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+("undefined"==typeof superClass?"undefined":_typeof(superClass)));subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol?"symbol":typeof obj};Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_urlPart=__webpack_require__(25),_urlPart2=_interopRequireDefault(_urlPart),_class=function(_UrlPart){function _class(){return _classCallCheck(this,_class),_possibleConstructorReturn(this,_UrlPart.apply(this,arguments))}return _inherits(_class,_UrlPart),_createClass(_class,[{key:"default_value",get:function(){return""}},{key:"sanitize_replacements",get:function(){return[{substring:/\/$/,replacement:"\\/?"},{substring:/\/\*$/,replacement:"((/?)|/*)"},{substring:/\*/g,replacement:"[a-zA-Z0-9-./_]*"}]}}]),_class}(_urlPart2.default);exports.default=_class},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!==("undefined"==typeof call?"undefined":_typeof(call))&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+("undefined"==typeof superClass?"undefined":_typeof(superClass)));subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol?"symbol":typeof obj};Object.defineProperty(exports,"__esModule",{value:!0});var _slicedToArray=function(){function sliceIterator(arr,i){var _arr=[],_n=!0,_d=!1,_e=void 0;try{for(var _s,_i=arr[Symbol.iterator]();!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{!_n&&_i.return&&_i.return()}finally{if(_d)throw _e}}return _arr}return function(arr,i){if(Array.isArray(arr))return arr;if(Symbol.iterator in Object(arr))return sliceIterator(arr,i);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),_createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_urlPart=__webpack_require__(25),_urlPart2=_interopRequireDefault(_urlPart),_exists=__webpack_require__(26),_exists2=_interopRequireDefault(_exists),_arrayReducePrototypejsFix=__webpack_require__(30),_arrayReducePrototypejsFix2=_interopRequireDefault(_arrayReducePrototypejsFix),_class=function(_UrlPart){function _class(){return _classCallCheck(this,_class),_possibleConstructorReturn(this,_UrlPart.apply(this,arguments))}return _inherits(_class,_UrlPart),_class.prototype.sanitize=function(){var pattern=arguments.length<=0||void 0===arguments[0]?this.original_pattern:arguments[0];"string"==typeof pattern&&"!"===pattern.substring(0,1)&&(pattern=pattern.substring(1),this.is_strict=!0),"*"!==pattern&&""!==pattern||(pattern=null);var result=[];return(0,_exists2.default)(pattern)&&pattern.split("&").forEach(function(pair){var _pair$split=pair.split("="),_pair$split2=_slicedToArray(_pair$split,2),key=_pair$split2[0],val=_pair$split2[1];key="*"===key?".+":key.replace(/\*/g,".*"),val=(0,_exists2.default)(val)&&""!==val?"*"===val?"=?.*":"="+val.replace(/\*/g,".*"):"=?",val=val.replace(/[\[\](){}]/g,"\\$&"),result.push(key+val)}),result},_class.prototype.test=function(){var content=arguments.length<=0||void 0===arguments[0]?"":arguments[0],patterns=arguments.length<=1||void 0===arguments[1]?this.pattern:arguments[1],result=!0;return(0,_exists2.default)(patterns)&&(result=(0,_arrayReducePrototypejsFix2.default)(patterns,function(previous_result,pattern){var re=new RegExp("(^|&)"+pattern+"(&|$)");return previous_result&&re.test(content)},result),this.is_strict===!0&&("string"==typeof content?!function(){var wrapped_patterns=patterns.map(function(pattern){return"("+pattern+")"}).join("|"),re=new RegExp("(^|&)("+wrapped_patterns+")(&|$)");result=(0,_arrayReducePrototypejsFix2.default)(content.split("&"),function(previous_result,pair){return previous_result&&re.test(pair)},result)}():result=!1)),result},_createClass(_class,[{key:"is_required",get:function(){return!1}},{key:"invalidate_rules",get:function(){return[/==/,/=[^&]+=/,/^=$/]}}]),_class}(_urlPart2.default);exports.default=_class},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function isOldPrototype(){if("undefined"==typeof window)return!1;var prototype_version=(0,_getNestedProperty2.default)(window,"Prototype.Version");if("string"==typeof prototype_version){var parts=prototype_version.split(".").map(function(item){return parseInt(item,10)});if(parts[0]<1||1===parts[0]&&parts[1]<7)return!0}return!1}function arrayReduce(){for(var array=arguments.length<=0||void 0===arguments[0]?[]:arguments[0],arrayReduce=isOldPrototype()?_arrayReducePolyfill2.default:Array.prototype.reduce,_len=arguments.length,params=Array(_len>1?_len-1:0),_key=1;_key<_len;_key++)params[_key-1]=arguments[_key];return arrayReduce.apply(array,params)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=arrayReduce;var _getNestedProperty=__webpack_require__(31),_getNestedProperty2=_interopRequireDefault(_getNestedProperty),_arrayReducePolyfill=__webpack_require__(32),_arrayReducePolyfill2=_interopRequireDefault(_arrayReducePolyfill)},function(module,exports){"use strict";function getNestedProperty(){var data=arguments.length<=0||void 0===arguments[0]?window:arguments[0],path=arguments.length<=1||void 0===arguments[1]?"":arguments[1],default_value=arguments[2];if(Array.isArray(path)&&(path=path.join(".")),"string"!=typeof path)throw new TypeError('getNestedProperty: Provided path must be String or Array (is "'+path+'").');var _ret=function(){var result=data;return""!==path&&path.split(".").forEach(function(segment){result="undefined"!=typeof result&&"undefined"!=typeof result[segment]?result[segment]:void 0}),{v:"undefined"==typeof result?default_value:result}}();if("object"===("undefined"==typeof _ret?"undefined":_typeof(_ret)))return _ret.v}Object.defineProperty(exports,"__esModule",{value:!0});var _typeof2="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol?"symbol":typeof obj};exports.default=getNestedProperty;var _typeof="function"==typeof Symbol&&"symbol"===_typeof2(Symbol.iterator)?function(obj){return"undefined"==typeof obj?"undefined":_typeof2(obj)}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol?"symbol":"undefined"==typeof obj?"undefined":_typeof2(obj)}},function(module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(callback){if(null==this)throw new TypeError("Array.prototype.reduce called on null or undefined");if("function"!=typeof callback)throw new TypeError(callback+" is not a function");var value,t=Object(this),len=t.length>>>0,k=0;if(2==arguments.length)value=arguments[1];else{for(;k<len&&!(k in t);)k++;if(k>=len)throw new TypeError("Reduce of empty array with no initial value");value=t[k++]}for(;k<len;k++)k in t&&(value=callback(value,t[k],k,t));return value}},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!==("undefined"==typeof call?"undefined":_typeof(call))&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+("undefined"==typeof superClass?"undefined":_typeof(superClass)));subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol?"symbol":typeof obj};Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_urlPart=__webpack_require__(25),_urlPart2=_interopRequireDefault(_urlPart),_class=function(_UrlPart){function _class(){return _classCallCheck(this,_class),_possibleConstructorReturn(this,_UrlPart.apply(this,arguments))}return _inherits(_class,_UrlPart),_createClass(_class,[{key:"is_required",get:function(){return!1}},{key:"invalidate_rules",get:function(){return[/#/]}},{key:"sanitize_replacements",get:function(){return[{substring:/\*/g,replacement:".*"},{substring:/\?/g,replacement:"\\?"},{substring:/\//g,replacement:"\\/"}]}}]),_class}(_urlPart2.default);exports.default=_class},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function getStyle(element,property){return window.getComputedStyle?(0,_styleProperties.getStyleProperty)(element,property).original:element.currentStyle?element.currentStyle[property]:null}function checkVisibility(element){var is_displayed="none"!==getStyle(element,"display"),is_visible="hidden"!==getStyle(element,"visibility");return is_displayed&&is_visible}function isVisible(element){if(!(0,_iselement2.default)(element))return!1;var body_element=document.querySelector("body"),html_element=document.querySelector("html");if(!body_element||!body_element.contains(element))return!1;for(;element&&element!==body_element&&element!==html_element;){if(!checkVisibility(element))return!1;element=element.parentNode}return!0}function isVisibleAll(list){for(var i=0;i<list.length;i++)if(!isVisible(list[i]))return!1;return!0}function isVisibleAny(list){for(var i=0;i<list.length;i++)if(isVisible(list[i]))return!0;return!1}Object.defineProperty(exports,"__esModule",{value:!0}),exports.isVisible=isVisible,exports.isVisibleAll=isVisibleAll,exports.isVisibleAny=isVisibleAny;var _iselement=__webpack_require__(35),_iselement2=_interopRequireDefault(_iselement),_styleProperties=__webpack_require__(36);exports.default=isVisible},function(module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _typeof2="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol?"symbol":typeof obj};exports.default=function(input){return null!=input&&"object"===("undefined"==typeof input?"undefined":_typeof(input))&&1===input.nodeType&&"object"===_typeof(input.style)&&"object"===_typeof(input.ownerDocument)};var _typeof="function"==typeof Symbol&&"symbol"===_typeof2(Symbol.iterator)?function(obj){return"undefined"==typeof obj?"undefined":_typeof2(obj)}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol?"symbol":"undefined"==typeof obj?"undefined":_typeof2(obj)}},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function fixWebcomponentsElement(element){if("undefined"!=typeof window.ShadowDOMPolyfill){var is_native=document.defaultView.getComputedStyle.toString().indexOf("[native code]")!==-1,is_wrapped="undefined"!=typeof element.__impl4cf1e782hg__;is_native&&is_wrapped&&(element=window.ShadowDOMPolyfill.unwrap(element)),is_native||is_wrapped||(element=window.ShadowDOMPolyfill.wrap(element))}return element}function getStyleProperty(element,property){property=(0,_changeCase.toKebabCase)(property),element=fixWebcomponentsElement(element);var value=document.defaultView.getComputedStyle(element,null).getPropertyValue(property);return(0,_parsePropertyValue2.default)(value)}function getStyleProperties(element){var properties=arguments.length<=1||void 0===arguments[1]?[]:arguments[1];"string"==typeof properties&&(properties=[properties]);var result={};return properties.forEach(function(property){result[property]=getStyleProperty(element,property)}),result}Object.defineProperty(exports,"__esModule",{value:!0}),exports.getStyleProperty=getStyleProperty,exports.getStyleProperties=getStyleProperties;var _changeCase=__webpack_require__(37),_parsePropertyValue=__webpack_require__(38),_parsePropertyValue2=_interopRequireDefault(_parsePropertyValue)},function(module,exports){"use strict";function toCamelCase(){for(var input=arguments.length<=0||void 0===arguments[0]?"":arguments[0],characters=input.split(""),result=[],character=void 0;character=characters.shift();)delimiters.indexOf(character)!==-1&&(character=characters.shift())&&(character=character.toUpperCase()),result.push(character);return result.join("")}function toKebabCase(){var input=arguments.length<=0||void 0===arguments[0]?"":arguments[0],characters=input.split(""),result=[];return characters.forEach(function(character){var lowercase_character=character.toLowerCase();character!==lowercase_character?result.push("-",lowercase_character):delimiters.indexOf(character)!==-1?result.push("-"):result.push(character)}),result.join("")}Object.defineProperty(exports,"__esModule",{value:!0}),exports.toCamelCase=toCamelCase,exports.toKebabCase=toKebabCase;var delimiters=[" ","-","_"]},function(module,exports){"use strict";function convertColorComponent(input){var result=input.toString(16);return result.length<2&&(result="0"+result),result}function parseColorProperty(value){var matches=value.match(re_color),result={};return result.unit="rgb",result.value=[parseInt(matches[1],10),parseInt(matches[2],10),parseInt(matches[3],10)],result.output="#"+convertColorComponent(result.value[0])+convertColorComponent(result.value[1])+convertColorComponent(result.value[2]),result}function parseRegularProperty(value){var result={unit:"",value:null,output:"auto"};if("auto"!==value){var matches=value.match(re_prop);result.value=parseFloat(matches[1]),result.unit=matches[2],result.output=result.value+result.unit}return result}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(value){var result=re_color.test(value)?parseColorProperty(value):parseRegularProperty(value);return result.original=value,result};var re_color=/^rgb\((\d+),\s?(\d+),\s?(\d+)\)$/,re_prop=/^(-?\d*\.?\d*)(.*)$/},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function isOldPrototype(){if("undefined"==typeof window)return!1;var prototype_version=(0,_getNestedProperty2.default)(window,"Prototype.Version");if("string"==typeof prototype_version){var parts=prototype_version.split(".").map(function(item){return parseInt(item,10)});if(parts[0]<1||1===parts[0]&&parts[1]<7)return!0}return!1}function arrayReduce(){for(var array=arguments.length<=0||void 0===arguments[0]?[]:arguments[0],arrayReduce=isOldPrototype()?_arrayReducePolyfill2.default:Array.prototype.reduce,_len=arguments.length,params=Array(_len>1?_len-1:0),_key=1;_key<_len;_key++)params[_key-1]=arguments[_key];return arrayReduce.apply(array,params)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=arrayReduce;var _getNestedProperty=__webpack_require__(31),_getNestedProperty2=_interopRequireDefault(_getNestedProperty),_arrayReducePolyfill=__webpack_require__(40),_arrayReducePolyfill2=_interopRequireDefault(_arrayReducePolyfill)},function(module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(callback){if(null==this)throw new TypeError("Array.prototype.reduce called on null or undefined");if("function"!=typeof callback)throw new TypeError(callback+" is not a function");var value,t=Object(this),len=t.length>>>0,k=0;if(2==arguments.length)value=arguments[1];else{for(;k<len&&!(k in t);)k++;if(k>=len)throw new TypeError("Reduce of empty array with no initial value");value=t[k++]}for(;k<len;k++)k in t&&(value=callback(value,t[k],k,t));return value}},function(module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(value){return null!==value&&void 0!==value}},function(module,exports){"use strict";function constructQueryFunction(method,default_value){return function(selector){var root=arguments.length<=1||void 0===arguments[1]?document:arguments[1];try{return root[method](selector)}catch(error){return default_value}}}Object.defineProperty(exports,"__esModule",{value:!0});exports.safeQuery=constructQueryFunction("querySelector",null),exports.safeQueryAll=constructQueryFunction("querySelectorAll",[])},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function isCyclicDependency(original,current){var data=arguments.length<=2||void 0===arguments[2]?{}:arguments[2],is_first=!(arguments.length<=3||void 0===arguments[3])&&arguments[3];if(original===current&&is_first===!1)return!0;var ref=data[current];return!(!(0,_exists2.default)(ref)||"ruleset"!==ref.type)&&(0,_arrayReducePrototypejsFix2.default)(data[current].rules,function(previous_result,item){return previous_result||isCyclicDependency(original,item,data)},!1)}function containsCyclicRulesets(){var rules=arguments.length<=0||void 0===arguments[0]?[]:arguments[0],data=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];return(0,_arrayReducePrototypejsFix2.default)(rules,function(previous_result,item){return previous_result||isCyclicDependency(item,item,data,!0)},!1)}Object.defineProperty(exports,"__esModule",{value:!0});var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol?"symbol":typeof obj},_rule=__webpack_require__(21),_rule2=_interopRequireDefault(_rule),_getNestedProperty=__webpack_require__(31),_getNestedProperty2=_interopRequireDefault(_getNestedProperty),_exists=__webpack_require__(41),_exists2=_interopRequireDefault(_exists),_arrayReducePrototypejsFix=__webpack_require__(39),_arrayReducePrototypejsFix2=_interopRequireDefault(_arrayReducePrototypejsFix),noop=function(){},eval_methods={or:function(rules,data){return(0,_arrayReducePrototypejsFix2.default)(rules,function(prev,current){return prev||current.eval(data)},!1)},and:function(rules,data){return(0,_arrayReducePrototypejsFix2.default)(rules,function(prev,current){return prev&&current.eval(data)},!0)}},Ruleset=function(){function Ruleset(){var options=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],onError=arguments.length<=1||void 0===arguments[1]?noop:arguments[1];_classCallCheck(this,Ruleset),this.onError=onError,this.rules=[],this.operation="and",this.description=null,this.getRules=function(){return{}},this.setOptions(options)}return Ruleset.prototype.setOptions=function(){var options=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];this.setDescription(options.description),this.setOperation(options.operation),this.setRules(options.rules),this.setRulesGetter(options.getRules)},Ruleset.prototype.setDescription=function(description){"string"==typeof description?this.description=description:this.onError("Ruleset can not use description '"+description+"'.")},Ruleset.prototype.setOperation=function(operation){(0,_exists2.default)(eval_methods[operation])?this.operation=operation:this.onError("Ruleset can not use operation '"+operation+"'.")},Ruleset.prototype.setRules=function(rules){(0,_exists2.default)(rules)&&(Array.isArray(rules)?this.rules=rules:this.onError("Ruleset can not use '"+rules+"' as rules list."))},Ruleset.prototype.setRulesGetter=function(fn){"function"==typeof fn?this.getRules=fn:this.onError("Ruleset can not use '"+fn+"' as rules getter.")},Ruleset.prototype.sanitizeRule=function(rule){var ref_rules=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];return"string"==typeof rule&&(rule=(0,_getNestedProperty2.default)(ref_rules,rule)),(0,_exists2.default)(rule)&&"object"===("undefined"==typeof rule?"undefined":_typeof(rule))&&("rule"===rule.type&&(rule=new _rule2.default(rule)),"ruleset"===rule.type&&(rule.getRules=this.getRules,rule=new Ruleset(rule))),rule instanceof _rule2.default||rule instanceof Ruleset?rule:(this.onError("Rule '"+rule+"' does not exist."),null)},Ruleset.prototype.sanitizeRules=function(){var _this=this,ref_rules=this.getRules();return containsCyclicRulesets(this.rules,ref_rules)?(this.onError("Ruleset contains cyclic rules."),null):this.rules.map(function(rule){return _this.sanitizeRule(rule,ref_rules)})},Ruleset.prototype.eval=function(){var data=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],rules=this.sanitizeRules();return null!==rules&&(0===rules.length||eval_methods[this.operation](rules,data))},Ruleset}();exports.default=Ruleset},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function containsProtocol(){var url=arguments.length<=0||void 0===arguments[0]?"":arguments[0];return/:\/\//.test(url)}function sanitizeUrl(){var url=arguments.length<=0||void 0===arguments[0]?"":arguments[0],base_path=arguments.length<=1||void 0===arguments[1]?"":arguments[1],result=url;return containsProtocol(url)||null===base_path||(result=[base_path.replace(/\/$/,""),url.replace(/^\//,"")].join("/")),result}function sanitizeUrls(){var urls=arguments.length<=0||void 0===arguments[0]?[]:arguments[0],base_path=arguments.length<=1||void 0===arguments[1]?"":arguments[1];return"string"==typeof urls&&(urls=[urls]),urls.map(function(url){return sanitizeUrl(url,base_path)})}function testUrl(){var patterns=arguments.length<=0||void 0===arguments[0]?[]:arguments[0],url=arguments.length<=1||void 0===arguments[1]?document.location:arguments[1];"string"!=typeof url&&(url=url.toString()),"string"==typeof patterns&&(patterns=[patterns]),patterns=patterns.map(function(pattern){return""!==pattern&&"*"!==pattern||(pattern="*://*/*"),containsProtocol(pattern)||(pattern="*://*"+pattern),pattern});var url_match=new _urlMatch2.default(patterns);return url_match.test(url)}function getUrlParams(){var url=arguments.length<=0||void 0===arguments[0]?document.location:arguments[0],result={};if("string"==typeof url){var link_element=document.createElement("a");link_element.setAttribute("href",url),url=link_element}return""!==url.search&&url.search.replace(/^\?/,"").split("&").forEach(function(pair){var _pair$split=pair.split("="),_pair$split2=_slicedToArray(_pair$split,2),key=_pair$split2[0],val=_pair$split2[1];""!==key&&(result[key]=val||null)}),result}Object.defineProperty(exports,"__esModule",{value:!0});var _slicedToArray=function(){function sliceIterator(arr,i){var _arr=[],_n=!0,_d=!1,_e=void 0;try{for(var _s,_i=arr[Symbol.iterator]();!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{!_n&&_i.return&&_i.return()}finally{if(_d)throw _e}}return _arr}return function(arr,i){
if(Array.isArray(arr))return arr;if(Symbol.iterator in Object(arr))return sliceIterator(arr,i);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();exports.containsProtocol=containsProtocol,exports.sanitizeUrl=sanitizeUrl,exports.sanitizeUrls=sanitizeUrls,exports.testUrl=testUrl,exports.getUrlParams=getUrlParams;var _urlMatch=__webpack_require__(22),_urlMatch2=_interopRequireDefault(_urlMatch)},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(callback){if("string"==typeof callback){var path=callback.replace(/^window\./,"");callback=(0,_getNestedProperty2.default)(window,path)}return"function"==typeof callback?callback:noop};var _getNestedProperty=__webpack_require__(31),_getNestedProperty2=_interopRequireDefault(_getNestedProperty),noop=function(){}},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(selector){var found_element=new _elementCollector2.default(selector).get()[0];if((0,_exists2.default)(found_element)){var element_box=_theDomBox2.default.getBox(found_element),viewport_box=_theDomBox2.default.getBox("viewport");_theDomBox2.default.contains(viewport_box,element_box)||found_element.scrollIntoView()}};var _elementCollector=__webpack_require__(47),_elementCollector2=_interopRequireDefault(_elementCollector),_theDomBox=__webpack_require__(50),_theDomBox2=_interopRequireDefault(_theDomBox),_exists=__webpack_require__(41),_exists2=_interopRequireDefault(_exists)},function(module,exports,__webpack_require__){"use strict";function _interopRequireWildcard(obj){if(obj&&obj.__esModule)return obj;var newObj={};if(null!=obj)for(var key in obj)Object.prototype.hasOwnProperty.call(obj,key)&&(newObj[key]=obj[key]);return newObj.default=obj,newObj}function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function getGetterMethod(item){switch((0,_getType2.default)(item)){case"node":return"getByNode";case"collection":return"getByCollection";case"selector":return"getBySelector";case"function":return"getByFunction";default:return null}}function getAllChildren(node,items){return(0,_arrayReducePrototypejsFix2.default)(items,function(result,item){var getter_method=getGetterMethod(item);if(getter_method){var found_items=get_methods[getter_method](node,item);result=result.concat(found_items)}return result},[])}function getUniqueChildren(node,items){return(0,_arrayReducePrototypejsFix2.default)(items,function(result,item){var is_child=node.contains(item),is_unique=result.indexOf(item)===-1;return is_child&&is_unique&&result.push(item),result},[])}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_getType=__webpack_require__(48),_getType2=_interopRequireDefault(_getType),_arrayReducePrototypejsFix=__webpack_require__(39),_arrayReducePrototypejsFix2=_interopRequireDefault(_arrayReducePrototypejsFix),_getByType=__webpack_require__(49),get_methods=_interopRequireWildcard(_getByType),_class=function(){function _class(item){_classCallCheck(this,_class),this.items=[],"undefined"!=typeof item&&this.add(item)}return _createClass(_class,[{key:"add",value:function(item){var _this=this;if((0,_getType.isArray)(item))item.forEach(function(item){return _this.add(item)});else{var is_unique=this.items.indexOf(item)===-1,is_valid_type=(0,_getType2.default)(item);is_unique&&is_valid_type&&this.items.push(item)}}},{key:"remove",value:function(item){var _this2=this;if((0,_getType.isArray)(item))item.forEach(function(item){return _this2.remove(item)});else{var position=this.items.indexOf(item);position!==-1&&this.items.splice(position,1)}}},{key:"reset",value:function(){this.items=[]}},{key:"set",value:function(item){this.reset(),this.add(item)}},{key:"get",value:function(){var node=arguments.length<=0||void 0===arguments[0]?document.body:arguments[0];if(!node||!node.contains)return[];var found=getAllChildren(node,this.items);return getUniqueChildren(node,found)}}]),_class}();exports.default=_class},function(module,exports){"use strict";function isNode(item){return!!item&&1===item.nodeType}function isArray(item){return"[object Array]"===Object.prototype.toString.call(item)}function isCollection(item){return"[object NodeList]"===Object.prototype.toString.call(item)}function isEnumerable(item){return isArray(item)||isCollection(item)}function isSelector(item){if(!item)return!1;try{document.querySelector(item)}catch(error){return!1}return!0}function isFunction(item){return"function"==typeof item}Object.defineProperty(exports,"__esModule",{value:!0}),exports.isNode=isNode,exports.isArray=isArray,exports.isCollection=isCollection,exports.isEnumerable=isEnumerable,exports.isSelector=isSelector,exports.isFunction=isFunction,exports.default=function(item){return isNode(item)?"node":isCollection(item)?"collection":isArray(item)?"array":isSelector(item)?"selector":isFunction(item)?"function":null}},function(module,exports,__webpack_require__){"use strict";function getByNode(root,node){return[node]}function getByCollection(root,collection){return[].slice.call(collection)}function getBySelector(root,selector){var collection=root.querySelectorAll(selector);return getByCollection(root,collection)}function getByFunction(root,fn){var result=fn(root);return(0,_getType.isEnumerable)(result)||(result=[result]),result.map(function(item){return(0,_getType.isNode)(item)}),result}Object.defineProperty(exports,"__esModule",{value:!0}),exports.getByNode=getByNode,exports.getByCollection=getByCollection,exports.getBySelector=getBySelector,exports.getByFunction=getByFunction;var _getType=__webpack_require__(48)},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var _getBox=__webpack_require__(51),_getBox2=_interopRequireDefault(_getBox),_getDistance=__webpack_require__(60),_getDistance2=_interopRequireDefault(_getDistance),_getOverlap=__webpack_require__(63),_getOverlap2=_interopRequireDefault(_getOverlap),_detectOverlap=__webpack_require__(64),_detectOverlap2=_interopRequireDefault(_detectOverlap),_getPivotAngle=__webpack_require__(65),_getPivotAngle2=_interopRequireDefault(_getPivotAngle),_moveInside=__webpack_require__(66),_moveInside2=_interopRequireDefault(_moveInside),_contains=__webpack_require__(67),_contains2=_interopRequireDefault(_contains),_canContain=__webpack_require__(68),_canContain2=_interopRequireDefault(_canContain),_canCoexist=__webpack_require__(69),_canCoexist2=_interopRequireDefault(_canCoexist),_canFitAround=__webpack_require__(70),_canFitAround2=_interopRequireDefault(_canFitAround),_findClosest=__webpack_require__(73),_findClosest2=_interopRequireDefault(_findClosest),_fitAround=__webpack_require__(74),_fitAround2=_interopRequireDefault(_fitAround),_shrinkToFit=__webpack_require__(75),_shrinkToFit2=_interopRequireDefault(_shrinkToFit),_align=__webpack_require__(76),_align2=_interopRequireDefault(_align),_touch=__webpack_require__(77),_touch2=_interopRequireDefault(_touch);module.exports={getBox:_getBox2.default,getDistance:_getDistance2.default,getOverlap:_getOverlap2.default,detectOverlap:_detectOverlap2.default,getPivotAngle:_getPivotAngle2.default,moveInside:_moveInside2.default,contains:_contains2.default,canContain:_canContain2.default,canCoexist:_canCoexist2.default,canFitAround:_canFitAround2.default,findClosest:_findClosest2.default,fitAround:_fitAround2.default,shrinkToFit:_shrinkToFit2.default,align:_align2.default,touch:_touch2.default}},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function isDocument(input){return"document"===input||input===document||input===document.body||input===document.documentElement}function isCollection(input){var string_representation=Object.prototype.toString.call(input);return"[object NodeList]"===string_representation||"[object HTMLCollection]"===string_representation||"[object Array]"===string_representation}function getBox(input){return"viewport"===input?new _viewport2.default:isDocument(input)?new _document2.default:isCollection(input)?new _collection2.default(input):(0,_iselement2.default)(input)?new _element2.default(input):new _generic2.default(input)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=getBox;var _iselement=__webpack_require__(52),_iselement2=_interopRequireDefault(_iselement),_generic=__webpack_require__(53),_generic2=_interopRequireDefault(_generic),_element=__webpack_require__(54),_element2=_interopRequireDefault(_element),_collection=__webpack_require__(56),_collection2=_interopRequireDefault(_collection),_document=__webpack_require__(58),_document2=_interopRequireDefault(_document),_viewport=__webpack_require__(59),_viewport2=_interopRequireDefault(_viewport)},function(module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _typeof2="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol?"symbol":typeof obj};exports.default=function(input){return null!=input&&"object"===("undefined"==typeof input?"undefined":_typeof(input))&&1===input.nodeType&&"object"===_typeof(input.style)&&"object"===_typeof(input.ownerDocument)};var _typeof="function"==typeof Symbol&&"symbol"===_typeof2(Symbol.iterator)?function(obj){return"undefined"==typeof obj?"undefined":_typeof2(obj)}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol?"symbol":"undefined"==typeof obj?"undefined":_typeof2(obj)}},function(module,exports){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _typeof2="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol?"symbol":typeof obj},_typeof="function"==typeof Symbol&&"symbol"===_typeof2(Symbol.iterator)?function(obj){return"undefined"==typeof obj?"undefined":_typeof2(obj)}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol?"symbol":"undefined"==typeof obj?"undefined":_typeof2(obj)},_createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),Box=function(){function Box(){var input=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];_classCallCheck(this,Box),this.left=0,this.top=0,this.width=0,this.height=0,this.input=input,this.update()}return _createClass(Box,[{key:"set",value:function(){var properties=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];if("object"===("undefined"==typeof properties?"undefined":_typeof(properties))&&null!==properties)for(var _arr=["left","top","width","height"],_i=0;_i<_arr.length;_i++){var property=_arr[_i];"undefined"!=typeof properties[property]&&(this[property]=properties[property])}return this.get()}},{key:"get",value:function(){return{left:this.left,top:this.top,right:this.right,bottom:this.bottom,width:this.width,height:this.height}}},{key:"update",value:function(){return this.set(this.input)}},{key:"pad",value:function(){var padding=arguments.length<=0||void 0===arguments[0]?0:arguments[0];return this.padHorizontal(padding),this.padVertical(padding),this.get()}},{key:"padHorizontal",value:function(){var padding=arguments.length<=0||void 0===arguments[0]?0:arguments[0];return this.left-=padding,this.width+=2*padding,this.get()}},{key:"padVertical",value:function(){var padding=arguments.length<=0||void 0===arguments[0]?0:arguments[0];return this.top-=padding,this.height+=2*padding,this.get()}},{key:"moveTo",value:function(left,top){return"number"==typeof left&&(this.left=left),"number"==typeof top&&(this.top=top),this.get()}},{key:"movePivotTo",value:function(left,top){return"number"!=typeof left&&(left=this.pivot.left),"number"!=typeof top&&(top=this.pivot.top),this.moveTo(left-this.width/2,top-this.height/2),this.get()}},{key:"moveBy",value:function(horizontal,vertical){return"number"==typeof horizontal&&(this.left=this.left+horizontal),"number"==typeof vertical&&(this.top=this.top+vertical),this.get()}},{key:"resizeTo",value:function(width,height){return"number"==typeof width&&(this.width=width),"number"==typeof height&&(this.height=height),this.get()}},{key:"resizeBy",value:function(horizontal,vertical){return"number"==typeof horizontal&&(this.width+=horizontal),"number"==typeof vertical&&(this.height+=vertical),this.get()}},{key:"toString",value:function(){var pretty=!(arguments.length<=0||void 0===arguments[0])&&arguments[0],indent=pretty===!0?2:0;return JSON.stringify(this.get(),null,indent)}},{key:"right",get:function(){return this.left+this.width}},{key:"bottom",get:function(){return this.top+this.height}},{key:"pivot",get:function(){return{left:this.left+this.width/2,top:this.top+this.height/2}}}]),Box}();exports.default=Box},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!==("undefined"==typeof call?"undefined":_typeof(call))&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+("undefined"==typeof superClass?"undefined":_typeof(superClass)));subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0});var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol?"symbol":typeof obj},_generic=__webpack_require__(53),_generic2=_interopRequireDefault(_generic),_getScrollPosition=__webpack_require__(55),_getScrollPosition2=_interopRequireDefault(_getScrollPosition),_createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_class=function(_Box){function _class(){return _classCallCheck(this,_class),_possibleConstructorReturn(this,(_class.__proto__||Object.getPrototypeOf(_class)).apply(this,arguments))}return _inherits(_class,_Box),_createClass(_class,[{key:"update",value:function(){var bounding_box=this.input.getBoundingClientRect(),scroll_position=(0,_getScrollPosition2.default)();return this.set({width:bounding_box.width,height:bounding_box.height,left:scroll_position.left+bounding_box.left,top:scroll_position.top+bounding_box.top})}}]),_class}(_generic2.default);exports.default=_class},function(module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(){return"undefined"!=typeof window.pageXOffset&&"undefined"!=typeof window.pageYOffset?{left:window.pageXOffset,top:window.pageYOffset}:"undefined"!=typeof document_root.scrollLeft&&"undefined"!=typeof document_root.scrollTop?{left:document_root.scrollLeft,top:document_root.scrollTop}:{left:0,top:0}};var document_root=exports.document_root=document.documentElement||document.body.parentNode||document.body},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!==("undefined"==typeof call?"undefined":_typeof(call))&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+("undefined"==typeof superClass?"undefined":_typeof(superClass)));subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0});var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol?"symbol":typeof obj},_generic=__webpack_require__(53),_generic2=_interopRequireDefault(_generic),_getBox=__webpack_require__(51),_getBox2=_interopRequireDefault(_getBox),_getBoundingBox=__webpack_require__(57),_getBoundingBox2=_interopRequireDefault(_getBoundingBox),_createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_class=function(_Box){function _class(){return _classCallCheck(this,_class),_possibleConstructorReturn(this,(_class.__proto__||Object.getPrototypeOf(_class)).apply(this,arguments))}return _inherits(_class,_Box),_createClass(_class,[{key:"update",value:function(){var elements_array=Array.prototype.slice.call(this.input),boxes=elements_array.map(function(item){return(0,_getBox2.default)(item)}),bounding_box=(0,_getBoundingBox2.default)(boxes);return this.set(bounding_box)}}]),_class}(_generic2.default);exports.default=_class},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(){var boxes=arguments.length<=0||void 0===arguments[0]?[]:arguments[0];0===boxes.length&&(boxes=[{left:0,top:0,right:0,bottom:0}]);var extremes={left:boxes[0].left,top:boxes[0].top,right:boxes[0].right,bottom:boxes[0].bottom};return boxes.forEach(function(box){box.left<extremes.left&&(extremes.left=box.left),box.top<extremes.top&&(extremes.top=box.top),box.right>extremes.right&&(extremes.right=box.right),box.bottom>extremes.bottom&&(extremes.bottom=box.bottom)}),new _generic2.default({left:extremes.left,top:extremes.top,width:extremes.right-extremes.left,height:extremes.bottom-extremes.top})};var _generic=__webpack_require__(53),_generic2=_interopRequireDefault(_generic)},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!==("undefined"==typeof call?"undefined":_typeof(call))&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+("undefined"==typeof superClass?"undefined":_typeof(superClass)));subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0});var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol?"symbol":typeof obj},_generic=__webpack_require__(53),_generic2=_interopRequireDefault(_generic),_createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_class=function(_Box){function _class(){return _classCallCheck(this,_class),_possibleConstructorReturn(this,(_class.__proto__||Object.getPrototypeOf(_class)).apply(this,arguments))}return _inherits(_class,_Box),_createClass(_class,[{key:"update",value:function(){return this.set({left:0,top:0,width:Math.max(document.body.scrollWidth,document.body.offsetWidth,document.documentElement.clientWidth,document.documentElement.scrollWidth,document.documentElement.offsetWidth,0),height:Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight,0)})}}]),_class}(_generic2.default);exports.default=_class},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!==("undefined"==typeof call?"undefined":_typeof(call))&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+("undefined"==typeof superClass?"undefined":_typeof(superClass)));subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0});var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol?"symbol":typeof obj},_generic=__webpack_require__(53),_generic2=_interopRequireDefault(_generic),_getScrollPosition=__webpack_require__(55),_getScrollPosition2=_interopRequireDefault(_getScrollPosition),_createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_class=function(_Box){function _class(){return _classCallCheck(this,_class),_possibleConstructorReturn(this,(_class.__proto__||Object.getPrototypeOf(_class)).apply(this,arguments))}return _inherits(_class,_Box),_createClass(_class,[{key:"update",value:function(){var scroll_position=(0,_getScrollPosition2.default)();return this.set({left:scroll_position.left,top:scroll_position.top,width:window.innerWidth||document.documentElement.clientWidth||0,height:window.innerHeight||document.documentElement.clientHeight||0})}}]),_class}(_generic2.default);exports.default=_class},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function getDistance(a,b){var difference=(0,_getDifference2.default)(a,b),result={horizontal:Math.max(0,difference.horizontal),vertical:Math.max(0,difference.vertical),pivot:(0,_getHypotenuse2.default)(a.pivot.left-b.pivot.left,a.pivot.top-b.pivot.top)};return result.direct=(0,_getHypotenuse2.default)(result.horizontal,result.vertical),result}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=getDistance;var _getDifference=__webpack_require__(61),_getDifference2=_interopRequireDefault(_getDifference),_getHypotenuse=__webpack_require__(62),_getHypotenuse2=_interopRequireDefault(_getHypotenuse)},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function getDifference(a,b){var bounding_box=(0,_getBoundingBox2.default)([a,b]);return{horizontal:bounding_box.width-a.width-b.width,vertical:bounding_box.height-a.height-b.height}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=getDifference;var _getBoundingBox=__webpack_require__(57),_getBoundingBox2=_interopRequireDefault(_getBoundingBox)},function(module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(x,y){return Math.sqrt(Math.pow(x,2)+Math.pow(y,2))}},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function getOverlap(a,b){return(0,_detectOverlap2.default)(a,b)?new _generic2.default({left:Math.max(a.left,b.left),top:Math.max(a.top,b.top),width:Math.min(a.right,b.right)-Math.max(a.left,b.left),height:Math.min(a.bottom,b.bottom)-Math.max(a.top,b.top)}):null}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=getOverlap;var _detectOverlap=__webpack_require__(64),_detectOverlap2=_interopRequireDefault(_detectOverlap),_generic=__webpack_require__(53),_generic2=_interopRequireDefault(_generic)},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function detectOverlap(a,b){var difference=(0,_getDifference2.default)(a,b);return difference.horizontal<0&&difference.vertical<0}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=detectOverlap;var _getDifference=__webpack_require__(61),_getDifference2=_interopRequireDefault(_getDifference)},function(module,exports){"use strict";function getPivotAngle(a,b){var use_radian=!(arguments.length<=2||void 0===arguments[2])&&arguments[2],result=Math.atan2(b.pivot.top-a.pivot.top,b.pivot.left-a.pivot.left);return use_radian?result:result*(180/Math.PI)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=getPivotAngle},function(module,exports){"use strict";function moveInside(a,b){b.right>a.right&&(b.left=a.right-b.width),b.bottom>a.bottom&&(b.top=a.bottom-b.height),b.left<a.left&&(b.left=a.left),b.top<a.top&&(b.top=a.top)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=moveInside},function(module,exports){"use strict";function contains(a,b){return a.left<=b.left&&a.top<=b.top&&a.right>=b.right&&a.bottom>=b.bottom}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=contains},function(module,exports){"use strict";function canContain(a,b){return a.width>=b.width&&a.height>=b.height}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=canContain},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function canCoexist(a,b,c){return(0,_canContain2.default)(a,(0,_getBoundingBox2.default)([b,c]))}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=canCoexist;var _canContain=__webpack_require__(68),_canContain2=_interopRequireDefault(_canContain),_getBoundingBox=__webpack_require__(57),_getBoundingBox2=_interopRequireDefault(_getBoundingBox)},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function canFitAround(a,b,c){if(!(0,_canContain2.default)(a,c))return!1;var result=!1;return(0,_getBoxesAround2.default)(a,b).forEach(function(item){(0,_canContain2.default)(item,c)&&(result=!0)}),result}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=canFitAround;var _canContain=__webpack_require__(68),_canContain2=_interopRequireDefault(_canContain),_getBoxesAround=__webpack_require__(71),_getBoxesAround2=_interopRequireDefault(_getBoxesAround)},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function getBoxesAround(a,b){var result=[],gaps=(0,_getGaps2.default)(a,b);return gaps.horizontal.before>0&&result.push({left:a.left,top:a.top,width:gaps.horizontal.before,height:a.height}),gaps.horizontal.after>0&&result.push({left:b.right,top:a.top,width:gaps.horizontal.after,height:a.height}),gaps.vertical.before>0&&result.push({left:a.left,top:a.top,width:a.width,height:gaps.vertical.before}),gaps.vertical.after>0&&result.push({left:a.left,top:b.bottom,width:a.width,height:gaps.vertical.after}),result=result.map(function(item){return(0,_getBox2.default)(item)}),result=makeUnique(result)}function makeUnique(){var boxes=arguments.length<=0||void 0===arguments[0]?[]:arguments[0],ref=[],result=[];return boxes.forEach(function(item){var item_string=item.toString();ref.indexOf(item_string)===-1&&(ref.push(item_string),result.push(item))}),result}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=getBoxesAround;var _getGaps=__webpack_require__(72),_getGaps2=_interopRequireDefault(_getGaps),_getBox=__webpack_require__(51),_getBox2=_interopRequireDefault(_getBox)},function(module,exports){"use strict";function getGaps(a,b){var result={horizontal:{before:Math.max(0,b.left-a.left),after:Math.max(0,a.right-b.right)
},vertical:{before:Math.max(0,b.top-a.top),after:Math.max(0,a.bottom-b.bottom)}};return result.horizontal.before>a.width&&(result.horizontal.before=a.width),result.horizontal.after>a.width&&(result.horizontal.after=a.width),result.vertical.before>a.height&&(result.vertical.before=a.height),result.vertical.after>a.height&&(result.vertical.after=a.height),result}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=getGaps},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function findClosest(a){var boxes=arguments.length<=1||void 0===arguments[1]?[]:arguments[1],property=arguments.length<=2||void 0===arguments[2]?"direct":arguments[2],lowest_distance=Number.MAX_VALUE,result=null;return boxes.forEach(function(box){var distance=(0,_getDistance2.default)(a,box)[property];distance<lowest_distance&&(result=box,lowest_distance=distance)}),result}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=findClosest;var _getDistance=__webpack_require__(60),_getDistance2=_interopRequireDefault(_getDistance)},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function fitAround(a,b,c){if((0,_canFitAround2.default)(a,b,c)){var targets=(0,_getBoxesAround2.default)(a,b),valid_targets=targets.filter(function(target){return(0,_canContain2.default)(target,c)}),target=(0,_findClosest2.default)(c,valid_targets,"direct");null!==target&&(0,_moveInside2.default)(target,c)}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=fitAround;var _getBoxesAround=__webpack_require__(71),_getBoxesAround2=_interopRequireDefault(_getBoxesAround),_canContain=__webpack_require__(68),_canContain2=_interopRequireDefault(_canContain),_canFitAround=__webpack_require__(70),_canFitAround2=_interopRequireDefault(_canFitAround),_findClosest=__webpack_require__(73),_findClosest2=_interopRequireDefault(_findClosest),_moveInside=__webpack_require__(66),_moveInside2=_interopRequireDefault(_moveInside)},function(module,exports){"use strict";function shrinkToFit(a,b){a.width<b.width&&(b.height=adjustByRatio(a.width,b.width,b.height),b.width=a.width),a.height<b.height&&(b.width=adjustByRatio(a.height,b.height,b.width),b.height=a.height)}function adjustByRatio(target,primary,secondary){var ratio=target/primary;return secondary*ratio}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=shrinkToFit},function(module,exports){"use strict";function align(a,b,horizontal,vertical){switch(horizontal){case"left":b.left=a.left;break;case"right":b.left=a.left+a.width-b.width;break;case"center":b.left=a.left+a.width/2-b.width/2}switch(vertical){case"top":b.top=a.top;break;case"bottom":b.top=a.top+a.height-b.height;break;case"center":b.top=a.top+a.height/2-b.height/2}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=align},function(module,exports){"use strict";function touch(a,b,horizontal,vertical){var left_position=void 0,top_position=void 0;switch(horizontal){case"left":left_position=a.left-b.width;break;case"right":left_position=a.right}switch(vertical){case"top":top_position=a.top-b.height;break;case"bottom":top_position=a.bottom}b.moveTo(left_position,top_position)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=touch},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function addElementToHead(element){var head_element=document.head||(0,_safeQuerySelector.safeQuery)("head");return head_element.appendChild(element),element}function constructCustomStyle(){var style=arguments.length<=0||void 0===arguments[0]?"":arguments[0],style_element=document.createElement("style");return style_element.setAttribute("type","text/css"),style_element.styleSheet?style_element.styleSheet.cssText=style:style_element.appendChild(document.createTextNode(style)),addElementToHead(style_element),style_element}function addCustomStyle(){var player=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],style=arguments.length<=1||void 0===arguments[1]?"":arguments[1];removeCustomStyle(player);var style_element=constructCustomStyle(style);return player.custom_style_element=style_element,style_element}function insertCustomStyle(){var player=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],style_element=player.custom_style_element;(0,_exists2.default)(style_element)&&(style_element.parentNode||addElementToHead(style_element)),player.custom_style_element=null}function removeCustomStyle(){var player=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],style_element=player.custom_style_element;(0,_exists2.default)(style_element)&&style_element.parentNode&&style_element.parentNode.removeChild(style_element),player.custom_style_element=null}Object.defineProperty(exports,"__esModule",{value:!0}),exports.addCustomStyle=addCustomStyle,exports.insertCustomStyle=insertCustomStyle,exports.removeCustomStyle=removeCustomStyle;var _exists=__webpack_require__(41),_exists2=_interopRequireDefault(_exists),_safeQuerySelector=__webpack_require__(42)},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function linearizeObject(key,val){return(0,_objectPairs2.default)(val).map(function(_ref){var sub_key=_ref.key,sub_val=_ref.val;return linearizePair(key+"["+sub_key+"]",sub_val)}).join("&")}function linearizeArray(key,val){return val.map(function(sub_val){return linearizePair(key+"[]",sub_val)}).join("&")}function linearizePair(key,val){return(0,_isObject2.default)(val)?linearizeObject(key,val):Array.isArray(val)?linearizeArray(key,val):key+"="+encodeURIComponent(val)}function linearizeParams(){var params=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];return(0,_objectPairs2.default)(params).map(function(_ref2){var key=_ref2.key,val=_ref2.val;return linearizePair(key,val)}).join("&")}function constructXmlHttpRequest(options,callback){var xhr=new XMLHttpRequest;return xhr.onreadystatechange=function(){4===xhr.readyState&&((0,_exists2.default)(options.onCode[xhr.status])?options.onCode[xhr.status](xhr):[200,304].indexOf(xhr.status)!==-1?(callback(xhr.responseText),options.onSuccess(xhr)):options.onError(xhr))},xhr}function constructXDomainRequest(options,callback){var xhr=new XDomainRequest;return xhr.onload=function(){callback(xhr.responseText),options.onSuccess(xhr)},xhr.onerror=function(){options.onError(xhr)},xhr.ontimeout=function(){options.onError(xhr)},xhr.onprogress=noop,xhr}function sanitizeMethod(method){return["GET","POST"].indexOf(method)===-1?"GET":method}function constructPostParams(options){return"POST"===options.method?linearizeParams(options.params):null}function sanitizeUrl(url,options){if("GET"===options.method){var get_params=linearizeParams(options.params);""!==get_params&&(url=url+"?"+get_params)}return url}Object.defineProperty(exports,"__esModule",{value:!0});var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target};exports.linearizeParams=linearizeParams,exports.default=function(url,custom_options){var callback=arguments.length<=2||void 0===arguments[2]?noop:arguments[2],options=_extends({},default_options,custom_options);options.method=sanitizeMethod(options.method),url=sanitizeUrl(url,options);var post_params=constructPostParams(options),xhr=(0,_exists2.default)(XMLHttpRequest)&&"withCredentials"in new XMLHttpRequest?constructXmlHttpRequest(options,callback):constructXDomainRequest(options,callback);xhr.open(options.method,url,options.async),setTimeout(function(){xhr.send(post_params)},0)};var _objectPairs=__webpack_require__(80),_objectPairs2=_interopRequireDefault(_objectPairs),_isObject=__webpack_require__(81),_isObject2=_interopRequireDefault(_isObject),_exists=__webpack_require__(41),_exists2=_interopRequireDefault(_exists),noop=function(){},default_options={method:"GET",params:{},async:!0,onSuccess:noop,onError:noop,onCode:{}}},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(obj){if(!(0,_isObject2.default)(obj))throw new TypeError("objectPairs: input must be Object");return Object.keys(obj).map(function(key){return{key:key,val:obj[key]}})};var _isObject=__webpack_require__(81),_isObject2=_interopRequireDefault(_isObject)},function(module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(input){return"[object Object]"===Object.prototype.toString.call(input)}},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(node){var node_box=_theDomBox2.default.getBox(node),viewport_box=_theDomBox2.default.getBox("viewport"),vertical_position=(viewport_box.height-node_box.height)/2,horizontal_position=(viewport_box.width-node_box.width)/2;return node.style.top=vertical_position+"px",node.style.left=horizontal_position+"px",node.style.bottom="auto",node.style.right="auto",node};var _theDomBox=__webpack_require__(50),_theDomBox2=_interopRequireDefault(_theDomBox)},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function constructCondition(){var data=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],onError=arguments.length<=1||void 0===arguments[1]?noop:arguments[1],result=null;if((0,_exists2.default)(data.condition)){var condition=data.condition;"inherit"===condition.type&&(0,_exists2.default)(data.element)&&(condition.type="selector",condition.value=data.element),(0,_exists2.default)(condition.value)?result=createConditionCallback(condition):onError("invalid.condition",data.title)}return result}function createConditionCallback(){var condition=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];switch(condition.type){case"function":return(0,_sanitizeCallback2.default)(condition.value);case"selector":return function(){var collection=new _elementCollector2.default(condition.value);return(0,_isVisible.isVisibleAny)(collection.get())};default:return null}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.constructCondition=constructCondition;var _exists=__webpack_require__(41),_exists2=_interopRequireDefault(_exists),_sanitizeCallback=__webpack_require__(45),_sanitizeCallback2=_interopRequireDefault(_sanitizeCallback),_isVisible=__webpack_require__(34),_elementCollector=__webpack_require__(47),_elementCollector2=_interopRequireDefault(_elementCollector),noop=function(){}},function(module,exports){"use strict";var _typeof3="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol?"symbol":typeof obj};module.exports=function(modules){function __webpack_require__(moduleId){if(installedModules[moduleId])return installedModules[moduleId].exports;var module=installedModules[moduleId]={exports:{},id:moduleId,loaded:!1};return modules[moduleId].call(module.exports,module,module.exports,__webpack_require__),module.loaded=!0,module.exports}var installedModules={};return __webpack_require__.m=modules,__webpack_require__.c=installedModules,__webpack_require__.p="",__webpack_require__(0)}([function(module,exports,__webpack_require__){var Angle,ClassBridge,ElementMonitor,EventBridge,Popover,TheBox,isVisible,is_safari_windows,supports_css_pointer_events,supports_svg;Angle=__webpack_require__(1).default,TheBox=__webpack_require__(2),ClassBridge=__webpack_require__(29).default,EventBridge=__webpack_require__(31),ElementMonitor=__webpack_require__(32).default,isVisible=__webpack_require__(42).isVisible,__webpack_require__(50),supports_svg=function(){var feature,version;return feature="http://www.w3.org/TR/SVG11/feature#Image",version="1.1",document.implementation.hasFeature(feature,version)}(),is_safari_windows=function(){var ua;return ua=navigator.userAgent.toLowerCase(),ua.indexOf("safari/")!==-1&&ua.indexOf("windows")!==-1&&ua.indexOf("chrom")===-1}(),supports_css_pointer_events=function(){var element;return!is_safari_windows&&(element=document.createElement("div"),element.style.cssText="pointer-events:none","none"===element.style.pointerEvents)}(),module.exports=Popover=function(){function Popover(options){null==options&&(options={}),this.angle_utils=new Angle,this.direction_class_name=null,this.state=!1,this.is_orphan=!0,this.window_handler=null,this.element_monitor=new ElementMonitor(null,{onChange:function(_this){return function(){return _this.reposition()}}(this)}),this.setOptions(this.default_options),this.setOptions(options)}return Popover.prototype.default_options={class_name:null,pointer_width:10,pointer_length:50,z_index:1e3,scroll_message:"Scroll into view",disable_smart_position:!1,disable_scroll_message:!1,extra_class_names:{},content:document.createTextNode(""),angle:0,debug:!1,use_svg:supports_svg&&supports_css_pointer_events},Popover.prototype.base_class_name="fczbkk-popover",Popover.prototype.setOptions=function(options){var key,results,special_options,val;null==options&&(options={}),special_options={content:"setContent",angle:"setAngle"},results=[];for(key in options)val=options[key],this.default_options.hasOwnProperty(key)?null!=special_options[key]?results.push(this[special_options[key]](val)):results.push(this[key]=val):results.push(void 0);return results},Popover.prototype.setContent=function(content){var element,ref,ref1;if(null==content&&(content=""),"string"==typeof content&&(element=document.createElement("div"),element.innerHTML=content,content=element),this.content=null!=(null!=content?content.nodeType:void 0)?content:null,null!=this.ui)return null!=(ref=this.ui.content)&&null!=(ref1=ref.parentNode)&&ref1.removeChild(this.ui.content),this.ui.content=this.createPopoverContent()},Popover.prototype.setAngle=function(angle){return null==angle&&(angle=0),"string"==typeof angle&&(angle=this.angle_utils.fromDirection(angle)),this.angle=Angle.normalize(angle)},Popover.prototype.attach=function(target){return this.element_monitor.elements.set(target)},Popover.prototype.getTarget=function(){var target;return target=this.element_monitor.elements.get(),target=target.filter(isVisible),(null!=target?target.length:void 0)>0?(1===target.length&&(target=target[0]),TheBox.getBox(target)):null},Popover.prototype.detach=function(){return this.element_monitor.stop(),this.attach(null)},Popover.prototype.setPosition=function(position){return null==position&&(position={left:0,top:0}),this.ui.wrapper.style.left=position.left+"px",this.ui.wrapper.style.top=position.top+"px"},Popover.prototype.positionOrphan=function(){var viewport_box,wrapper_box;return wrapper_box=TheBox.getBox(this.ui.wrapper),viewport_box=TheBox.getBox("viewport"),this.setPosition({left:(viewport_box.width-wrapper_box.width)/2,top:(viewport_box.height-wrapper_box.height)/2})},Popover.prototype.positionRegular=function(){var destination,distance,target_box,target_pivot,viewport_box,wrapper_box;return wrapper_box=TheBox.getBox(this.ui.wrapper),target_box=TheBox.getBox(this.getTarget()),viewport_box=TheBox.getBox("viewport"),viewport_box.pad(0-this.pointer_length),TheBox.canFitAround(viewport_box,target_box,wrapper_box)?(target_pivot=target_box.pivot,distance=this.getOptimalDistance(wrapper_box,target_box),destination=this.moveVector(target_pivot,distance),wrapper_box.movePivotTo(destination.left,destination.top),this.disable_smart_position||(TheBox.moveInside(viewport_box,wrapper_box),TheBox.detectOverlap(target_box,wrapper_box)&&TheBox.fitAround(viewport_box,target_box,wrapper_box)),this.setPosition(wrapper_box),this.drawPointer()):this.positionOrphan()},Popover.prototype.drawPointer=function(){var distance,end_point,pointer_angle,pointer_width,popover_box,popover_hypotenuse,popover_pivot,start_point,target_box,target_hypotenuse,viewport_box,visible_box;if(popover_box=TheBox.getBox(this.ui.wrapper),target_box=TheBox.getBox(this.getTarget()),viewport_box=TheBox.getBox("viewport"),visible_box=TheBox.getOverlap(target_box,viewport_box),null!=visible_box&&(target_box=visible_box),this.debug&&(this.clearDebugPoints(),this.drawDebugPoint({left:target_box.left,top:target_box.top},"#0c0"),this.drawDebugPoint({left:target_box.right,top:target_box.top},"#0c0"),this.drawDebugPoint({left:target_box.right,top:target_box.bottom},"#0c0"),this.drawDebugPoint({left:target_box.left,top:target_box.bottom},"#0c0"),this.drawDebugPoint(target_box.pivot,"yellow")),pointer_angle=TheBox.getPivotAngle(popover_box,target_box),this.setDirectionClass(this.angle_utils.toDirection(pointer_angle)),this.use_svg)return distance=TheBox.getDistance(target_box,popover_box).pivot,popover_hypotenuse=this.getHypotenuse(popover_box,pointer_angle),target_hypotenuse=this.getHypotenuse(target_box,pointer_angle),pointer_width=distance-popover_hypotenuse-target_hypotenuse,pointer_width<this.pointer_width&&(pointer_width=this.pointer_width),popover_pivot=popover_box.pivot,start_point=this.moveVector(popover_pivot,popover_hypotenuse,pointer_angle),end_point=this.moveVector(popover_pivot,distance-target_hypotenuse,pointer_angle),this.addPointerShape(start_point,end_point,popover_box)},Popover.prototype.getHypotenuse=function(box,angle){var adjanced,horizontal_hypotenuse,opposite,rad,vertical_hypotenuse;return null==angle&&(angle=this.angle),rad=Angle.degToRad(angle),opposite=box.height/2,adjanced=box.width/2,vertical_hypotenuse=Math.abs(opposite/Math.sin(rad)),horizontal_hypotenuse=Math.abs(adjanced/Math.cos(rad)),Math.min(vertical_hypotenuse,horizontal_hypotenuse)},Popover.prototype.getOptimalDistance=function(box1,box2,angle,padding){var bounding_box,hypotenuse;return null==angle&&(angle=this.angle),null==padding&&(padding=this.pointer_length),box1=TheBox.getBox(box1),box2=TheBox.getBox(box2),bounding_box={width:box1.width+box2.width,height:box1.height+box2.height},hypotenuse=this.getHypotenuse(bounding_box,angle),hypotenuse+padding},Popover.prototype.moveVector=function(position,distance,angle){return null==position&&(position={left:0,top:0}),null==distance&&(distance=0),null==angle&&(angle=this.angle),angle=Angle.degToRad(angle),{left:position.left+Math.cos(angle)*distance,top:position.top+Math.sin(angle)*distance}},Popover.prototype.setDirectionClass=function(direction){if(null==direction&&(direction=null),null!=this.direction_class_name&&(ClassBridge.remove(this.ui.base,this.base_class_name+"-"+this.direction_class_name),ClassBridge.remove(this.ui.base,this.class_name+"-"+this.direction_class_name)),this.direction_class_name=direction,null!=this.direction_class_name)return ClassBridge.add(this.ui.base,this.base_class_name+"-"+this.direction_class_name),ClassBridge.add(this.ui.base,this.class_name+"-"+this.direction_class_name)},Popover.prototype.setOrphanClass=function(){if(null!=this.ui.base){if(!this.is_orphan)return ClassBridge.remove(this.ui.base,this.base_class_name+"-orphan"),ClassBridge.remove(this.ui.base,this.class_name+"-orphan");if(ClassBridge.add(this.ui.base,this.base_class_name+"-orphan"),null!=this.class_name)return ClassBridge.add(this.ui.base,this.class_name+"-orphan")}},Popover.prototype.show=function(){return this.hide(),this.createUi(),this.ui.wrapper.appendChild(this.ui.content),this.ui.wrapper.appendChild(this.ui.scroll_message),this.use_svg&&document.body.appendChild(this.ui.pointer_holder),this.ui.wrapper.appendChild(this.ui.static_pointer),this.ui.base.appendChild(this.ui.wrapper),document.body.appendChild(this.ui.base),this.reposition(),this.element_monitor.start(),this.state=!0},Popover.prototype.hide=function(){var ref,ref1,ref2,ref3,ref4,ref5;return null!=(ref=this.ui)&&null!=(ref1=ref.base)&&null!=(ref2=ref1.parentNode)&&ref2.removeChild(this.ui.base),null!=(ref3=this.ui)&&null!=(ref4=ref3.pointer_holder)&&null!=(ref5=ref4.parentNode)&&ref5.removeChild(this.ui.pointer_holder),this.cancelEventListeners(),this.element_monitor.stop(),this.state=!1},Popover.prototype.toggle=function(){return this.state?this.hide():this.show()},Popover.prototype.destroy=function(){return this.hide()},Popover.prototype.createUi=function(){return this.ui={base:this.createBaseElement(),wrapper:this.createPopoverWrapper(),content:this.createPopoverContent(),scroll_message:this.createScrollMessage(),pointer_holder:this.use_svg?this.createPointerHolder():null,pointer:null,static_pointer:this.createStaticPointer()}},Popover.prototype.createElement=function(class_name){var element,extra_class_names,i,item,len,suffix;for(element=document.createElement("div"),suffix=class_name?"-"+class_name:"",ClassBridge.add(element,""+this.base_class_name+suffix),this.class_name&&ClassBridge.add(element,""+this.class_name+suffix),extra_class_names=this.extra_class_names[class_name]||[],i=0,len=extra_class_names.length;i<len;i++)item=extra_class_names[i],ClassBridge.add(element,item);return element},Popover.prototype.createBaseElement=function(){var element;return element=this.createElement(),this.use_svg&&(null!=this.class_name&&ClassBridge.add(element,this.class_name+"-supports_svg"),ClassBridge.add(element,this.base_class_name+"-supports_svg")),element.style.zIndex=this.z_index+2,element},Popover.prototype.createPopoverWrapper=function(){return this.createElement("wrapper")},Popover.prototype.createPopoverContent=function(){var element;return element=this.createElement("content"),element.appendChild(this.content),element},Popover.prototype.createScrollMessage=function(){var element;return element=this.createElement("scroll_message"),element.appendChild(document.createTextNode(this.scroll_message)),EventBridge.add(element,"click",function(_this){return function(){return _this.scrollIntoView()}}(this)),element},Popover.prototype.createPointerHolder=function(){var class_names,element;return element=document.createElementNS("http://www.w3.org/2000/svg","svg"),element.setAttribute("xmlns:xlink","http://www.w3.org/1999/xlink"),class_names=[this.base_class_name+"-pointer-holder"],this.class_name&&class_names.push(this.class_name+"-pointer-holder"),element.setAttribute("class",class_names.join(" ")),element.style.zIndex=this.z_index+1,element},Popover.prototype.createStaticPointer=function(){return this.createElement("static_pointer")},Popover.prototype.scrollIntoView=function(){var elm,target;if(target=this.getTarget(),null!=target)return target.update(),elm=document.body.appendChild(document.createElement("div")),elm.style.position="absolute",elm.style.left=target.left+"px",elm.style.top=target.top+"px",elm.style.width=target.width+"px",elm.style.height=target.height+"px",elm.scrollIntoView(),elm.parentNode.removeChild(elm)},Popover.prototype.updateOrphanState=function(){var target;return target=this.getTarget(),null!=target?(target.update(),this.is_orphan=0===target.width&&0===target.height):this.is_orphan=!0,this.is_orphan},Popover.prototype.addPointerShape=function(start,end,box){var base_circle,class_names,i,len,ns,point,points,points_attribute,shape;for(this.removePointerShape(),ns="http://www.w3.org/2000/svg",shape=document.createElementNS(ns,"polygon"),base_circle={left:start.left,top:start.top,radius:this.pointer_width},points=this.getIntersectionPoints(box,base_circle),points.push(end),i=0,len=points.length;i<len;i++)point=points[i],this.drawDebugPoint(point,"#0000cc");return points_attribute=function(){var j,len1,results;for(results=[],j=0,len1=points.length;j<len1;j++)point=points[j],results.push(point.left+","+point.top);return results}().join(" "),shape.setAttribute("points",points_attribute),class_names=[this.base_class_name+"-pointer-shape"],null!=this.class_name&&class_names.push(this.class_name+"-pointer-shape"),shape.setAttribute("class",class_names.join(" ")),this.ui.pointer=this.ui.pointer_holder.appendChild(shape)},Popover.prototype.removePointerShape=function(){var ref;return null!=(ref=this.ui.pointer)&&ref.parentNode.removeChild(this.ui.pointer),this.ui.pointer=null},Popover.prototype.updateScrollMessage=function(){var target,viewport_box;if(target=this.getTarget(),null!=target)return target.update(),viewport_box=TheBox.getBox("viewport"),TheBox.detectOverlap(viewport_box,target)?this.hideScrollMessage():this.showScrollMessage()},Popover.prototype.hideScrollMessage=function(){return this.ui.scroll_message.style.display="none"},Popover.prototype.showScrollMessage=function(){return this.ui.scroll_message.style.display="block"},Popover.prototype.cancelEventListeners=function(){if(null!=this.window_handler)return EventBridge.remove(window,"resize",this.window_handler),EventBridge.remove(window,"scroll",this.window_handler),this.window_handler=null},Popover.prototype.reposition=function(){return this.updateOrphanState(),this.setOrphanClass(),this.hideScrollMessage(),this.cancelEventListeners(),this.is_orphan?(this.removePointerShape(),this.positionOrphan(),this.window_handler=function(_this){return function(){return _this.positionOrphan()}}(this),EventBridge.add(window,"resize",this.window_handler)):(this.positionRegular(),this.disable_scroll_message||this.updateScrollMessage(),this.disable_smart_position&&this.disable_scroll_message?void 0:(this.window_handler=function(_this){return function(){if(_this.disable_smart_position||_this.positionRegular(),!_this.disable_scroll_message)return _this.updateScrollMessage()}}(this),EventBridge.add(window,"resize",this.window_handler),EventBridge.add(window,"scroll",this.window_handler)))},Popover.prototype.getChordPoints=function(circle,line_position,is_vertical){var distance,point,result,shift;return result=[],distance=is_vertical?line_position-circle.left:line_position-circle.top,distance=Math.abs(distance),distance===circle.radius&&(point=is_vertical?{left:line_position,top:circle.top}:{left:circle.left,top:line_position},result.push(point)),distance<circle.radius&&(shift=Math.sqrt(Math.pow(circle.radius,2)-Math.pow(distance,2)),is_vertical?(result.push({left:line_position,top:circle.top+shift}),result.push({left:line_position,top:circle.top-shift})):(result.push({left:circle.left+shift,top:line_position}),result.push({left:circle.left-shift,top:line_position}))),result},Popover.prototype.getIntersectionPoints=function(box,circle){var result;return result=[],result=result.concat(this.getChordPoints(circle,box.left,!0)),result=result.concat(this.getChordPoints(circle,box.right,!0)),result=result.concat(this.getChordPoints(circle,box.top,!1)),result=result.concat(this.getChordPoints(circle,box.bottom,!1)),result=result.filter(function(item){var ref,ref1;return box.left<=(ref=item.left)&&ref<=box.right&&box.top<=(ref1=item.top)&&ref1<=box.bottom})},Popover.prototype.drawDebugPoint=function(point,color){var ns,shape;return this.debug?(ns="http://www.w3.org/2000/svg",shape=document.createElementNS(ns,"circle"),shape.setAttribute("cx",point.left),shape.setAttribute("cy",point.top),shape.setAttribute("r",5),shape.setAttribute("fill",color),shape.setAttribute("class","debugPoint"),this.ui.pointer_holder.appendChild(shape)):null},Popover.prototype.clearDebugPoints=function(){var i,len,point,points,results;if(!this.debug)return null;for(points=this.ui.pointer_holder.querySelectorAll(".debugPoint"),results=[],i=0,len=points.length;i<len;i++)point=points[i],results.push(point.parentNode.removeChild(point));return results},Popover}()},function(module,exports){function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),default_directions_start=0,default_directions=["right","topRight","top","topLeft","left","bottomLeft","bottom","bottomRight"],Angle=function(){function Angle(){var _ref=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],_ref$directions_start=_ref.directions_start,directions_start=void 0===_ref$directions_start?default_directions_start:_ref$directions_start,_ref$directions=_ref.directions,directions=void 0===_ref$directions?default_directions:_ref$directions;_classCallCheck(this,Angle),this.directions_start=directions_start,this.directions=directions}return _createClass(Angle,[{key:"toDirection",value:function(angle){angle-=this.directions_start,angle=Angle.normalize(angle);var index=Math.round(angle/(360/this.directions.length));return"undefined"==typeof this.directions[index]?this.directions[0]:this.directions[index]}},{key:"fromDirection",value:function(direction){var index=this.directions.indexOf(direction);if(index!==-1){var angle=index*(360/this.directions.length);return angle=this.directions_start+angle}return null}},{key:"directions_start",get:function(){return this._directions_start},set:function(directions_start){if("number"!=typeof directions_start)throw new TypeError("Angle: directions_start must be a number.");this._directions_start=directions_start}},{key:"directions",get:function(){return this._directions},set:function(directions){if(!Array.isArray(directions))throw new TypeError("Angle: directions must by an array.");this._directions=directions}}],[{key:"radToDeg",value:function(angle){return angle*(180/Math.PI)}},{key:"degToRad",value:function(angle){return angle*(Math.PI/180)}},{key:"normalize",value:function(angle){var result=0;return"number"==typeof angle&&(result=angle%360,result<0&&(result+=360)),result}}]),Angle}();exports.default=Angle},function(module,exports,__webpack_require__){function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var _getBox=__webpack_require__(3),_getBox2=_interopRequireDefault(_getBox),_getDistance=__webpack_require__(12),_getDistance2=_interopRequireDefault(_getDistance),_getOverlap=__webpack_require__(15),_getOverlap2=_interopRequireDefault(_getOverlap),_detectOverlap=__webpack_require__(16),_detectOverlap2=_interopRequireDefault(_detectOverlap),_getPivotAngle=__webpack_require__(17),_getPivotAngle2=_interopRequireDefault(_getPivotAngle),_moveInside=__webpack_require__(18),_moveInside2=_interopRequireDefault(_moveInside),_contains=__webpack_require__(19),_contains2=_interopRequireDefault(_contains),_canContain=__webpack_require__(20),_canContain2=_interopRequireDefault(_canContain),_canCoexist=__webpack_require__(21),_canCoexist2=_interopRequireDefault(_canCoexist),_canFitAround=__webpack_require__(22),_canFitAround2=_interopRequireDefault(_canFitAround),_findClosest=__webpack_require__(25),_findClosest2=_interopRequireDefault(_findClosest),_fitAround=__webpack_require__(26),_fitAround2=_interopRequireDefault(_fitAround),_shrinkToFit=__webpack_require__(27),_shrinkToFit2=_interopRequireDefault(_shrinkToFit),_align=__webpack_require__(28),_align2=_interopRequireDefault(_align);module.exports={getBox:_getBox2.default,getDistance:_getDistance2.default,getOverlap:_getOverlap2.default,detectOverlap:_detectOverlap2.default,getPivotAngle:_getPivotAngle2.default,moveInside:_moveInside2.default,contains:_contains2.default,canContain:_canContain2.default,canCoexist:_canCoexist2.default,canFitAround:_canFitAround2.default,findClosest:_findClosest2.default,fitAround:_fitAround2.default,
shrinkToFit:_shrinkToFit2.default,align:_align2.default}},function(module,exports,__webpack_require__){function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function isDocument(input){return"document"===input||input===document||input===document.body||input===document.documentElement}function isCollection(input){var string_representation=Object.prototype.toString.call(input);return"[object NodeList]"===string_representation||"[object HTMLCollection]"===string_representation||"[object Array]"===string_representation}function getBox(input){return"viewport"===input?new _viewport2.default:isDocument(input)?new _document2.default:isCollection(input)?new _collection2.default(input):(0,_iselement2.default)(input)?new _element2.default(input):new _generic2.default(input)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=getBox;var _iselement=__webpack_require__(4),_iselement2=_interopRequireDefault(_iselement),_generic=__webpack_require__(5),_generic2=_interopRequireDefault(_generic),_element=__webpack_require__(6),_element2=_interopRequireDefault(_element),_collection=__webpack_require__(8),_collection2=_interopRequireDefault(_collection),_document=__webpack_require__(10),_document2=_interopRequireDefault(_document),_viewport=__webpack_require__(11),_viewport2=_interopRequireDefault(_viewport)},function(module,exports){var _typeof2="function"==typeof Symbol&&"symbol"===_typeof3(Symbol.iterator)?function(obj){return"undefined"==typeof obj?"undefined":_typeof3(obj)}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol?"symbol":"undefined"==typeof obj?"undefined":_typeof3(obj)};Object.defineProperty(exports,"__esModule",{value:!0});var _typeof="function"==typeof Symbol&&"symbol"===_typeof2(Symbol.iterator)?function(obj){return"undefined"==typeof obj?"undefined":_typeof2(obj)}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol?"symbol":"undefined"==typeof obj?"undefined":_typeof2(obj)};exports.default=function(obj){return null!=obj&&"object"===("undefined"==typeof obj?"undefined":_typeof(obj))&&1===obj.nodeType&&"object"===_typeof(obj.style)&&"object"===_typeof(obj.ownerDocument)}},function(module,exports){function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}var _typeof2="function"==typeof Symbol&&"symbol"===_typeof3(Symbol.iterator)?function(obj){return"undefined"==typeof obj?"undefined":_typeof3(obj)}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol?"symbol":"undefined"==typeof obj?"undefined":_typeof3(obj)};Object.defineProperty(exports,"__esModule",{value:!0});var _typeof="function"==typeof Symbol&&"symbol"===_typeof2(Symbol.iterator)?function(obj){return"undefined"==typeof obj?"undefined":_typeof2(obj)}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol?"symbol":"undefined"==typeof obj?"undefined":_typeof2(obj)},_createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_class=function(){function _class(){var input=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];_classCallCheck(this,_class),this.left=0,this.top=0,this.width=0,this.height=0,this.input=input,this.update()}return _class.prototype.set=function(){var properties=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];if("object"===("undefined"==typeof properties?"undefined":_typeof(properties))&&null!==properties)for(var _arr=["left","top","width","height"],_i=0;_i<_arr.length;_i++){var property=_arr[_i];"undefined"!=typeof properties[property]&&(this[property]=properties[property])}return this.get()},_class.prototype.get=function(){return{left:this.left,top:this.top,right:this.right,bottom:this.bottom,width:this.width,height:this.height}},_class.prototype.update=function(){return this.set(this.input)},_class.prototype.pad=function(){var padding=arguments.length<=0||void 0===arguments[0]?0:arguments[0];this.left-=padding,this.top-=padding,this.width+=2*padding,this.height+=2*padding},_class.prototype.moveTo=function(left,top){return"number"==typeof left&&(this.left=left),"number"==typeof top&&(this.top=top),this.get()},_class.prototype.movePivotTo=function(left,top){return"number"!=typeof left&&(left=this.pivot.left),"number"!=typeof top&&(top=this.pivot.top),this.moveTo(left-this.width/2,top-this.height/2),this.get()},_class.prototype.moveBy=function(horizontal,vertical){return"number"==typeof horizontal&&(this.left=this.left+horizontal),"number"==typeof vertical&&(this.top=this.top+vertical),this.get()},_class.prototype.resizeTo=function(width,height){return"number"==typeof width&&(this.width=width),"number"==typeof height&&(this.height=height),this.get()},_class.prototype.resizeBy=function(horizontal,vertical){return"number"==typeof horizontal&&(this.width+=horizontal),"number"==typeof vertical&&(this.height+=vertical),this.get()},_class.prototype.toString=function(){return JSON.stringify(this.get())},_createClass(_class,[{key:"right",get:function(){return this.left+this.width}},{key:"bottom",get:function(){return this.top+this.height}},{key:"pivot",get:function(){return{left:this.left+this.width/2,top:this.top+this.height/2}}}]),_class}();exports.default=_class},function(module,exports,__webpack_require__){function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!==("undefined"==typeof call?"undefined":_typeof(call))&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+("undefined"==typeof superClass?"undefined":_typeof(superClass)));subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var _typeof="function"==typeof Symbol&&"symbol"===_typeof3(Symbol.iterator)?function(obj){return"undefined"==typeof obj?"undefined":_typeof3(obj)}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol?"symbol":"undefined"==typeof obj?"undefined":_typeof3(obj)};Object.defineProperty(exports,"__esModule",{value:!0});var _generic=__webpack_require__(5),_generic2=_interopRequireDefault(_generic),_getScrollPosition=__webpack_require__(7),_getScrollPosition2=_interopRequireDefault(_getScrollPosition),_class=function(_Box){function _class(){return _classCallCheck(this,_class),_possibleConstructorReturn(this,_Box.apply(this,arguments))}return _inherits(_class,_Box),_class.prototype.update=function(){var bounding_box=this.input.getBoundingClientRect(),scroll_position=(0,_getScrollPosition2.default)();return this.set({width:bounding_box.width,height:bounding_box.height,left:scroll_position.left+bounding_box.left,top:scroll_position.top+bounding_box.top})},_class}(_generic2.default);exports.default=_class},function(module,exports){Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(){return"undefined"!=typeof window.pageXOffset&&"undefined"!=typeof window.pageYOffset?{left:window.pageXOffset,top:window.pageYOffset}:"undefined"!=typeof document_root.scrollLeft&&"undefined"!=typeof document_root.scrollTop?{left:document_root.scrollLeft,top:document_root.scrollTop}:{left:0,top:0}};var document_root=exports.document_root=document.documentElement||document.body.parentNode||document.body},function(module,exports,__webpack_require__){function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!==("undefined"==typeof call?"undefined":_typeof(call))&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+("undefined"==typeof superClass?"undefined":_typeof(superClass)));subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var _typeof="function"==typeof Symbol&&"symbol"===_typeof3(Symbol.iterator)?function(obj){return"undefined"==typeof obj?"undefined":_typeof3(obj)}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol?"symbol":"undefined"==typeof obj?"undefined":_typeof3(obj)};Object.defineProperty(exports,"__esModule",{value:!0});var _generic=__webpack_require__(5),_generic2=_interopRequireDefault(_generic),_getBox=__webpack_require__(3),_getBox2=_interopRequireDefault(_getBox),_getBoundingBox=__webpack_require__(9),_getBoundingBox2=_interopRequireDefault(_getBoundingBox),_class=function(_Box){function _class(){return _classCallCheck(this,_class),_possibleConstructorReturn(this,_Box.apply(this,arguments))}return _inherits(_class,_Box),_class.prototype.update=function(){var elements_array=Array.prototype.slice.call(this.input),boxes=elements_array.map(function(item){return(0,_getBox2.default)(item)}),bounding_box=(0,_getBoundingBox2.default)(boxes);return this.set(bounding_box)},_class}(_generic2.default);exports.default=_class},function(module,exports,__webpack_require__){function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(){var boxes=arguments.length<=0||void 0===arguments[0]?[]:arguments[0];0===boxes.length&&(boxes=[{left:0,top:0,right:0,bottom:0}]);var extremes={left:boxes[0].left,top:boxes[0].top,right:boxes[0].right,bottom:boxes[0].bottom};return boxes.forEach(function(box){box.left<extremes.left&&(extremes.left=box.left),box.top<extremes.top&&(extremes.top=box.top),box.right>extremes.right&&(extremes.right=box.right),box.bottom>extremes.bottom&&(extremes.bottom=box.bottom)}),new _generic2.default({left:extremes.left,top:extremes.top,width:extremes.right-extremes.left,height:extremes.bottom-extremes.top})};var _generic=__webpack_require__(5),_generic2=_interopRequireDefault(_generic)},function(module,exports,__webpack_require__){function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!==("undefined"==typeof call?"undefined":_typeof(call))&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+("undefined"==typeof superClass?"undefined":_typeof(superClass)));subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var _typeof="function"==typeof Symbol&&"symbol"===_typeof3(Symbol.iterator)?function(obj){return"undefined"==typeof obj?"undefined":_typeof3(obj)}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol?"symbol":"undefined"==typeof obj?"undefined":_typeof3(obj)};Object.defineProperty(exports,"__esModule",{value:!0});var _generic=__webpack_require__(5),_generic2=_interopRequireDefault(_generic),_class=function(_Box){function _class(){return _classCallCheck(this,_class),_possibleConstructorReturn(this,_Box.apply(this,arguments))}return _inherits(_class,_Box),_class.prototype.update=function(){return this.set({left:0,top:0,width:Math.max(document.body.scrollWidth,document.body.offsetWidth,document.documentElement.clientWidth,document.documentElement.scrollWidth,document.documentElement.offsetWidth,0),height:Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight,0)})},_class}(_generic2.default);exports.default=_class},function(module,exports,__webpack_require__){function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!==("undefined"==typeof call?"undefined":_typeof(call))&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+("undefined"==typeof superClass?"undefined":_typeof(superClass)));subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var _typeof="function"==typeof Symbol&&"symbol"===_typeof3(Symbol.iterator)?function(obj){return"undefined"==typeof obj?"undefined":_typeof3(obj)}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol?"symbol":"undefined"==typeof obj?"undefined":_typeof3(obj)};Object.defineProperty(exports,"__esModule",{value:!0});var _generic=__webpack_require__(5),_generic2=_interopRequireDefault(_generic),_getScrollPosition=__webpack_require__(7),_getScrollPosition2=_interopRequireDefault(_getScrollPosition),_class=function(_Box){function _class(){return _classCallCheck(this,_class),_possibleConstructorReturn(this,_Box.apply(this,arguments))}return _inherits(_class,_Box),_class.prototype.update=function(){var scroll_position=(0,_getScrollPosition2.default)();return this.set({left:scroll_position.left,top:scroll_position.top,width:window.innerWidth||document.documentElement.clientWidth||0,height:window.innerHeight||document.documentElement.clientHeight||0})},_class}(_generic2.default);exports.default=_class},function(module,exports,__webpack_require__){function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(a,b){var difference=(0,_getDifference2.default)(a,b),result={horizontal:Math.max(0,difference.horizontal),vertical:Math.max(0,difference.vertical),pivot:(0,_getHypotenuse2.default)(a.pivot.left-b.pivot.left,a.pivot.top-b.pivot.top)};return result.direct=(0,_getHypotenuse2.default)(result.horizontal,result.vertical),result};var _getDifference=__webpack_require__(13),_getDifference2=_interopRequireDefault(_getDifference),_getHypotenuse=__webpack_require__(14),_getHypotenuse2=_interopRequireDefault(_getHypotenuse)},function(module,exports,__webpack_require__){function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(a,b){var bounding_box=(0,_getBoundingBox2.default)([a,b]);return{horizontal:bounding_box.width-a.width-b.width,vertical:bounding_box.height-a.height-b.height}};var _getBoundingBox=__webpack_require__(9),_getBoundingBox2=_interopRequireDefault(_getBoundingBox)},function(module,exports){Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(x,y){return Math.sqrt(Math.pow(x,2)+Math.pow(y,2))}},function(module,exports,__webpack_require__){function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(a,b){return(0,_detectOverlap2.default)(a,b)?new _generic2.default({left:Math.max(a.left,b.left),top:Math.max(a.top,b.top),width:Math.min(a.right,b.right)-Math.max(a.left,b.left),height:Math.min(a.bottom,b.bottom)-Math.max(a.top,b.top)}):null};var _detectOverlap=__webpack_require__(16),_detectOverlap2=_interopRequireDefault(_detectOverlap),_generic=__webpack_require__(5),_generic2=_interopRequireDefault(_generic)},function(module,exports,__webpack_require__){function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(a,b){var difference=(0,_getDifference2.default)(a,b);return difference.horizontal<0&&difference.vertical<0};var _getDifference=__webpack_require__(13),_getDifference2=_interopRequireDefault(_getDifference)},function(module,exports){Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(a,b,use_radian){var result=Math.atan2(b.pivot.top-a.pivot.top,b.pivot.left-a.pivot.left);return use_radian?result:result*(180/Math.PI)}},function(module,exports){Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(a,b){b.right>a.right&&(b.left=a.right-b.width),b.bottom>a.bottom&&(b.top=a.bottom-b.height),b.left<a.left&&(b.left=a.left),b.top<a.top&&(b.top=a.top)}},function(module,exports){Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(a,b){return a.left<=b.left&&a.top<=b.top&&a.right>=b.right&&a.bottom>=b.bottom}},function(module,exports){Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(a,b){return a.width>=b.width&&a.height>=b.height}},function(module,exports,__webpack_require__){function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(a,b,c){return(0,_canContain2.default)(a,(0,_getBoundingBox2.default)([b,c]))};var _canContain=__webpack_require__(20),_canContain2=_interopRequireDefault(_canContain),_getBoundingBox=__webpack_require__(9),_getBoundingBox2=_interopRequireDefault(_getBoundingBox)},function(module,exports,__webpack_require__){function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(a,b,c){if(!(0,_canContain2.default)(a,c))return!1;var result=!1;return(0,_getBoxesAround2.default)(a,b).forEach(function(item){(0,_canContain2.default)(item,c)&&(result=!0)}),result};var _canContain=__webpack_require__(20),_canContain2=_interopRequireDefault(_canContain),_getBoxesAround=__webpack_require__(23),_getBoxesAround2=_interopRequireDefault(_getBoxesAround)},function(module,exports,__webpack_require__){function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function makeUnique(boxes){var ref=[],result=[];return boxes.forEach(function(item){var item_string=item.toString();ref.indexOf(item_string)===-1&&(ref.push(item_string),result.push(item))}),result}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(a,b){var result=[],gaps=(0,_getGaps2.default)(a,b);return gaps.horizontal.before>0&&result.push({left:a.left,top:a.top,width:gaps.horizontal.before,height:a.height}),gaps.horizontal.after>0&&result.push({left:b.right,top:a.top,width:gaps.horizontal.after,height:a.height}),gaps.vertical.before>0&&result.push({left:a.left,top:a.top,width:a.width,height:gaps.vertical.before}),gaps.vertical.after>0&&result.push({left:a.left,top:b.bottom,width:a.width,height:gaps.vertical.after}),result=result.map(function(item){return(0,_getBox2.default)(item)}),result=makeUnique(result)};var _getGaps=__webpack_require__(24),_getGaps2=_interopRequireDefault(_getGaps),_getBox=__webpack_require__(3),_getBox2=_interopRequireDefault(_getBox)},function(module,exports){Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(a,b){var result={horizontal:{before:Math.max(0,b.left-a.left),after:Math.max(0,a.right-b.right)},vertical:{before:Math.max(0,b.top-a.top),after:Math.max(0,a.bottom-b.bottom)}};return result.horizontal.before>a.width&&(result.horizontal.before=a.width),result.horizontal.after>a.width&&(result.horizontal.after=a.width),result.vertical.before>a.height&&(result.vertical.before=a.height),result.vertical.after>a.height&&(result.vertical.after=a.height),result}},function(module,exports,__webpack_require__){function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(a){var boxes=arguments.length<=1||void 0===arguments[1]?[]:arguments[1],property=arguments.length<=2||void 0===arguments[2]?"direct":arguments[2],lowest_distance=Number.MAX_VALUE,result=null;return boxes.forEach(function(box){var distance=(0,_getDistance2.default)(a,box)[property];distance<lowest_distance&&(result=box,lowest_distance=distance)}),result};var _getDistance=__webpack_require__(12),_getDistance2=_interopRequireDefault(_getDistance)},function(module,exports,__webpack_require__){function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(a,b,c){if((0,_canFitAround2.default)(a,b,c)){var targets=(0,_getBoxesAround2.default)(a,b),valid_targets=targets.filter(function(target){return(0,_canContain2.default)(target,c)}),target=(0,_findClosest2.default)(c,valid_targets,"direct");null!==target&&(0,_moveInside2.default)(target,c)}};var _getBoxesAround=__webpack_require__(23),_getBoxesAround2=_interopRequireDefault(_getBoxesAround),_canContain=__webpack_require__(20),_canContain2=_interopRequireDefault(_canContain),_canFitAround=__webpack_require__(22),_canFitAround2=_interopRequireDefault(_canFitAround),_findClosest=__webpack_require__(25),_findClosest2=_interopRequireDefault(_findClosest),_moveInside=__webpack_require__(18),_moveInside2=_interopRequireDefault(_moveInside)},function(module,exports){function adjustByRatio(target,primary,secondary){var ratio=target/primary;return secondary*ratio}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(a,b){a.width<b.width&&(b.height=adjustByRatio(a.width,b.width,b.height),b.width=a.width),a.height<b.height&&(b.width=adjustByRatio(a.height,b.height,b.width),b.height=a.height)}},function(module,exports){Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(a,b,horizontal,vertical){switch(horizontal){case"left":b.left=a.left;break;case"right":b.left=a.left+a.width-b.width;break;case"center":b.left=a.left+a.width/2-b.width/2}switch(vertical){case"top":b.top=a.top;break;case"bottom":b.top=a.top+a.height-b.height;break;case"center":b.top=a.top+a.height/2-b.height/2}}},function(module,exports,__webpack_require__){function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var _typeof2="function"==typeof Symbol&&"symbol"===_typeof3(Symbol.iterator)?function(obj){return"undefined"==typeof obj?"undefined":_typeof3(obj)}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol?"symbol":"undefined"==typeof obj?"undefined":_typeof3(obj)};Object.defineProperty(exports,"__esModule",{value:!0});var _typeof="function"==typeof Symbol&&"symbol"===_typeof2(Symbol.iterator)?function(obj){return"undefined"==typeof obj?"undefined":_typeof2(obj)}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol?"symbol":"undefined"==typeof obj?"undefined":_typeof2(obj)},_iselement=__webpack_require__(4),_iselement2=_interopRequireDefault(_iselement),_utilities=__webpack_require__(30);exports.default={_namespace:"",has:function(element,class_names){var namespace=arguments.length<=2||void 0===arguments[2]?this._namespace:arguments[2];if((0,_iselement2.default)(element)){var _ret=function(){var element_classes=(0,_utilities.parseString)(element.className),ref_classes=(0,_utilities.parseClassList)(class_names,namespace).truthy;return{v:ref_classes.reduce(function(previous,current){return previous&&element_classes.indexOf(current)!==-1},!0)}}();if("object"===("undefined"==typeof _ret?"undefined":_typeof(_ret)))return _ret.v}return!1},hasAny:function(element,class_names){var namespace=arguments.length<=2||void 0===arguments[2]?this._namespace:arguments[2];if((0,_iselement2.default)(element)){var _ret2=function(){var element_classes=(0,_utilities.parseString)(element.className),ref_classes=(0,_utilities.parseClassList)(class_names,namespace).truthy;return{v:ref_classes.reduce(function(previous,current){return previous||element_classes.indexOf(current)!==-1},!1)}}();if("object"===("undefined"==typeof _ret2?"undefined":_typeof(_ret2)))return _ret2.v}return!1},add:function(element,class_names){var namespace=arguments.length<=2||void 0===arguments[2]?this._namespace:arguments[2];if((0,_iselement2.default)(element)){var element_classes=(0,_utilities.parseString)(element.className),ref_classes=(0,_utilities.parseClassList)(class_names,namespace).truthy,new_classes=(0,_utilities.mergeClasses)(element_classes,ref_classes);element.className=new_classes.join(" ")}},remove:function(element,class_names){var namespace=arguments.length<=2||void 0===arguments[2]?this._namespace:arguments[2];if((0,_iselement2.default)(element)){var element_classes=(0,_utilities.parseString)(element.className),ref_classes=(0,_utilities.parseClassList)(class_names,namespace).truthy,new_classes=(0,_utilities.subtractClasses)(element_classes,ref_classes);element.className=new_classes.join(" ")}},toggle:function(element,class_names){var namespace=arguments.length<=2||void 0===arguments[2]?this._namespace:arguments[2];(0,_iselement2.default)(element)&&!function(){var element_classes=(0,_utilities.parseString)(element.className),ref_classes=(0,_utilities.parseClassList)(class_names,namespace).truthy,classes_to_add=[],classes_to_remove=[];ref_classes.forEach(function(item){var target=element_classes.indexOf(item)===-1?classes_to_add:classes_to_remove;target.push(item)});var new_classes=(0,_utilities.mergeClasses)(element_classes,classes_to_add);new_classes=(0,_utilities.subtractClasses)(new_classes,classes_to_remove),element.className=new_classes.join(" ")}()},withNamespace:function(namespace){var _this=this,clone={};return Object.keys(this).forEach(function(key){return clone[key]=_this[key]}),clone._namespace=namespace,clone}}},function(module,exports){function getUnique(input){var result={};return input.forEach(function(item){return result[item]=!0}),Object.keys(result)}function parseString(input){return/^\s*$/.test(input)?[]:getUnique(input.split(/\s+/))}function parseArray(input){var result=input.filter(function(item){return"string"==typeof item});return getUnique(result)}function parseHash(input){var result={truthy:[],falsy:[]};return Object.keys(input).forEach(function(item){var target=input[item]?result.truthy:result.falsy;target.push(item)}),result}function parseClassList(input,namespace){var result={truthy:[],falsy:[]};return"string"==typeof input?result.truthy=parseString(input):Array.isArray(input)?result.truthy=parseArray(input):"object"===("undefined"==typeof input?"undefined":_typeof(input))&&(result=parseHash(input)),"undefined"!=typeof namespace&&(result.truthy=result.truthy.map(function(item){return namespace+item}),result.falsy=result.falsy.map(function(item){return namespace+item})),result}function mergeClasses(){var args=Array.prototype.slice.call(arguments);return getUnique([].concat.apply([],args))}function subtractClasses(element_classes,ref_classes){return element_classes.filter(function(item){return ref_classes.indexOf(item)===-1})}var _typeof2="function"==typeof Symbol&&"symbol"===_typeof3(Symbol.iterator)?function(obj){return"undefined"==typeof obj?"undefined":_typeof3(obj)}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol?"symbol":"undefined"==typeof obj?"undefined":_typeof3(obj)};Object.defineProperty(exports,"__esModule",{value:!0});var _typeof="function"==typeof Symbol&&"symbol"===_typeof2(Symbol.iterator)?function(obj){return"undefined"==typeof obj?"undefined":_typeof2(obj)}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol?"symbol":"undefined"==typeof obj?"undefined":_typeof2(obj)};exports.getUnique=getUnique,exports.parseString=parseString,exports.parseArray=parseArray,exports.parseHash=parseHash,exports.parseClassList=parseClassList,exports.mergeClasses=mergeClasses,exports.subtractClasses=subtractClasses},function(module,exports){function isArray(obj){return Array.isArray?Array.isArray(obj):"[object Array]"===Object.prototype.toString.call(obj)}function add(object,event){var callback=arguments.length<=2||void 0===arguments[2]?noop:arguments[2];if(isArray(event))for(var i=0;i<event.length;i++)add(object,event[i],callback);else object.addEventListener?object.addEventListener(event,callback):object.attachEvent&&object.attachEvent("on"+event,callback)}function remove(object,event){var callback=arguments.length<=2||void 0===arguments[2]?noop:arguments[2];if(isArray(event))for(var i=0;i<event.length;i++)remove(object,event[i],callback);else object.removeEventListener?object.removeEventListener(event,callback):object.detachEvent&&object.detachEvent("on"+event,callback)}function stop(event){event&&(event.preventDefault?event.preventDefault():event.returnValue=!1)}function target(event){if(event)return event.target||event.srcElement||null}Object.defineProperty(exports,"__esModule",{value:!0}),exports.add=add,exports.remove=remove,exports.stop=stop,exports.target=target;var noop=function(){}},function(module,exports,__webpack_require__){function _interopRequireWildcard(obj){if(obj&&obj.__esModule)return obj;var newObj={};if(null!=obj)for(var key in obj)Object.prototype.hasOwnProperty.call(obj,key)&&(newObj[key]=obj[key]);return newObj.default=obj,newObj}function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function shouldCallbackFire(callback_id,prev,next){return callback_checks[callback_id](prev,next)}function filterProperties(){var input=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],properties=arguments.length<=1||void 0===arguments[1]?[]:arguments[1],result={};return properties.forEach(function(key){result[key]=input[key]}),result}Object.defineProperty(exports,"__esModule",{value:!0});var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},_createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){
return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_elementCollector=__webpack_require__(33),_elementCollector2=_interopRequireDefault(_elementCollector),_identifyElement=__webpack_require__(39),_getCurrentState2=__webpack_require__(40),_getCurrentState3=_interopRequireDefault(_getCurrentState2),_getUniqueKeys=__webpack_require__(46),_getUniqueKeys2=_interopRequireDefault(_getUniqueKeys),_callbackChecks=__webpack_require__(47),callback_checks=_interopRequireWildcard(_callbackChecks),default_options={interval:100},callback_properties={onResize:["size"],onMove:["position"],onVisibilityChange:["visibility"],onShow:["visibility"],onHide:["visibility"],onExistenceChange:["existence"],onAppear:["existence"],onVanish:["existence"],onChange:["size","position","visibility","existence"]},ElementMonitor=function(){function ElementMonitor(elements){var callbacks=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],options=arguments[2];_classCallCheck(this,ElementMonitor),this._ticker=null,this._memory=null,this.elements=new _elementCollector2.default(elements),this._callbacks={};for(var callback_id in callbacks)this.setCallback(callback_id,callbacks[callback_id]);this._options={},this.setOptions(default_options),this.setOptions(options)}return _createClass(ElementMonitor,[{key:"setOptions",value:function(){var options=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];this._options=_extends(this._options,options)}},{key:"setCallback",value:function(id,callback){var is_valid="undefined"!=typeof callback_properties[id],is_function="function"==typeof callback;is_valid&&is_function&&(this._callbacks[id]=callback,this._memory=this._getCurrentState())}},{key:"start",value:function(){var _this=this;this.stop(),this._memory=this._getCurrentState(),this._ticker=setInterval(function(){return _this._tick()},this._options.interval)}},{key:"stop",value:function(){this._ticker&&clearInterval(this._ticker),this._ticker=null}},{key:"_tick",value:function(){var _this2=this,current_state=this._getCurrentState(),all_element_ids=(0,_getUniqueKeys2.default)([this._memory,current_state]);all_element_ids.forEach(function(element_id){var prev=_this2._memory[element_id],next=current_state[element_id],callbacks_to_fire=_this2._getCallbacksToFire(prev,next);_this2._fireCallbacks(element_id,callbacks_to_fire,prev,next)}),this._memory=current_state}},{key:"_getCurrentState",value:function(){var properties=[];return Object.keys(this._callbacks).forEach(function(key){properties=properties.concat(callback_properties[key])}),(0,_getCurrentState3.default)(this.elements.get(),properties)}},{key:"_getCallbacksToFire",value:function(prev,next){var result=[];return Object.keys(this._callbacks).forEach(function(callback_id){shouldCallbackFire(callback_id,prev,next)&&result.push(callback_id)}),result}},{key:"_fireCallbacks",value:function(id,callbacks,prev,next){var _this3=this;callbacks.forEach(function(callback_id){var props=callback_properties[callback_id],filtered_prev=filterProperties(prev,props),filtered_next=filterProperties(next,props),element=(0,_identifyElement.getIdentifiedElement)(id);_this3._callbacks[callback_id](element,filtered_prev,filtered_next,parseInt(id))})}}]),ElementMonitor}();exports.default=ElementMonitor},function(module,exports,__webpack_require__){function _interopRequireWildcard(obj){if(obj&&obj.__esModule)return obj;var newObj={};if(null!=obj)for(var key in obj)Object.prototype.hasOwnProperty.call(obj,key)&&(newObj[key]=obj[key]);return newObj.default=obj,newObj}function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function getGetterMethod(item){switch((0,_getType2.default)(item)){case"node":return"getByNode";case"collection":return"getByCollection";case"selector":return"getBySelector";case"function":return"getByFunction";default:return null}}function getAllChildren(node,items){return(0,_arrayReducePrototypejsFix2.default)(items,function(result,item){var getter_method=getGetterMethod(item);if(getter_method){var found_items=get_methods[getter_method](node,item);result=result.concat(found_items)}return result},[])}function getUniqueChildren(node,items){return(0,_arrayReducePrototypejsFix2.default)(items,function(result,item){var is_child=node.contains(item),is_unique=result.indexOf(item)===-1;return is_child&&is_unique&&result.push(item),result},[])}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_getType=__webpack_require__(34),_getType2=_interopRequireDefault(_getType),_arrayReducePrototypejsFix=__webpack_require__(35),_arrayReducePrototypejsFix2=_interopRequireDefault(_arrayReducePrototypejsFix),_getByType=__webpack_require__(38),get_methods=_interopRequireWildcard(_getByType),_class=function(){function _class(item){_classCallCheck(this,_class),this.items=[],"undefined"!=typeof item&&this.add(item)}return _createClass(_class,[{key:"add",value:function(item){var _this=this;if((0,_getType.isArray)(item))item.forEach(function(item){return _this.add(item)});else{var is_unique=this.items.indexOf(item)===-1,is_valid_type=(0,_getType2.default)(item);is_unique&&is_valid_type&&this.items.push(item)}}},{key:"remove",value:function(item){var _this2=this;if((0,_getType.isArray)(item))item.forEach(function(item){return _this2.remove(item)});else{var position=this.items.indexOf(item);position!==-1&&this.items.splice(position,1)}}},{key:"reset",value:function(){this.items=[]}},{key:"set",value:function(item){this.reset(),this.add(item)}},{key:"get",value:function(){var node=arguments.length<=0||void 0===arguments[0]?document.body:arguments[0];if(!node||!node.contains)return[];var found=getAllChildren(node,this.items);return getUniqueChildren(node,found)}}]),_class}();exports.default=_class},function(module,exports){function isNode(item){return!!item&&1===item.nodeType}function isArray(item){return"[object Array]"===Object.prototype.toString.call(item)}function isCollection(item){return"[object NodeList]"===Object.prototype.toString.call(item)}function isEnumerable(item){return isArray(item)||isCollection(item)}function isSelector(item){if(!item)return!1;try{document.querySelector(item)}catch(error){return!1}return!0}function isFunction(item){return"function"==typeof item}Object.defineProperty(exports,"__esModule",{value:!0}),exports.isNode=isNode,exports.isArray=isArray,exports.isCollection=isCollection,exports.isEnumerable=isEnumerable,exports.isSelector=isSelector,exports.isFunction=isFunction,exports.default=function(item){return isNode(item)?"node":isCollection(item)?"collection":isArray(item)?"array":isSelector(item)?"selector":isFunction(item)?"function":null}},function(module,exports,__webpack_require__){function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function isOldPrototype(){if("undefined"==typeof window)return!1;var prototype_version=(0,_getNestedProperty2.default)(window,"Prototype.Version");if("string"==typeof prototype_version){var parts=prototype_version.split(".").map(function(item){return parseInt(item,10)});if(parts[0]<1||1===parts[0]&&parts[1]<7)return!0}return!1}function arrayReduce(){for(var array=arguments.length<=0||void 0===arguments[0]?[]:arguments[0],arrayReduce=isOldPrototype()?_arrayReducePolyfill2.default:Array.prototype.reduce,_len=arguments.length,params=Array(_len>1?_len-1:0),_key=1;_key<_len;_key++)params[_key-1]=arguments[_key];return arrayReduce.apply(array,params)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=arrayReduce;var _getNestedProperty=__webpack_require__(36),_getNestedProperty2=_interopRequireDefault(_getNestedProperty),_arrayReducePolyfill=__webpack_require__(37),_arrayReducePolyfill2=_interopRequireDefault(_arrayReducePolyfill)},function(module,exports){function getNestedProperty(){var data=arguments.length<=0||void 0===arguments[0]?window:arguments[0],path=arguments.length<=1||void 0===arguments[1]?"":arguments[1],default_value=arguments[2];if("string"!=typeof path)throw new TypeError('getNestedProperty: Provided path must be String (is "'+path+'").');var _ret=function(){var result=data;return""!==path&&path.split(".").forEach(function(segment){result="undefined"!=typeof result&&"undefined"!=typeof result[segment]?result[segment]:void 0}),{v:"undefined"==typeof result?default_value:result}}();if("object"===("undefined"==typeof _ret?"undefined":_typeof(_ret)))return _ret.v}var _typeof2="function"==typeof Symbol&&"symbol"===_typeof3(Symbol.iterator)?function(obj){return"undefined"==typeof obj?"undefined":_typeof3(obj)}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol?"symbol":"undefined"==typeof obj?"undefined":_typeof3(obj)};Object.defineProperty(exports,"__esModule",{value:!0});var _typeof="function"==typeof Symbol&&"symbol"===_typeof2(Symbol.iterator)?function(obj){return"undefined"==typeof obj?"undefined":_typeof2(obj)}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol?"symbol":"undefined"==typeof obj?"undefined":_typeof2(obj)};exports.default=getNestedProperty},function(module,exports){Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(callback){if(null==this)throw new TypeError("Array.prototype.reduce called on null or undefined");if("function"!=typeof callback)throw new TypeError(callback+" is not a function");var value,t=Object(this),len=t.length>>>0,k=0;if(2==arguments.length)value=arguments[1];else{for(;k<len&&!(k in t);)k++;if(k>=len)throw new TypeError("Reduce of empty array with no initial value");value=t[k++]}for(;k<len;k++)k in t&&(value=callback(value,t[k],k,t));return value}},function(module,exports,__webpack_require__){function getByNode(root,node){return[node]}function getByCollection(root,collection){return[].slice.call(collection)}function getBySelector(root,selector){var collection=root.querySelectorAll(selector);return getByCollection(root,collection)}function getByFunction(root,fn){var result=fn(root);return(0,_getType.isEnumerable)(result)||(result=[result]),result.map(function(item){return(0,_getType.isNode)(item)}),result}Object.defineProperty(exports,"__esModule",{value:!0}),exports.getByNode=getByNode,exports.getByCollection=getByCollection,exports.getBySelector=getBySelector,exports.getByFunction=getByFunction;var _getType=__webpack_require__(34)},function(module,exports,__webpack_require__){function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function constructAttribute(namespace){var result="data-identifyElement";return namespace&&(result+="-"+namespace),result}function identifyElement(element,namespace){if(!(0,_iselement2.default)(element))return null;var attribute=constructAttribute(namespace);isElementIdentified(element,namespace)||(counter++,element.setAttribute(attribute,counter.toString()));var id=parseInt(element.getAttribute(attribute));return cache[id]=element,id}function isElementIdentified(element,namespace){if((0,_iselement2.default)(element)){var attribute=constructAttribute(namespace);return!!element.getAttribute(attribute)}return!1}function getIdentifiedElement(id){return cache[id]||null}Object.defineProperty(exports,"__esModule",{value:!0}),exports.identifyElement=identifyElement,exports.isElementIdentified=isElementIdentified,exports.getIdentifiedElement=getIdentifiedElement;var _iselement=__webpack_require__(4),_iselement2=_interopRequireDefault(_iselement),counter=0,cache={}},function(module,exports,__webpack_require__){function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(){var elements=arguments.length<=0||void 0===arguments[0]?[]:arguments[0],properties=arguments[1],result={};return elements.forEach(function(element){var element_id=(0,_identifyElement.identifyElement)(element);result[element_id]=(0,_getElementProperties2.default)(element,properties)}),result};var _identifyElement=__webpack_require__(39),_getElementProperties=__webpack_require__(41),_getElementProperties2=_interopRequireDefault(_getElementProperties)},function(module,exports,__webpack_require__){function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function getBox(element){var element_id=(0,_identifyElement.identifyElement)(element);return box_cache[element_id]||(box_cache[element_id]=_theDomBox2.default.getBox(element)),box_cache[element_id]}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(element){var properties=arguments.length<=1||void 0===arguments[1]?[]:arguments[1],result={};return element&&(properties.forEach(function(property){result[property]=property_getters[property](element)}),delete box_cache[(0,_identifyElement.identifyElement)(element)]),result};var _isVisible=__webpack_require__(42),_isVisible2=_interopRequireDefault(_isVisible),_theDomBox=__webpack_require__(2),_theDomBox2=_interopRequireDefault(_theDomBox),_identifyElement=__webpack_require__(39),box_cache={},property_getters={existence:function(element){return document.body.contains(element)},visibility:function(element){return(0,_isVisible2.default)(element)},width:function(element){return getBox(element).width},height:function(element){return getBox(element).height},size:function(element){return{width:this.width(element),height:this.height(element)}},left:function(element){return getBox(element).left},top:function(element){return getBox(element).top},position:function(element){return{left:this.left(element),top:this.top(element)}}}},function(module,exports,__webpack_require__){function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function getStyle(element,property){return window.getComputedStyle?(0,_styleProperties.getStyleProperty)(element,property).original:element.currentStyle?element.currentStyle[property]:null}function checkVisibility(element){var is_displayed="none"!==getStyle(element,"display"),is_visible="hidden"!==getStyle(element,"visibility");return is_displayed&&is_visible}function isVisible(element){if(!(0,_iselement2.default)(element))return!1;var body_element=document.querySelector("body"),html_element=document.querySelector("html");if(!body_element||!body_element.contains(element))return!1;for(;element&&element!==body_element&&element!==html_element;){if(!checkVisibility(element))return!1;element=element.parentNode}return!0}function isVisibleAll(list){for(var i=0;i<list.length;i++)if(!isVisible(list[i]))return!1;return!0}function isVisibleAny(list){for(var i=0;i<list.length;i++)if(isVisible(list[i]))return!0;return!1}Object.defineProperty(exports,"__esModule",{value:!0}),exports.isVisible=isVisible,exports.isVisibleAll=isVisibleAll,exports.isVisibleAny=isVisibleAny;var _iselement=__webpack_require__(4),_iselement2=_interopRequireDefault(_iselement),_styleProperties=__webpack_require__(43);exports.default=isVisible},function(module,exports,__webpack_require__){function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function fixWebcomponentsElement(element){if("undefined"!=typeof window.ShadowDOMPolyfill){var is_native=document.defaultView.getComputedStyle.toString().indexOf("[native code]")!==-1,is_wrapped="undefined"!=typeof element.__impl4cf1e782hg__;is_native&&is_wrapped&&(element=window.ShadowDOMPolyfill.unwrap(element)),is_native||is_wrapped||(element=window.ShadowDOMPolyfill.wrap(element))}return element}function getStyleProperty(element,property){property=(0,_changeCase.toKebabCase)(property),element=fixWebcomponentsElement(element);var value=document.defaultView.getComputedStyle(element,null).getPropertyValue(property);return(0,_parsePropertyValue2.default)(value)}function getStyleProperties(element){var properties=arguments.length<=1||void 0===arguments[1]?[]:arguments[1];"string"==typeof properties&&(properties=[properties]);var result={};return properties.forEach(function(property){result[property]=getStyleProperty(element,property)}),result}Object.defineProperty(exports,"__esModule",{value:!0}),exports.getStyleProperty=getStyleProperty,exports.getStyleProperties=getStyleProperties;var _changeCase=__webpack_require__(44),_parsePropertyValue=__webpack_require__(45),_parsePropertyValue2=_interopRequireDefault(_parsePropertyValue)},function(module,exports){function toCamelCase(){for(var input=arguments.length<=0||void 0===arguments[0]?"":arguments[0],characters=input.split(""),result=[],character=void 0;character=characters.shift();)delimiters.indexOf(character)!==-1&&(character=characters.shift())&&(character=character.toUpperCase()),result.push(character);return result.join("")}function toKebabCase(){var input=arguments.length<=0||void 0===arguments[0]?"":arguments[0],characters=input.split(""),result=[];return characters.forEach(function(character){var lowercase_character=character.toLowerCase();character!==lowercase_character?result.push("-",lowercase_character):delimiters.indexOf(character)!==-1?result.push("-"):result.push(character)}),result.join("")}Object.defineProperty(exports,"__esModule",{value:!0}),exports.toCamelCase=toCamelCase,exports.toKebabCase=toKebabCase;var delimiters=[" ","-","_"]},function(module,exports){function convertColorComponent(input){var result=input.toString(16);return result.length<2&&(result="0"+result),result}function parseColorProperty(value){var matches=value.match(re_color),result={};return result.unit="rgb",result.value=[parseInt(matches[1],10),parseInt(matches[2],10),parseInt(matches[3],10)],result.output="#"+convertColorComponent(result.value[0])+convertColorComponent(result.value[1])+convertColorComponent(result.value[2]),result}function parseRegularProperty(value){var result={unit:"",value:null,output:"auto"};if("auto"!==value){var matches=value.match(re_prop);result.value=parseFloat(matches[1]),result.unit=matches[2],result.output=result.value+result.unit}return result}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(value){var result=re_color.test(value)?parseColorProperty(value):parseRegularProperty(value);return result.original=value,result};var re_color=/^rgb\((\d+),\s?(\d+),\s?(\d+)\)$/,re_prop=/^(-?\d*\.?\d*)(.*)$/},function(module,exports){Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(){var objects=arguments.length<=0||void 0===arguments[0]?[]:arguments[0],result=[];return objects.forEach(function(item){Object.keys(item).forEach(function(key){result.indexOf(key)===-1&&result.push(key)})}),result}},function(module,exports,__webpack_require__){function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function exists(input){return"undefined"!=typeof input&&null!==input}function onResize(prev,next){return exists(prev)&&exists(next)&&(0,_isValueChanged2.default)(prev.size,next.size)}function onMove(prev,next){return exists(prev)&&exists(next)&&(0,_isValueChanged2.default)(prev.position,next.position)}function onVisibilityChange(prev,next){return exists(prev)&&exists(next)&&(0,_isValueChanged2.default)(prev.visibility,next.visibility)}function onShow(prev,next){return exists(prev)&&exists(next)&&prev.visibility===!1&&next.visibility===!0}function onHide(prev,next){return exists(prev)&&exists(next)&&prev.visibility===!0&&next.visibility===!1}function onExistenceChange(prev,next){return!exists(prev)&&exists(next)&&next.existence===!0||exists(prev)&&!exists(next)&&prev.existence===!0||exists(prev)&&exists(next)&&(0,_isValueChanged2.default)(prev.existence,next.existence)}function onAppear(prev,next){return exists(next)&&next.existence===!0&&(!exists(prev)||prev.existence===!1)}function onVanish(prev,next){return exists(prev)&&prev.existence===!0&&(!exists(next)||next.existence===!1)}function onChange(prev,next){return onResize(prev,next)||onMove(prev,next)||onVisibilityChange(prev,next)||onExistenceChange(prev,next)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.onResize=onResize,exports.onMove=onMove,exports.onVisibilityChange=onVisibilityChange,exports.onShow=onShow,exports.onHide=onHide,exports.onExistenceChange=onExistenceChange,exports.onAppear=onAppear,exports.onVanish=onVanish,exports.onChange=onChange;var _isValueChanged=__webpack_require__(48),_isValueChanged2=_interopRequireDefault(_isValueChanged)},function(module,exports,__webpack_require__){function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var _typeof2="function"==typeof Symbol&&"symbol"===_typeof3(Symbol.iterator)?function(obj){return"undefined"==typeof obj?"undefined":_typeof3(obj)}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol?"symbol":"undefined"==typeof obj?"undefined":_typeof3(obj)};Object.defineProperty(exports,"__esModule",{value:!0});var _typeof="function"==typeof Symbol&&"symbol"===_typeof2(Symbol.iterator)?function(obj){return"undefined"==typeof obj?"undefined":_typeof2(obj)}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol?"symbol":"undefined"==typeof obj?"undefined":_typeof2(obj)};exports.default=function(val1,val2){return("undefined"==typeof val1?"undefined":_typeof(val1))!==("undefined"==typeof val2?"undefined":_typeof(val2))||("object"===("undefined"==typeof val1?"undefined":_typeof(val1))?!(0,_compareObjects2.default)(val1,val2):val1!==val2)};var _compareObjects=__webpack_require__(49),_compareObjects2=_interopRequireDefault(_compareObjects)},function(module,exports,__webpack_require__){function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function isNotObject(obj){return!obj||"object"!==("undefined"==typeof obj?"undefined":_typeof(obj))}var _typeof2="function"==typeof Symbol&&"symbol"===_typeof3(Symbol.iterator)?function(obj){return"undefined"==typeof obj?"undefined":_typeof3(obj)}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol?"symbol":"undefined"==typeof obj?"undefined":_typeof3(obj)};Object.defineProperty(exports,"__esModule",{value:!0});var _typeof="function"==typeof Symbol&&"symbol"===_typeof2(Symbol.iterator)?function(obj){return"undefined"==typeof obj?"undefined":_typeof2(obj)}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol?"symbol":"undefined"==typeof obj?"undefined":_typeof2(obj)};exports.default=function(obj1,obj2){if(isNotObject(obj1)||isNotObject(obj2))return!1;var result=!0,keys=(0,_getUniqueKeys2.default)([obj1,obj2]);return keys.forEach(function(key){obj1[key]!==obj2[key]&&(result=!1)}),result};var _getUniqueKeys=__webpack_require__(46),_getUniqueKeys2=_interopRequireDefault(_getUniqueKeys)},function(module,exports,__webpack_require__){var content=__webpack_require__(51);"string"==typeof content&&(content=[[module.id,content,""]]);__webpack_require__(53)(content,{});content.locals&&(module.exports=content.locals)},function(module,exports,__webpack_require__){exports=module.exports=__webpack_require__(52)(),exports.push([module.id,"html {\n  position: relative;\n  min-height: 100%;\n}\n.fczbkk-popover {\n  position: absolute;\n  top: 0;\n  left: 0;\n}\n.fczbkk-popover-wrapper {\n  position: absolute;\n  top: 0;\n  left: 0;\n  border: 1px solid #ccc;\n  background: #fff;\n  padding: 1em;\n  width: 300px;\n  box-sizing: border-box;\n}\n.fczbkk-popover-scroll_message {\n  display: none;\n}\n.fczbkk-popover-pointer-shape {\n  fill: #fff;\n  stroke: #ccc;\n  stroke-width: 1px;\n}\n.fczbkk-popover-pointer-holder {\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  pointer-events: none;\n}\n.fczbkk-popover-orphan {\n  position: fixed;\n}\n.fczbkk-popover-orphan .fczbkk-popover-static_pointer .fczbkk-popover-pointer-holder {\n  display: none;\n}\n.fczbkk-popover-static_pointer {\n  position: absolute;\n  border-width: 10px;\n  border-style: solid;\n  border-color: transparent;\n  width: 0;\n  height: 0;\n}\n.fczbkk-popover-supports_svg .fczbkk-popover-static_pointer {\n  display: none;\n}\n.fczbkk-popover-right .fczbkk-popover-static_pointer,\n.fczbkk-popover-rightTop .fczbkk-popover-static_pointer,\n.fczbkk-popover-rightBottom .fczbkk-popover-static_pointer {\n  right: -10px;\n  border-left-color: #ccc;\n  border-right-width: 0;\n}\n.fczbkk-popover-left .fczbkk-popover-static_pointer,\n.fczbkk-popover-leftTop .fczbkk-popover-static_pointer,\n.fczbkk-popover-leftBottom .fczbkk-popover-static_pointer {\n  left: -10px;\n  border-right-color: #ccc;\n  border-left-width: 0;\n}\n.fczbkk-popover-right .fczbkk-popover-static_pointer,\n.fczbkk-popover-left .fczbkk-popover-static_pointer {\n  top: 50%;\n  margin-top: -5px;\n}\n.fczbkk-popover-top .fczbkk-popover-static_pointer,\n.fczbkk-popover-topRight .fczbkk-popover-static_pointer,\n.fczbkk-popover-topLeft .fczbkk-popover-static_pointer {\n  top: -10px;\n  border-bottom-color: #ccc;\n  border-top-width: 0;\n}\n.fczbkk-popover-bottom .fczbkk-popover-static_pointer,\n.fczbkk-popover-bottomRight .fczbkk-popover-static_pointer,\n.fczbkk-popover-bottomLeft .fczbkk-popover-static_pointer {\n  bottom: -10px;\n  border-top-color: #ccc;\n  border-bottom-width: 0;\n}\n.fczbkk-popover-top .fczbkk-popover-static_pointer,\n.fczbkk-popover-bottom .fczbkk-popover-static_pointer {\n  left: 50%;\n  margin-left: -5px;\n}\n.fczbkk-popover-rightTop .fczbkk-popover-static_pointer,\n.fczbkk-popover-leftTop .fczbkk-popover-static_pointer {\n  top: 0;\n}\n.fczbkk-popover-rightBottom .fczbkk-popover-static_pointer,\n.fczbkk-popover-leftBottom .fczbkk-popover-static_pointer {\n  bottom: 0;\n}\n.fczbkk-popover-topRight .fczbkk-popover-static_pointer,\n.fczbkk-popover-bottomRight .fczbkk-popover-static_pointer {\n  right: 0;\n}\n.fczbkk-popover-topLeft .fczbkk-popover-static_pointer,\n.fczbkk-popover-bottomLeft .fczbkk-popover-static_pointer {\n  left: 0;\n}\n",""])},function(module,exports){module.exports=function(){var list=[];return list.toString=function(){for(var result=[],i=0;i<this.length;i++){var item=this[i];item[2]?result.push("@media "+item[2]+"{"+item[1]+"}"):result.push(item[1])}return result.join("")},list.i=function(modules,mediaQuery){"string"==typeof modules&&(modules=[[null,modules,""]]);for(var alreadyImportedModules={},i=0;i<this.length;i++){var id=this[i][0];"number"==typeof id&&(alreadyImportedModules[id]=!0)}for(i=0;i<modules.length;i++){var item=modules[i];"number"==typeof item[0]&&alreadyImportedModules[item[0]]||(mediaQuery&&!item[2]?item[2]=mediaQuery:mediaQuery&&(item[2]="("+item[2]+") and ("+mediaQuery+")"),list.push(item))}},list}},function(module,exports,__webpack_require__){function addStylesToDom(styles,options){for(var i=0;i<styles.length;i++){var item=styles[i],domStyle=stylesInDom[item.id];if(domStyle){domStyle.refs++;for(var j=0;j<domStyle.parts.length;j++)domStyle.parts[j](item.parts[j]);for(;j<item.parts.length;j++)domStyle.parts.push(addStyle(item.parts[j],options))}else{for(var parts=[],j=0;j<item.parts.length;j++)parts.push(addStyle(item.parts[j],options));stylesInDom[item.id]={id:item.id,refs:1,parts:parts}}}}function listToStyles(list){for(var styles=[],newStyles={},i=0;i<list.length;i++){var item=list[i],id=item[0],css=item[1],media=item[2],sourceMap=item[3],part={css:css,media:media,sourceMap:sourceMap};newStyles[id]?newStyles[id].parts.push(part):styles.push(newStyles[id]={id:id,parts:[part]})}return styles}function insertStyleElement(options,styleElement){var head=getHeadElement(),lastStyleElementInsertedAtTop=styleElementsInsertedAtTop[styleElementsInsertedAtTop.length-1];if("top"===options.insertAt)lastStyleElementInsertedAtTop?lastStyleElementInsertedAtTop.nextSibling?head.insertBefore(styleElement,lastStyleElementInsertedAtTop.nextSibling):head.appendChild(styleElement):head.insertBefore(styleElement,head.firstChild),styleElementsInsertedAtTop.push(styleElement);else{if("bottom"!==options.insertAt)throw new Error("Invalid value for parameter 'insertAt'. Must be 'top' or 'bottom'.");head.appendChild(styleElement)}}function removeStyleElement(styleElement){styleElement.parentNode.removeChild(styleElement);var idx=styleElementsInsertedAtTop.indexOf(styleElement);idx>=0&&styleElementsInsertedAtTop.splice(idx,1)}function createStyleElement(options){var styleElement=document.createElement("style");return styleElement.type="text/css",insertStyleElement(options,styleElement),styleElement}function createLinkElement(options){var linkElement=document.createElement("link");return linkElement.rel="stylesheet",insertStyleElement(options,linkElement),linkElement}function addStyle(obj,options){var styleElement,update,remove;if(options.singleton){var styleIndex=singletonCounter++;styleElement=singletonElement||(singletonElement=createStyleElement(options)),update=applyToSingletonTag.bind(null,styleElement,styleIndex,!1),remove=applyToSingletonTag.bind(null,styleElement,styleIndex,!0)}else obj.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(styleElement=createLinkElement(options),update=updateLink.bind(null,styleElement),remove=function(){removeStyleElement(styleElement),styleElement.href&&URL.revokeObjectURL(styleElement.href)}):(styleElement=createStyleElement(options),update=applyToTag.bind(null,styleElement),remove=function(){removeStyleElement(styleElement)});return update(obj),function(newObj){if(newObj){if(newObj.css===obj.css&&newObj.media===obj.media&&newObj.sourceMap===obj.sourceMap)return;update(obj=newObj)}else remove()}}function applyToSingletonTag(styleElement,index,remove,obj){var css=remove?"":obj.css;if(styleElement.styleSheet)styleElement.styleSheet.cssText=replaceText(index,css);else{var cssNode=document.createTextNode(css),childNodes=styleElement.childNodes;childNodes[index]&&styleElement.removeChild(childNodes[index]),childNodes.length?styleElement.insertBefore(cssNode,childNodes[index]):styleElement.appendChild(cssNode)}}function applyToTag(styleElement,obj){var css=obj.css,media=obj.media;if(media&&styleElement.setAttribute("media",media),styleElement.styleSheet)styleElement.styleSheet.cssText=css;else{for(;styleElement.firstChild;)styleElement.removeChild(styleElement.firstChild);styleElement.appendChild(document.createTextNode(css))}}function updateLink(linkElement,obj){var css=obj.css,sourceMap=obj.sourceMap;sourceMap&&(css+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap))))+" */");var blob=new Blob([css],{type:"text/css"}),oldSrc=linkElement.href;linkElement.href=URL.createObjectURL(blob),oldSrc&&URL.revokeObjectURL(oldSrc)}var stylesInDom={},memoize=function(fn){var memo;return function(){return"undefined"==typeof memo&&(memo=fn.apply(this,arguments)),memo}},isOldIE=memoize(function(){return/msie [6-9]\b/.test(window.navigator.userAgent.toLowerCase())}),getHeadElement=memoize(function(){return document.head||document.getElementsByTagName("head")[0]}),singletonElement=null,singletonCounter=0,styleElementsInsertedAtTop=[];module.exports=function(list,options){options=options||{},"undefined"==typeof options.singleton&&(options.singleton=isOldIE()),"undefined"==typeof options.insertAt&&(options.insertAt="bottom");var styles=listToStyles(list);return addStylesToDom(styles,options),function(newList){for(var mayRemove=[],i=0;i<styles.length;i++){var item=styles[i],domStyle=stylesInDom[item.id];domStyle.refs--,mayRemove.push(domStyle);
}if(newList){var newStyles=listToStyles(newList);addStylesToDom(newStyles,options)}for(var i=0;i<mayRemove.length;i++){var domStyle=mayRemove[i];if(0===domStyle.refs){for(var j=0;j<domStyle.parts.length;j++)domStyle.parts[j]();delete stylesInDom[domStyle.id]}}}};var replaceText=function(){var textStore=[];return function(index,replacement){return textStore[index]=replacement,textStore.filter(Boolean).join("\n")}}()}])},function(module,exports,__webpack_require__){"use strict";function _interopRequireWildcard(obj){if(obj&&obj.__esModule)return obj;var newObj={};if(null!=obj)for(var key in obj)Object.prototype.hasOwnProperty.call(obj,key)&&(newObj[key]=obj[key]);return newObj.default=obj,newObj}function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function addList(){var launchers=arguments.length<=0||void 0===arguments[0]?[]:arguments[0],player=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];launchers.forEach(function(launcher_options){add(launcher_options,player)})}function add(options){var player=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],launcher=constructLauncher(options,player);return player.launchers.push(launcher),launcher}function constructLauncher(launcher_options,player){var launcher=new _launcher2.default(sanitize(launcher_options,player)),updateVisibility=function(){shouldActivate(launcher,player)?launcher.activate():launcher.deactivate()};return player.emitter.add("onStepActivate",updateVisibility),player.emitter.add("onAfterTopicEnd",updateVisibility),player.emitter.add("onSetOptions",updateVisibility),player.emitter.add("onSetLanguage",updateVisibility),player.emitter.add("onReinit",updateVisibility),EventBridge.addFirstSupported(window,["popstate","hashchange"],updateVisibility),launcher.setOptions({on_destroy:function(){player.emitter.remove("onStepActivate",updateVisibility),player.emitter.remove("onAfterTopicEnd",updateVisibility),player.emitter.remove("onSetOptions",updateVisibility),player.emitter.remove("onSetLanguage",updateVisibility),player.emitter.remove("onReinit",updateVisibility),EventBridge.remove(window,["popstate","hashchange"],updateVisibility)}}),updateVisibility(),launcher}function getTypedOptions(){var source=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],config=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],result={};return(0,_objectPairs2.default)(config).forEach(function(_ref){var type=_ref.key,properties_list=_ref.val;properties_list.forEach(function(property){(0,_exists2.default)(source[property])&&_typeof(source[property])===type&&(result[property]=source[property])})}),result}function sanitize(){var options=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],player=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],defaults={class_name:"",appear_animation_duration:0,move_animation_duration:0},typed_options=getTypedOptions(options,{string:["position","template","content","title","element","point_at"],number:["z_index","offset_horizontal","offset_vertical","appear_animation_duration","move_animation_duration"]}),transferred_options={topic:options.topic,step:options.step,visibility:options.visibility,context:options.context,element:options.element},result=_extends({},defaults,player.options.launcher_options,typed_options,transferred_options);return"string"==typeof options.class_name&&(result.class_name+=" "+options.class_name),(0,_exists2.default)(options.context_paths)&&(result.context_paths=(0,_url.sanitizeUrls)(options.context_paths,player.options.base_path)),result.events={},(0,_exists2.default)(options.activate_events)||(0,_exists2.default)(options.deactivate_events)||(0,_exists2.default)(options.toggle_events)||(options.toggle_events=["click"]),(0,_objectPairs2.default)({activate_events:constructOnActivateCallback,deactivate_events:constructOnDeactivateCallback,toggle_events:constructOnToggleCallback}).forEach(function(_ref2){var key=_ref2.key,val=_ref2.val;(0,_exists2.default)(options[key])&&!function(){var callback=val(options,player);options[key].forEach(function(event_type){result.events[event_type]=callback})}()}),result}function constructOnToggleCallback(options,player){return function(event,launcher,attachment_element){var callback=isLauncherActive(options,player)?constructOnDeactivateCallback(options,player):constructOnActivateCallback(options,player);callback(event,launcher,attachment_element)}}function constructOnDeactivateCallback(options,player){switch(getCallbackType(options)){case"custom":return(0,_sanitizeCallback2.default)(options.on_deactivate);case"topic":case"step":return getDeactivateCallback(player);case"none":default:return function(){}}}function constructOnActivateCallback(options,player){switch(getCallbackType(options)){case"custom":return(0,_sanitizeCallback2.default)(options.on_activate);case"topic":return getActivateTopicCallback(options,player);case"step":return getActivateStepCallback(options,player);case"none":default:return function(){}}}function getDeactivateCallback(player){return function(){player.endTopic()}}function getActivateTopicCallback(options,player){return function(){isLauncherActive(options,player)||(trackLauncherActivation(player,options.topic),player._activateTopic(options.topic))}}function getActivateStepCallback(options,player){var topic=options.topic,step=options.step;return function(event,launcher_object,attachment_element){if(!isLauncherActive(options,player)){var target_elm=getTargetElement(options,player,attachment_element);trackLauncherActivation(player,topic,step),player._activateStep(topic,step,null,target_elm)}}}function getCallbackType(launcher_options){return(0,_exists2.default)(launcher_options.on_activate)?"custom":getLauncherType(launcher_options)}function getTargetElement(options,player,launcher_element){switch(options.point_at){case"launcher":return(0,_safeQuerySelector.safeQuery)(options.element);case"step":var step_data=player.getStepData(options.topic,options.step);return(0,_safeQuerySelector.safeQuery)(step_data.element);case"orphan":return null;case"self":default:return launcher_element}}function getLauncherType(){var launcher_options=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];return(0,_exists2.default)(launcher_options.topic)?(0,_exists2.default)(launcher_options.step)?"step":"topic":"none"}function isCurrentTopic(topic,player){return player.getCurrentTopic()===topic}function isCurrentStep(topic,step,player){return player.getCurrentStep()===step&&isCurrentTopic(topic,player)}function isLauncherActive(launcher_options,player){var topic=launcher_options.topic;switch(getLauncherType(launcher_options)){case"topic":return isCurrentTopic(topic,player);case"step":return isCurrentStep(topic,launcher_options.step,player);default:return!1}}function trackLauncherActivation(player,topic_id,step_index){var tracking_data={event:"launcher_activate"};(0,_exists2.default)(topic_id)&&(tracking_data.topic=topic_id),(0,_exists2.default)(step_index)&&(tracking_data.step=step_index),player.handleTopicStart("launcher"),player.tracking.track(tracking_data)}function matchesContext(launcher,player){return!(0,_exists2.default)(launcher.options.context)||player.evaluateRule(launcher.options.context)}function matchesContextPaths(launcher){return!(0,_exists2.default)(launcher.options.context_paths)||(0,_url.testUrl)(launcher.options.context_paths)}function matchesTopicVisibility(launcher,player){var launcher_topic_id=launcher.options.topic,current_topic_id=player.getCurrentTopic(),visibility_type=launcher.options.visibility;return!(0,_exists2.default)(launcher_topic_id)||"active"===visibility_type&&current_topic_id===launcher_topic_id||"inactive"===visibility_type&&current_topic_id!==launcher_topic_id}function matchesVisibility(launcher,player){return(!(0,_exists2.default)(launcher.options.visibility)||"always"===launcher.options.visibility||matchesTopicVisibility(launcher,player))&&"never"!==launcher.options.visibility}function matchesLanguage(launcher,player){return!(0,_exists2.default)(launcher.options.topic)||(0,_getNestedProperty2.default)(player,"options.filter_topics_by_language")!==!0||(0,_topic.matchesTopicLanguage)(player.topics[launcher.options.topic],player.options.language)}function matchesInclusion(launcher,player){var launcher_topic_id=launcher.options.topic,topic_data=(0,_getNestedProperty2.default)(player,["topics",launcher_topic_id],{});return!(0,_exists2.default)(launcher_topic_id)||(0,_topic.isTopicVisible)(topic_data,player)}function shouldActivate(launcher,player){return matchesContext(launcher,player)&&matchesContextPaths(launcher)&&matchesVisibility(launcher,player)&&matchesLanguage(launcher,player)&&matchesInclusion(launcher,player)}Object.defineProperty(exports,"__esModule",{value:!0});var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol?"symbol":typeof obj};exports.addList=addList,exports.add=add,exports.sanitize=sanitize,exports.matchesContext=matchesContext,exports.matchesContextPaths=matchesContextPaths,exports.matchesTopicVisibility=matchesTopicVisibility,exports.matchesVisibility=matchesVisibility,exports.matchesLanguage=matchesLanguage,exports.matchesInclusion=matchesInclusion,exports.shouldActivate=shouldActivate;var _launcher=__webpack_require__(86),_launcher2=_interopRequireDefault(_launcher),_sanitizeCallback=__webpack_require__(45),_sanitizeCallback2=_interopRequireDefault(_sanitizeCallback),_exists=__webpack_require__(41),_exists2=_interopRequireDefault(_exists),_objectPairs=__webpack_require__(80),_objectPairs2=_interopRequireDefault(_objectPairs),_safeQuerySelector=__webpack_require__(42),_url=__webpack_require__(44),_eventBridge=__webpack_require__(101),EventBridge=_interopRequireWildcard(_eventBridge),_topic=__webpack_require__(107),_getNestedProperty=__webpack_require__(31),_getNestedProperty2=_interopRequireDefault(_getNestedProperty)},function(module,exports,__webpack_require__){"use strict";function _interopRequireWildcard(obj){if(obj&&obj.__esModule)return obj;var newObj={};if(null!=obj)for(var key in obj)Object.prototype.hasOwnProperty.call(obj,key)&&(newObj[key]=obj[key]);return newObj.default=obj,newObj}function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},_createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_elementMonitor=__webpack_require__(87),_elementMonitor2=_interopRequireDefault(_elementMonitor),_identifyElement=__webpack_require__(99),_eventBridge=__webpack_require__(101),EventBridge=_interopRequireWildcard(_eventBridge),_isVisible=__webpack_require__(34),_isVisible2=_interopRequireDefault(_isVisible),_utilities=__webpack_require__(102),noop=function(){},noop_confirm=function(){return!0},default_options={element:null,position:"top_right",offset_vertical:0,offset_horizontal:0,class_name:"",content:"",title:"",template:'<div class="%class_name%" title="%title%">%content%</div>',events:{},events_toggle:[],events_on:[],events_off:[],callback_on:noop,callback_off:noop,z_index:1e3,appear_animation_duration:500,move_animation_duration:500,on_before_activate:noop_confirm,on_add:noop,on_before_deactivate:noop_confirm,on_remove:noop,on_activate:noop,on_deactivate:noop,on_animation_start:noop,on_animation_end:noop,on_destroy:noop},Launcher=function(){function Launcher(options){_classCallCheck(this,Launcher),this._state=!1,this._is_active=!1,this.attachments={},this.attachment_events={},this.options={},this._createEventHandlerReferences(),this.monitor=new _elementMonitor2.default(null,{onAppear:this._handleElementAppear.bind(this),onShow:this._handleElementAppear.bind(this),onVanish:this._handleElementVanish.bind(this),onHide:this._handleElementVanish.bind(this),onMove:this._handleElementChange.bind(this),onResize:this._handleElementChange.bind(this)}),this.setOptions(_extends({},default_options,options))}return _createClass(Launcher,[{key:"_createEventHandlerReferences",value:function(){this._handleToggleEvent=function(event,element){this._toggleState(event,element)}.bind(this),this._handleActivateEvent=function(event,element){this._setState(!0,event,element)}.bind(this),this._handleDeactivateEvent=function(event,element){this._setState(!1,event,element)}.bind(this)}},{key:"setOptions",value:function(){var options=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];return this._setAllEventListeners(!1),_extends(this.options,options),this._setAllEventListeners(!0),this.template=(0,_utilities.constructTemplate)(this.options),this.monitor.elements.set(this.options.element),this}},{key:"_handleElementChange",value:function(element,prev_props,next_props,element_id){var attachment=this.attachments[element_id];if(attachment){var animation=attachment.move_animation,target_position=(0,_utilities.calculateAttachmentPosition)(attachment.element,element,this.options);animation.setOptions({target:{left:target_position.left,top:target_position.top}}),animation.start()}}},{key:"_handleElementAppear",value:function(element,prev_props,next_props,element_id){this._addAttachment(element)}},{key:"_handleElementVanish",value:function(element,prev_props,next_props,element_id){this._removeAttachment(element_id)}},{key:"activate",value:function(){!this._is_active&&this.options.on_before_activate()&&this._activate()}},{key:"_activate",value:function(){var _this=this;this.monitor.start(),this.monitor.elements.get().forEach(function(element){(0,_isVisible2.default)(element)&&_this._addAttachment(element)}),this._is_active=!0,this.options.on_activate()}},{key:"deactivate",value:function(){this._is_active&&this.options.on_before_deactivate()&&this._deactivate()}},{key:"_deactivate",value:function(){var _this2=this;this.monitor.stop(),Object.keys(this.attachments).forEach(function(element_id){_this2._removeAttachment(element_id)}),this._is_active=!1,this.options.on_deactivate()}},{key:"_addAttachment",value:function(element){var element_id=(0,_identifyElement.identifyElement)(element);if("undefined"==typeof this.attachments[element_id]){var attachment_element=(0,_utilities.createAttachmentElement)(this.template,this.options),attachment_object=(0,_utilities.createAttachmentObject)(attachment_element,this.options);this._setAttachmentEventListeners(attachment_element,!0),this.attachments[element_id]=attachment_object}var current_data=this.attachments[element_id];(0,_utilities.setupAttachmentElement)(current_data.element,element,this.options),current_data.appear_animation.setOptions({target:{opacity:1}}),current_data.appear_animation.start(),this.options.on_add(element)}},{key:"_removeAttachment",value:function(element_id){var _this3=this,attachment=this.attachments[element_id];if(attachment){var animation=attachment.appear_animation,animation_options={target:{opacity:0},onEnd:function(){_this3._destroyAttachment(element_id)}};animation.setOptions(animation_options),animation.start(),this.options.on_remove(element_id)}}},{key:"_destroyAttachment",value:function(element_id){var attachment=this.attachments[element_id];if(attachment){var element=attachment.element,parent=element.parentNode;parent&&element.parentNode.removeChild(element)}delete this.attachments[element_id]}},{key:"_setState",value:function(new_state,event,element){new_state=!!new_state,this._state!==new_state&&(new_state?this.options.callback_on(event,this,element):this.options.callback_off(event,this,element)),this._state=new_state}},{key:"_toggleState",value:function(event,element){this._setState(!this._state,event,element)}},{key:"_setAttachmentEventListeners",value:function(element,do_add){var _this4=this,element_id=(0,_identifyElement.identifyElement)(element),method=do_add?EventBridge.add:EventBridge.remove;do_add&&(this.attachment_events[element_id]={toggle:function(event){return _this4._handleToggleEvent(event,element)},on:function(event){return _this4._handleActivateEvent(event,element)},off:function(event){return _this4._handleDeactivateEvent(event,element)}}),method(element,this.options.events_toggle,this.attachment_events[element_id].toggle),method(element,this.options.events_on,this.attachment_events[element_id].on),method(element,this.options.events_off,this.attachment_events[element_id].off),Object.keys(this.options.events).forEach(function(event_type){do_add&&(_this4.attachment_events[element_id][event_type]=function(event){return _this4.options.events[event_type](event,_this4,element)}),method(element,event_type,_this4.attachment_events[element_id][event_type])})}},{key:"_setAllEventListeners",value:function(do_add){var _this5=this;Object.keys(this.attachments).forEach(function(element_id){var element=_this5.attachments[element_id].element;_this5._setAttachmentEventListeners(element,do_add)})}},{key:"destroy",value:function(){var _this6=this;this.deactivate(),this.options.on_destroy(),Object.keys(this.attachments).forEach(function(element_id){_this6._destroyAttachment(element_id)})}}]),Launcher}();exports.default=Launcher},function(module,exports,__webpack_require__){"use strict";function _interopRequireWildcard(obj){if(obj&&obj.__esModule)return obj;var newObj={};if(null!=obj)for(var key in obj)Object.prototype.hasOwnProperty.call(obj,key)&&(newObj[key]=obj[key]);return newObj.default=obj,newObj}function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function shouldCallbackFire(callback_id,prev,next){return callback_checks[callback_id](prev,next)}function filterProperties(){var input=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],properties=arguments.length<=1||void 0===arguments[1]?[]:arguments[1],result={};return properties.forEach(function(key){result[key]=input[key]}),result}Object.defineProperty(exports,"__esModule",{value:!0});var _elementCollector=__webpack_require__(88),_elementCollector2=_interopRequireDefault(_elementCollector),_identifyElement=__webpack_require__(91),_getCurrentState2=__webpack_require__(93),_getCurrentState3=_interopRequireDefault(_getCurrentState2),_getUniqueKeys=__webpack_require__(95),_getUniqueKeys2=_interopRequireDefault(_getUniqueKeys),_callbackChecks=__webpack_require__(96),callback_checks=_interopRequireWildcard(_callbackChecks),_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},_createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),default_options={interval:100},callback_properties={onResize:["size","visibility"],onMove:["position","visibility"],onVisibilityChange:["visibility"],onShow:["visibility"],onHide:["visibility"],onExistenceChange:["existence"],onAppear:["existence"],onVanish:["existence"],onChange:["size","position","visibility","existence"]},ElementMonitor=function(){function ElementMonitor(elements){var callbacks=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],options=arguments[2];_classCallCheck(this,ElementMonitor),this._ticker=null,this._memory=null,this.elements=new _elementCollector2.default(elements),this._callbacks={};for(var callback_id in callbacks)this.setCallback(callback_id,callbacks[callback_id]);this._options={},this.setOptions(default_options),this.setOptions(options)}return _createClass(ElementMonitor,[{key:"setOptions",value:function(){var options=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];this._options=_extends(this._options,options)}},{key:"setCallback",value:function(id,callback){var is_valid="undefined"!=typeof callback_properties[id],is_function="function"==typeof callback;is_valid&&is_function&&(this._callbacks[id]=callback,this._memory=this._getCurrentState())}},{key:"start",value:function(){var _this=this;this.stop(),this._memory=this._getCurrentState(),this._ticker=setInterval(function(){return _this._tick()},this._options.interval)}},{key:"stop",value:function(){this._ticker&&clearInterval(this._ticker),this._ticker=null}},{key:"_tick",value:function(){var _this2=this,current_state=this._getCurrentState(),all_element_ids=(0,_getUniqueKeys2.default)([this._memory,current_state]);all_element_ids.forEach(function(element_id){var prev=_this2._memory[element_id],next=current_state[element_id],callbacks_to_fire=_this2._getCallbacksToFire(prev,next);_this2._fireCallbacks(element_id,callbacks_to_fire,prev,next)}),this._memory=current_state}},{key:"_getCurrentState",value:function(){var properties=[];return Object.keys(this._callbacks).forEach(function(key){properties=properties.concat(callback_properties[key])}),(0,_getCurrentState3.default)(this.elements.get(),properties)}},{key:"_getCallbacksToFire",value:function(prev,next){var result=[];return Object.keys(this._callbacks).forEach(function(callback_id){shouldCallbackFire(callback_id,prev,next)&&result.push(callback_id)}),result}},{key:"_fireCallbacks",value:function(id,callbacks,prev,next){var _this3=this;callbacks.forEach(function(callback_id){var props=callback_properties[callback_id],filtered_prev=filterProperties(prev,props),filtered_next=filterProperties(next,props),element=(0,_identifyElement.getIdentifiedElement)(id);_this3._callbacks[callback_id](element,filtered_prev,filtered_next,parseInt(id))})}}]),ElementMonitor}();exports.default=ElementMonitor},function(module,exports,__webpack_require__){"use strict";function _interopRequireWildcard(obj){if(obj&&obj.__esModule)return obj;var newObj={};if(null!=obj)for(var key in obj)Object.prototype.hasOwnProperty.call(obj,key)&&(newObj[key]=obj[key]);return newObj.default=obj,newObj}function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function getGetterMethod(item){switch((0,_getType2.default)(item)){case"node":return"getByNode";case"collection":return"getByCollection";case"selector":return"getBySelector";case"function":return"getByFunction";default:return null}}function getAllChildren(node,items){return(0,_arrayReducePrototypejsFix2.default)(items,function(result,item){var getter_method=getGetterMethod(item);if(getter_method){var found_items=get_methods[getter_method](node,item);result=result.concat(found_items)}return result},[])}function getUniqueChildren(node,items){return(0,_arrayReducePrototypejsFix2.default)(items,function(result,item){var is_child=node.contains(item),is_unique=result.indexOf(item)===-1;return is_child&&is_unique&&result.push(item),result},[])}Object.defineProperty(exports,"__esModule",{value:!0});var _getType=__webpack_require__(89),_getType2=_interopRequireDefault(_getType),_arrayReducePrototypejsFix=__webpack_require__(39),_arrayReducePrototypejsFix2=_interopRequireDefault(_arrayReducePrototypejsFix),_getByType=__webpack_require__(90),get_methods=_interopRequireWildcard(_getByType),_createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_class=function(){function _class(item){_classCallCheck(this,_class),this.items=[],"undefined"!=typeof item&&this.add(item)}return _createClass(_class,[{key:"add",value:function(item){var _this=this;if((0,_getType.isArray)(item))item.forEach(function(item){return _this.add(item)});else{var is_unique=this.items.indexOf(item)===-1,is_valid_type=(0,_getType2.default)(item);is_unique&&is_valid_type&&this.items.push(item)}}},{key:"remove",value:function(item){var _this2=this;if((0,_getType.isArray)(item))item.forEach(function(item){return _this2.remove(item)});else{var position=this.items.indexOf(item);position!==-1&&this.items.splice(position,1)}}},{key:"reset",value:function(){this.items=[]}},{key:"set",value:function(item){this.reset(),this.add(item)}},{key:"get",value:function(){var node=arguments.length<=0||void 0===arguments[0]?document.body:arguments[0];if(!node||!node.contains)return[];var found=getAllChildren(node,this.items);return getUniqueChildren(node,found)}}]),_class}();exports.default=_class},function(module,exports){"use strict";function isNode(item){return!!item&&1===item.nodeType}function isArray(item){return"[object Array]"===Object.prototype.toString.call(item)}function isCollection(item){return"[object NodeList]"===Object.prototype.toString.call(item)}function isEnumerable(item){return isArray(item)||isCollection(item)}function isSelector(item){if(!item)return!1;try{document.querySelector(item)}catch(error){return!1}return!0}function isFunction(item){return"function"==typeof item}Object.defineProperty(exports,"__esModule",{value:!0}),exports.isNode=isNode,exports.isArray=isArray,exports.isCollection=isCollection,exports.isEnumerable=isEnumerable,exports.isSelector=isSelector,exports.isFunction=isFunction,exports.default=function(item){return isNode(item)?"node":isCollection(item)?"collection":isArray(item)?"array":isSelector(item)?"selector":isFunction(item)?"function":null}},function(module,exports,__webpack_require__){"use strict";function getByNode(root,node){return[node]}function getByCollection(root,collection){return[].slice.call(collection)}function getBySelector(root,selector){var collection=root.querySelectorAll(selector);return getByCollection(root,collection)}function getByFunction(root,fn){var result=fn(root);return(0,_getType.isEnumerable)(result)||(result=[result]),result.map(function(item){return(0,_getType.isNode)(item)}),result}Object.defineProperty(exports,"__esModule",{value:!0}),exports.getByNode=getByNode,exports.getByCollection=getByCollection,exports.getBySelector=getBySelector,exports.getByFunction=getByFunction;var _getType=__webpack_require__(89)},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function constructAttribute(namespace){var result="data-identifyElement";return namespace&&(result+="-"+namespace),result}function identifyElement(element,namespace){if(!(0,_iselement2.default)(element))return null;var attribute=constructAttribute(namespace);isElementIdentified(element,namespace)||(counter++,element.setAttribute(attribute,counter.toString()));var id=parseInt(element.getAttribute(attribute));return cache[id]=element,id}function isElementIdentified(element,namespace){if((0,_iselement2.default)(element)){var attribute=constructAttribute(namespace);return!!element.getAttribute(attribute)}return!1}function getIdentifiedElement(id){return cache[id]||null}Object.defineProperty(exports,"__esModule",{value:!0}),exports.identifyElement=identifyElement,exports.isElementIdentified=isElementIdentified,exports.getIdentifiedElement=getIdentifiedElement;var _iselement=__webpack_require__(92),_iselement2=_interopRequireDefault(_iselement),counter=0,cache={}},function(module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _typeof2="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol?"symbol":typeof obj};exports.default=function(input){return null!=input&&"object"===("undefined"==typeof input?"undefined":_typeof(input))&&1===input.nodeType&&"object"===_typeof(input.style)&&"object"===_typeof(input.ownerDocument)};var _typeof="function"==typeof Symbol&&"symbol"===_typeof2(Symbol.iterator)?function(obj){return"undefined"==typeof obj?"undefined":_typeof2(obj)}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol?"symbol":"undefined"==typeof obj?"undefined":_typeof2(obj)}},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(){var elements=arguments.length<=0||void 0===arguments[0]?[]:arguments[0],properties=arguments[1],result={};return elements.forEach(function(element){var element_id=(0,_identifyElement.identifyElement)(element);result[element_id]=(0,_getElementProperties2.default)(element,properties)}),result};var _identifyElement=__webpack_require__(91),_getElementProperties=__webpack_require__(94),_getElementProperties2=_interopRequireDefault(_getElementProperties)},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function getBox(element){var element_id=(0,_identifyElement.identifyElement)(element);return box_cache[element_id]||(box_cache[element_id]=_theDomBox2.default.getBox(element)),box_cache[element_id]}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(element){var properties=arguments.length<=1||void 0===arguments[1]?[]:arguments[1],result={};return element&&(properties.forEach(function(property){result[property]=property_getters[property](element)}),delete box_cache[(0,_identifyElement.identifyElement)(element)]),result};var _isVisible=__webpack_require__(34),_isVisible2=_interopRequireDefault(_isVisible),_theDomBox=__webpack_require__(50),_theDomBox2=_interopRequireDefault(_theDomBox),_identifyElement=__webpack_require__(91),box_cache={},property_getters={existence:function(element){return document.body.contains(element)},visibility:function(element){return(0,_isVisible2.default)(element)},width:function(element){return getBox(element).width},height:function(element){return getBox(element).height},size:function(element){return{width:this.width(element),height:this.height(element)}},left:function(element){return getBox(element).left},top:function(element){return getBox(element).top},position:function(element){return{left:this.left(element),top:this.top(element)}}}},function(module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(){var objects=arguments.length<=0||void 0===arguments[0]?[]:arguments[0],result=[];return objects.forEach(function(item){Object.keys(item).forEach(function(key){result.indexOf(key)===-1&&result.push(key)})}),
result}},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function exists(input){return"undefined"!=typeof input&&null!==input}function onResize(prev,next){return exists(prev)&&exists(next)&&(0,_isValueChanged2.default)(prev.size,next.size)&&!(0,_isValueChanged2.default)(prev.visibility,next.visibility)}function onMove(prev,next){return exists(prev)&&exists(next)&&(0,_isValueChanged2.default)(prev.position,next.position)&&!(0,_isValueChanged2.default)(prev.visibility,next.visibility)}function onVisibilityChange(prev,next){return exists(prev)&&exists(next)&&(0,_isValueChanged2.default)(prev.visibility,next.visibility)}function onShow(prev,next){return exists(prev)&&exists(next)&&prev.visibility===!1&&next.visibility===!0}function onHide(prev,next){return exists(prev)&&exists(next)&&prev.visibility===!0&&next.visibility===!1}function onExistenceChange(prev,next){return!exists(prev)&&exists(next)&&next.existence===!0||exists(prev)&&!exists(next)&&prev.existence===!0||exists(prev)&&exists(next)&&(0,_isValueChanged2.default)(prev.existence,next.existence)}function onAppear(prev,next){return exists(next)&&next.existence===!0&&(!exists(prev)||prev.existence===!1)}function onVanish(prev,next){return exists(prev)&&prev.existence===!0&&(!exists(next)||next.existence===!1)}function onChange(prev,next){return onResize(prev,next)||onMove(prev,next)||onVisibilityChange(prev,next)||onExistenceChange(prev,next)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.onResize=onResize,exports.onMove=onMove,exports.onVisibilityChange=onVisibilityChange,exports.onShow=onShow,exports.onHide=onHide,exports.onExistenceChange=onExistenceChange,exports.onAppear=onAppear,exports.onVanish=onVanish,exports.onChange=onChange;var _isValueChanged=__webpack_require__(97),_isValueChanged2=_interopRequireDefault(_isValueChanged)},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}Object.defineProperty(exports,"__esModule",{value:!0});var _typeof2="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol?"symbol":typeof obj};exports.default=function(val1,val2){return("undefined"==typeof val1?"undefined":_typeof(val1))!==("undefined"==typeof val2?"undefined":_typeof(val2))||("object"===("undefined"==typeof val1?"undefined":_typeof(val1))?!(0,_compareObjects2.default)(val1,val2):val1!==val2)};var _compareObjects=__webpack_require__(98),_compareObjects2=_interopRequireDefault(_compareObjects),_typeof="function"==typeof Symbol&&"symbol"===_typeof2(Symbol.iterator)?function(obj){return"undefined"==typeof obj?"undefined":_typeof2(obj)}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol?"symbol":"undefined"==typeof obj?"undefined":_typeof2(obj)}},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function isNotObject(obj){return!obj||"object"!==("undefined"==typeof obj?"undefined":_typeof(obj))}Object.defineProperty(exports,"__esModule",{value:!0});var _typeof2="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol?"symbol":typeof obj};exports.default=function(obj1,obj2){if(isNotObject(obj1)||isNotObject(obj2))return!1;var result=!0,keys=(0,_getUniqueKeys2.default)([obj1,obj2]);return keys.forEach(function(key){obj1[key]!==obj2[key]&&(result=!1)}),result};var _getUniqueKeys=__webpack_require__(95),_getUniqueKeys2=_interopRequireDefault(_getUniqueKeys),_typeof="function"==typeof Symbol&&"symbol"===_typeof2(Symbol.iterator)?function(obj){return"undefined"==typeof obj?"undefined":_typeof2(obj)}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol?"symbol":"undefined"==typeof obj?"undefined":_typeof2(obj)}},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function constructAttribute(namespace){var result="data-identifyElement";return namespace&&(result+="-"+namespace),result}function identifyElement(element,namespace){if(!(0,_iselement2.default)(element))return null;var attribute=constructAttribute(namespace);isElementIdentified(element,namespace)||(counter++,element.setAttribute(attribute,counter.toString()));var id=parseInt(element.getAttribute(attribute));return cache[id]=element,id}function isElementIdentified(element,namespace){if((0,_iselement2.default)(element)){var attribute=constructAttribute(namespace);return!!element.getAttribute(attribute)}return!1}function getIdentifiedElement(id){return cache[id]||null}Object.defineProperty(exports,"__esModule",{value:!0}),exports.identifyElement=identifyElement,exports.isElementIdentified=isElementIdentified,exports.getIdentifiedElement=getIdentifiedElement;var _iselement=__webpack_require__(100),_iselement2=_interopRequireDefault(_iselement),counter=0,cache={}},function(module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _typeof2="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol?"symbol":typeof obj};exports.default=function(input){return null!=input&&"object"===("undefined"==typeof input?"undefined":_typeof(input))&&1===input.nodeType&&"object"===_typeof(input.style)&&"object"===_typeof(input.ownerDocument)};var _typeof="function"==typeof Symbol&&"symbol"===_typeof2(Symbol.iterator)?function(obj){return"undefined"==typeof obj?"undefined":_typeof2(obj)}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol?"symbol":"undefined"==typeof obj?"undefined":_typeof2(obj)}},function(module,exports){"use strict";function isArray(obj){return Array.isArray?Array.isArray(obj):"[object Array]"===Object.prototype.toString.call(obj)}function handleEvent(object,event,callback,do_add){var main_method=do_add?"addEventListener":"removeEventListener",backup_method=do_add?"attachEvent":"detachEvent";isValidEventType(event)&&(object[main_method]?object[main_method](event,callback):object[backup_method]&&object[backup_method]("on"+event,callback))}function handleEvents(object,events,callback,do_add){"string"==typeof events&&(events=[events]),isArray(events)&&events.forEach(function(event){handleEvent(object,event,callback,do_add)})}function add(){var object=arguments.length<=0||void 0===arguments[0]?window:arguments[0],events=arguments.length<=1||void 0===arguments[1]?[]:arguments[1],callback=arguments.length<=2||void 0===arguments[2]?noop:arguments[2];handleEvents(object,events,callback,!0)}function addFirstSupported(){var object=arguments.length<=0||void 0===arguments[0]?window:arguments[0],events=arguments.length<=1||void 0===arguments[1]?[]:arguments[1],callback=arguments.length<=2||void 0===arguments[2]?noop:arguments[2],supported_events=events.filter(isValidEventType);add(object,supported_events[0],callback)}function remove(){var object=arguments.length<=0||void 0===arguments[0]?window:arguments[0],events=arguments.length<=1||void 0===arguments[1]?[]:arguments[1],callback=arguments.length<=2||void 0===arguments[2]?noop:arguments[2];handleEvents(object,events,callback,!1)}function stop(event){event&&(event.preventDefault?event.preventDefault():event.returnValue=!1)}function target(event){if(event)return event.target||event.srcElement||null}function isValidEventType(event){return"string"==typeof event&&"on"+event in window}Object.defineProperty(exports,"__esModule",{value:!0}),exports.add=add,exports.addFirstSupported=addFirstSupported,exports.remove=remove,exports.stop=stop,exports.target=target;var noop=function(){}},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function constructTemplate(_ref){var template=_ref.template,class_name=_ref.class_name,content=_ref.content,title=_ref.title;return new _fczbkkTemplate2.default(template,{class_name:class_name,content:content,title:title})}function createAttachmentElement(template,_ref2){var z_index=_ref2.z_index,element=template.getDom();return element.style.zIndex=z_index,document.body.appendChild(element),element}function createAttachmentObject(element,_ref3){var appear_animation_duration=_ref3.appear_animation_duration,move_animation_duration=_ref3.move_animation_duration;return{element:element,appear_animation:new _carve2.default(element,{duration:appear_animation_duration}),move_animation:new _carve2.default(element,{duration:move_animation_duration})}}function calculateAttachmentPosition(attachment_element,target_element,_ref4){var position=_ref4.position,offset_vertical=_ref4.offset_vertical,offset_horizontal=_ref4.offset_horizontal,attachment_box=_theDomBox2.default.getBox(attachment_element),target_box=_theDomBox2.default.getBox(target_element);"string"!=typeof position&&(position="");var result={left:attachment_box.left,top:attachment_box.top};return["top_right","right","bottom_right"].indexOf(position)!==-1&&(result.left=target_box.right+offset_horizontal),["top","bottom"].indexOf(position)!==-1&&(result.left=target_box.left+target_box.width/2-attachment_box.width/2),["top_left","left","bottom_left"].indexOf(position)!==-1&&(result.left=target_box.left-attachment_box.width-offset_horizontal),["top_right","top","top_left"].indexOf(position)!==-1&&(result.top=target_box.top-attachment_box.height+offset_vertical),["left","right"].indexOf(position)!==-1&&(result.top=target_box.top+target_box.height/2-attachment_box.height/2),["bottom_right","bottom","bottom_left"].indexOf(position)!==-1&&(result.top=target_box.bottom-offset_vertical),result}function setupAttachmentElement(attachment_element,target_element,options){var target_position=calculateAttachmentPosition(attachment_element,target_element,options);return attachment_element.style.position="absolute",attachment_element.style.left=target_position.left+"px",attachment_element.style.top=target_position.top+"px",attachment_element.style.opacity=0,attachment_element}Object.defineProperty(exports,"__esModule",{value:!0}),exports.constructTemplate=constructTemplate,exports.createAttachmentElement=createAttachmentElement,exports.createAttachmentObject=createAttachmentObject,exports.calculateAttachmentPosition=calculateAttachmentPosition,exports.setupAttachmentElement=setupAttachmentElement;var _fczbkkTemplate=__webpack_require__(13),_fczbkkTemplate2=_interopRequireDefault(_fczbkkTemplate),_theDomBox=__webpack_require__(50),_theDomBox2=_interopRequireDefault(_theDomBox),_carve=__webpack_require__(103),_carve2=_interopRequireDefault(_carve)},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function getNow(){return(new Date).getTime()}function easePosition(position){return-Math.cos(position*Math.PI)/2+.5}function getPosition(start,duration){var now=getNow(),end=start+duration,position=now>=end?1:easePosition((now-start)/duration);return position}function calculatePositionValue(origin,target,position){return origin+(target-origin)*position}function getPropertyOrigins(element,properties){var box_properties=["left","top","width","height"],element_box=TheBox.getBox(element),result=(0,_styleProperties.getStyleProperties)(element,properties);if("fixed"===(0,_styleProperties.getStyleProperty)(element,"position")){var viewport_box=TheBox.getBox("viewport");element_box.moveBy(0-viewport_box.left,0-viewport_box.top)}return properties.forEach(function(property){box_properties.indexOf(property)!==-1&&(result[property]={unit:"px",value:element_box[property],output:element_box[property]+"px"})}),result}var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_styleProperties=__webpack_require__(104),TheBox=__webpack_require__(50),noop=function(){},default_options={target:{},duration:1e3,frequency:10,onStart:noop,onEnd:noop,onStop:noop};module.exports=function(){function _class(element){var options=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];_classCallCheck(this,_class),this.options={},this.setElement(element),this.setOptions(default_options),this.setOptions(options)}return _createClass(_class,[{key:"setElement",value:function(element){this.element=element}},{key:"setOptions",value:function(){var options=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];for(var key in options)"undefined"!=typeof default_options[key]&&(this.options[key]=options[key]);return this.options}},{key:"start",value:function(){var _this=this;this.stopInterval(),this.options.onStart();var now=getNow();this.stamp_start=now;var properties=Object.keys(this.options.target);this.origin=getPropertyOrigins(this.element,properties),this.interval=setInterval(function(){return _this.tick()},this.options.frequency)}},{key:"end",value:function(){this.stopInterval(),this.options.onEnd()}},{key:"stop",value:function(){this.stopInterval(),this.options.onStop()}},{key:"stopInterval",value:function(){this.interval&&clearInterval(this.interval),delete this.interval}},{key:"updateProperty",value:function(property,position){var origin=this.origin[property].value,target=this.options.target[property],new_value=calculatePositionValue(origin,target,position);this.element.style[property]=new_value+this.origin[property].unit}},{key:"tick",value:function(){var position=getPosition(this.stamp_start,this.options.duration);for(var key in this.options.target)this.updateProperty(key,position);1===position&&this.end()}}]),_class}()},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function fixWebcomponentsElement(element){if("undefined"!=typeof window.ShadowDOMPolyfill){var is_native=document.defaultView.getComputedStyle.toString().indexOf("[native code]")!==-1,is_wrapped="undefined"!=typeof element.__impl4cf1e782hg__;is_native&&is_wrapped&&(element=window.ShadowDOMPolyfill.unwrap(element)),is_native||is_wrapped||(element=window.ShadowDOMPolyfill.wrap(element))}return element}function getStyleProperty(element,property){property=(0,_changeCase.toKebabCase)(property),element=fixWebcomponentsElement(element);var value=document.defaultView.getComputedStyle(element,null).getPropertyValue(property);return(0,_parsePropertyValue2.default)(value)}function getStyleProperties(element){var properties=arguments.length<=1||void 0===arguments[1]?[]:arguments[1];"string"==typeof properties&&(properties=[properties]);var result={};return properties.forEach(function(property){result[property]=getStyleProperty(element,property)}),result}Object.defineProperty(exports,"__esModule",{value:!0}),exports.getStyleProperty=getStyleProperty,exports.getStyleProperties=getStyleProperties;var _changeCase=__webpack_require__(105),_parsePropertyValue=__webpack_require__(106),_parsePropertyValue2=_interopRequireDefault(_parsePropertyValue)},function(module,exports){"use strict";function toCamelCase(){for(var input=arguments.length<=0||void 0===arguments[0]?"":arguments[0],characters=input.split(""),result=[],character=void 0;character=characters.shift();)delimiters.indexOf(character)!==-1&&(character=characters.shift())&&(character=character.toUpperCase()),result.push(character);return result.join("")}function toKebabCase(){var input=arguments.length<=0||void 0===arguments[0]?"":arguments[0],characters=input.split(""),result=[];return characters.forEach(function(character){var lowercase_character=character.toLowerCase();character!==lowercase_character?result.push("-",lowercase_character):delimiters.indexOf(character)!==-1?result.push("-"):result.push(character)}),result.join("")}Object.defineProperty(exports,"__esModule",{value:!0}),exports.toCamelCase=toCamelCase,exports.toKebabCase=toKebabCase;var delimiters=[" ","-","_"]},function(module,exports){"use strict";function convertColorComponent(input){var result=input.toString(16);return result.length<2&&(result="0"+result),result}function parseColorProperty(value){var matches=value.match(re_color),result={};return result.unit="rgb",result.value=[parseInt(matches[1],10),parseInt(matches[2],10),parseInt(matches[3],10)],result.output="#"+convertColorComponent(result.value[0])+convertColorComponent(result.value[1])+convertColorComponent(result.value[2]),result}function parseRegularProperty(value){var result={unit:"",value:null,output:"auto"};if("auto"!==value){var matches=value.match(re_prop);result.value=parseFloat(matches[1]),result.unit=matches[2],result.output=result.value+result.unit}return result}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(value){var result=re_color.test(value)?parseColorProperty(value):parseRegularProperty(value);return result.original=value,result};var re_color=/^rgb\((\d+),\s?(\d+),\s?(\d+)\)$/,re_prop=/^(-?\d*\.?\d*)(.*)$/},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function matchesTopicLanguage(topic_data,language){if((0,_exists2.default)(topic_data)){var is_agnostic=topic_data.language_agnostic===!0,matches_language=Array.isArray(topic_data.languages)&&topic_data.languages.indexOf(language)!==-1;return is_agnostic||matches_language}return!1}function sanitizeTopicLanguages(topic_data,topic_id){var on_error=arguments.length<=2||void 0===arguments[2]?noop:arguments[2],result=[];"string"==typeof topic_data.languages&&(topic_data.languages=[topic_data.languages]),result=Array.isArray(topic_data.languages)?topic_data.languages:"string"==typeof topic_data.language?[topic_data.language]:["en"];var valid_result=result.filter(function(item){return"string"==typeof item});return result.length!==valid_result.length&&on_error("topic.languages",{invalid_value:result,topic_id:topic_id}),valid_result}function isTopicVisible(topic_data,player){return!(0,_exists2.default)(topic_data.visibility)||player.evaluateRule(topic_data.visibility)}function resetWasDisplayedFlag(){var player=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],topic_id=arguments[1],steps=(0,_getNestedProperty2.default)(player,["topics",topic_id,"steps"]);if((0,_exists2.default)(steps))for(var step_index=0;step_index<steps.length;step_index++)(0,_step.setStepProperties)(player,topic_id,step_index,{was_displayed:!1})}Object.defineProperty(exports,"__esModule",{value:!0}),exports.matchesTopicLanguage=matchesTopicLanguage,exports.sanitizeTopicLanguages=sanitizeTopicLanguages,exports.isTopicVisible=isTopicVisible,exports.resetWasDisplayedFlag=resetWasDisplayedFlag;var _exists=__webpack_require__(41),_exists2=_interopRequireDefault(_exists),_getNestedProperty=__webpack_require__(31),_getNestedProperty2=_interopRequireDefault(_getNestedProperty),_step=__webpack_require__(108),noop=function(){}},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function getStepLauncherAttachment(){var step_data=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],attachments=(0,_getNestedProperty2.default)(step_data,"launcher.attachments");if((0,_exists2.default)(attachments)){var key=Object.keys(attachments)[0];if((0,_exists2.default)(key))return attachments[key].element}return null}function hasStepLauncherPointingAtSelf(){var step_data=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],launcher=step_data.launcher;return(0,_exists2.default)(launcher)&&"self"===(0,_getNestedProperty2.default)(launcher,"options.point_at","self")}function getStepPopoverTarget(){var step_data=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];return hasStepLauncherPointingAtSelf(step_data)?getStepLauncherAttachment(step_data):step_data.target_element||step_data.element||null}function translateStepProperties(){var step_data=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],languages=arguments.length<=1||void 0===arguments[1]?[]:arguments[1],result=_extends({},step_data),translatable_properties=["title","content"];return translatable_properties.forEach(function(property){result[property]=(0,_translate2.default)(step_data[property],languages)}),result}function stepExists(player,topic_id,step_index){return(0,_exists2.default)(player)&&(0,_exists2.default)(topic_id)&&(0,_exists2.default)(step_index)&&(0,_exists2.default)(player.topics)&&(0,_exists2.default)(player.topics[topic_id])&&(0,_exists2.default)(player.topics[topic_id].steps)&&(0,_exists2.default)(player.topics[topic_id].steps[step_index])}function setStepProperties(player,topic_id,step_index){var properties=arguments.length<=3||void 0===arguments[3]?{}:arguments[3],step=getStep(player,topic_id,step_index);return(0,_exists2.default)(step)?(_extends(step,properties),step):null}function getStepProperty(player,topic_id,step_index,property){var step=getStep(player,topic_id,step_index);return(0,_exists2.default)(step)?step[property]:null}function isFinalStep(player,topic_id,step_index){if(stepExists(player,topic_id,step_index)){var topic_steps=player.topics[topic_id].steps;return topic_steps.length-1===step_index||topic_steps[step_index].final_step===!0}return!1}function getStep(player,topic_id,step_index){return stepExists(player,topic_id,step_index)?player.topics[topic_id].steps[step_index]:null}Object.defineProperty(exports,"__esModule",{value:!0});var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target};exports.getStepLauncherAttachment=getStepLauncherAttachment,exports.hasStepLauncherPointingAtSelf=hasStepLauncherPointingAtSelf,exports.getStepPopoverTarget=getStepPopoverTarget,exports.translateStepProperties=translateStepProperties,exports.stepExists=stepExists,exports.setStepProperties=setStepProperties,exports.getStepProperty=getStepProperty,exports.isFinalStep=isFinalStep,exports.getStep=getStep;var _exists=__webpack_require__(41),_exists2=_interopRequireDefault(_exists),_getNestedProperty=__webpack_require__(31),_getNestedProperty2=_interopRequireDefault(_getNestedProperty),_translate=__webpack_require__(109),_translate2=_interopRequireDefault(_translate)},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(){var data=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],languages=arguments.length<=1||void 0===arguments[1]?[]:arguments[1];if((0,_exists2.default)(data)){if("string"==typeof data)return data;"string"==typeof languages&&(languages=[languages]),Array.isArray(languages)||(languages=[]),languages.push("en");for(var i=0;i<languages.length;i++){var found_translation=data[languages[i]];if("string"==typeof found_translation)return found_translation}}return""};var _exists=__webpack_require__(41),_exists2=_interopRequireDefault(_exists)},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(){var original_fn=arguments.length<=0||void 0===arguments[0]?noop:arguments[0],id=arguments.length<=1||void 0===arguments[1]?(0,_uuid.generate)():arguments[1],player=arguments.length<=2||void 0===arguments[2]?{}:arguments[2];return(0,_exists2.default)(player.callback_loop_prevention)||(player.callback_loop_prevention={}),function(){player.callback_loop_prevention[id]!==!0&&(player.callback_loop_prevention[id]=!0,original_fn.apply(null,arguments),player.callback_loop_prevention[id]=!1)}};var _exists=__webpack_require__(41),_exists2=_interopRequireDefault(_exists),_uuid=__webpack_require__(12),noop=function(){}},function(module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var noop=function(){};exports.default={onInit:noop,onDestroy:noop,onTopicStart:noop,onTopicPrevious:noop,onTopicNext:noop,onTopicEnd:noop,onAfterTopicEnd:noop,onTopicDone:noop,onStepActivate:noop,onStepDeactivate:noop,onStepShow:noop,onDebug:noop,onProfileLoad:noop,onRedirect:function(player,url,target,done){return done(url,target)},onSetOptions:noop,onSetLanguage:noop,onSetTopics:noop}},function(module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default={max_continuation_attempts:3,variables:{},base_path:document.location.origin,position:"bottom_right",z_index:1e3,style:"",tracking:{},api_key:null,context_topics_only:!1,language:"en",hide_branding:!1,hide_trigger:!1,panel_trigger_visibility:null,custom_trigger:null,splash_mode:!1,splash_backdrop:!0,backdrop_color:null,backdrop_opacity:null,backdrop_padding:null,backdrop_classname:null,launcher:null,launchers:[],launcher_options:{content:"?",class_name:"inmplayer-launcher",offset_vertical:10,offset_horizontal:-10},popover_disable_smart_position:!1,filter_topics_by_language:!1,rules:{},metadata:{},topic_options:{language_agnostic:!1},step_options:{final_step:!1},queue:[],actions:{autolaunch:[]},search_enabled:!0,profile_url:"https://analytics.inlinemanual.com/__profile",uuid_url:"https://analytics.inlinemanual.com/__uuid",skin:"sidebar",enable_mirroring:!1,storage_prefix:""}},function(module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default={title:"Inline Manual",trigger_title:null,panel_title:null,back:"&larr; Back to topics",branding:"Powered by",branding_link:"http://inlinemanual.com/",previous:"&larr; Previous",next:"Next &rarr;",end:"End",footer:"",empty_topics_list:"No Help topics available for this page.",lang_direction:"ltr",search_submit:"Search",search_clear:"Clear",scroll_message:"Scroll into view"}},function(module,exports,__webpack_require__){var content=__webpack_require__(115);"string"==typeof content&&(content=[[module.id,content,""]]);__webpack_require__(117)(content,{});content.locals&&(module.exports=content.locals)},function(module,exports,__webpack_require__){exports=module.exports=__webpack_require__(116)(),exports.push([module.id,".inmplayer_tpl_step_fullscreen {\n  border: none !important;\n  background-color: transparent !important;\n  box-shadow: none !important;\n}\n.inmplayer_tpl_step_left_side,\n.inmplayer_tpl_step_right_side {\n  position: fixed !important;\n  top: 0 !important;\n  height: 100vh;\n  border-radius: 0 !important;\n}\n.inmplayer_tpl_step_left_side {\n  left: 0 !important;\n  right: auto !important;\n}\n.inmplayer_tpl_step_right_side {\n  left: auto !important;\n  right: 0 !important;\n}\n.inmplayer_tpl_step_top_image .inmplayer-popover-content,\n.inmplayer_tpl_step_top_image_text .inmplayer-popover-content {\n  padding: 0;\n}\n.inmplayer_tpl_step_top_image .inmplayer-template-content,\n.inmplayer_tpl_step_top_image_text .inmplayer-template-content {\n  padding: 20px;\n}\n.inmplayer_tpl_step_top_image .inmplayer-popover-buttons,\n.inmplayer_tpl_step_top_image_text .inmplayer-popover-buttons {\n  padding: 0 20px 10px 20px;\n}\n.inmplayer_tpl_step_top_image_text .inmplayer-template-header {\n  background-color: #f0f0f0;\n  min-height: 40px;\n  padding: 20px;\n}\n.inmplayer_tpl_step_top_image_text .inmplayer-template-header img {\n  padding-right: 10px;\n}\n.inmplayer_tpl_step_top_image_text .inmplayer-template-header h1 {\n  font-size: 18px;\n  margin: 0;\n  line-height: 40px;\n}\n.inmplayer-button {\n  line-height: 28px;\n  padding: 0 10px;\n  cursor: pointer;\n  cursor: hand;\n  display: block;\n  background: #03a9f4;\n  color: #000000;\n  font-size: 14px;\n  border: 1px solid #0286c2;\n  border-radius: 5px;\n  text-align: center;\n}\n.inmplayer-general {\n  font-size: 14px;\n}\n.inmplayer-launcher {\n  box-sizing: content-box;\n  width: 20px;\n  line-height: 20px;\n  background: #c00;\n  border-radius: 100%;\n  border: 2px solid #fff;\n  color: #fff;\n  font-size: 10px;\n  font-weight: bold;\n  text-align: center;\n  cursor: pointer;\n  cursor: hand;\n}\n.inmplayer-trigger {\n  line-height: 28px;\n  padding: 0 10px;\n  cursor: pointer;\n  cursor: hand;\n  display: block;\n  background: #03a9f4;\n  color: #000000;\n  box-shadow: 0 0 10px rgba(0, 0, 0, 0.2);\n  position: fixed;\n  font-size: 18px;\n  line-height: 36px;\n  border: 1px solid #fff;\n  border-radius: 5px;\n}\n.inmplayer-position-bottom .inmplayer-trigger,\n.inmplayer-position-top .inmplayer-trigger,\n.inmplayer-position-left .inmplayer-trigger,\n.inmplayer-position-right .inmplayer-trigger,\n.inmplayer-position-right_top .inmplayer-trigger,\n.inmplayer-position-right_bottom .inmplayer-trigger,\n.inmplayer-position-left_top .inmplayer-trigger,\n.inmplayer-position-left_bottom .inmplayer-trigger {\n  width: 140px;\n  text-align: center;\n}\n.inmplayer-position-bottom .inmplayer-trigger,\n.inmplayer-position-top .inmplayer-trigger {\n  left: 50%;\n  margin-left: -70px;\n}\n.inmplayer-position-bottom .inmplayer-trigger {\n  bottom: 10px;\n}\n.inmplayer-position-top .inmplayer-trigger {\n  top: 10px;\n}\n.inmplayer-position-left .inmplayer-trigger,\n.inmplayer-position-right .inmplayer-trigger {\n  top: 50%;\n}\n.inmplayer-position-left .inmplayer-trigger,\n.inmplayer-position-left_bottom .inmplayer-trigger,\n.inmplayer-position-left_top .inmplayer-trigger {\n  left: -70px;\n  -webkit-transform: rotate(90deg);\n  -moz-transform: rotate(90deg);\n  -o-transform: rotate(90deg);\n  -ms-transform: rotate(90deg);\n  transform: rotate(90deg);\n}\n.inmplayer-position-right .inmplayer-trigger,\n.inmplayer-position-right_bottom .inmplayer-trigger,\n.inmplayer-position-right_top .inmplayer-trigger {\n  right: -70px;\n  -webkit-transform: rotate(-90deg);\n  -moz-transform: rotate(-90deg);\n  -o-transform: rotate(-90deg);\n  -ms-transform: rotate(-90deg);\n  transform: rotate(-90deg);\n}\n.inmplayer-position-bottom_right .inmplayer-trigger {\n  bottom: 10px;\n  right: 10px;\n}\n.inmplayer-position-bottom_left .inmplayer-trigger {\n  bottom: 10px;\n  left: 10px;\n}\n.inmplayer-position-top_right .inmplayer-trigger {\n  top: 10px;\n  right: 10px;\n}\n.inmplayer-position-top_left .inmplayer-trigger {\n  top: 10px;\n  left: 10px;\n}\n.inmplayer-position-left_top .inmplayer-trigger {\n  top: 80px;\n}\n.inmplayer-position-left_bottom .inmplayer-trigger {\n  bottom: 80px;\n}\n.inmplayer-position-right_top .inmplayer-trigger {\n  top: 80px;\n}\n.inmplayer-position-right_bottom .inmplayer-trigger {\n  bottom: 80px;\n}\n.inmplayer-popover {\n  font-size: 14px;\n  line-height: 21px;\n}\n.inmplayer-popover-pointer-shape {\n  fill: #03a9f4;\n  stroke: #03a9f4;\n  stroke-width: 1px;\n}\n.inmplayer-popover-wrapper {\n  background: #fff;\n  color: #222;\n  border: 1px solid #e6f1f6;\n  border-radius: 5px;\n  padding: 0;\n  width: auto;\n  box-shadow: 0 0 10px rgba(0, 0, 0, 0.2);\n}\n.inmplayer-popover-scroll_message {\n  line-height: 28px;\n  padding: 0 10px;\n  cursor: pointer;\n  cursor: hand;\n  display: block;\n  text-align: center;\n  background: #79d4fd;\n}\n.inmplayer-popover-close-button {\n  position: absolute;\n  top: 0;\n  right: 0;\n  line-height: 28px;\n  padding: 0 10px;\n  cursor: pointer;\n  cursor: hand;\n  display: block;\n}\n.inmplayer-popover-content {\n  padding: 1em;\n}\n.inmplayer-popover-title {\n  font-weight: bold;\n  margin-bottom: 1em;\n}\n.inmplayer-popover-progress {\n  line-height: 2em;\n  text-align: center;\n  z-index: 10;\n}\n.inmplayer-popover-buttons {\n  margin-top: 1em;\n  overflow: hidden;\n}\n.inmplayer-popover-button-previous,\n.inmplayer-popover-button-next,\n.inmplayer-popover-button-end {\n  z-index: 20;\n}\n.inmplayer-popover-button-previous,\n.inmplayer-popover-button-next {\n  float: left;\n  margin-right: 10px;\n}\n.inmplayer-lang-direction-rtl .inmplayer-popover-button-previous,\n.inmplayer-lang-direction-rtl .inmplayer-popover-button-next {\n  float: left;\n  margin-right: 0;\n  margin-left: 10px;\n}\n.inmplayer-popover-button-end {\n  float: right;\n  margin-left: 10px;\n}\n.inmplayer-lang-direction-rtl .inmplayer-popover-button-end {\n  float: left;\n  margin-left: 0;\n  margin-right: 10px;\n}\n.inmplayer-popover-branding {\n  display: block;\n  border-top: 1px solid #e6f1f6;\n  text-align: center;\n  color: #ccc;\n  text-decoration: none;\n  margin-top: 10px;\n  padding-top: 10px;\n}\n.inmplayer-popover-branding span {\n  text-decoration: underline;\n}\n.inmplayer-firstStep .inmplayer-popover-button-previous,\n.inmplayer-lastStep .inmplayer-popover-button-next {\n  display: none;\n}\n.hide_prev .inmplayer-popover-button-previous,\n.hide_next .inmplayer-popover-button-next,\n.hide_progress .inmplayer-popover-progress,\n.hide_navigation .inmplayer-popover-button-previous,\n.hide_navigation .inmplayer-popover-button-next,\n.hide_end .inmplayer-popover-button-end,\n.hide_close .inmplayer-popover-close-button,\n.hide_controls .inmplayer-popover-button-previous,\n.hide_controls .inmplayer-popover-button-next,\n.hide_controls .inmplayer-popover-button-end,\n.hide_title .inmplayer-popover-title,\n.hide_title .inmplayer-article-item-title {\n  display: none;\n}\n.inmplayer-list-item {\n  line-height: 28px;\n  padding: 0 10px;\n  cursor: pointer;\n  cursor: hand;\n  display: block;\n  border-bottom: 1px solid #e6f1f6;\n  padding: 2px 10px;\n}\n.inmplayer-list-item:last-child {\n  border-bottom: none;\n}\n.inmplayer-list-item:hover {\n  color: #03a9f4;\n}\n.inmplayer-list-item .search-highlight {\n  background: #ffff80;\n}\n.inmplayer-list-empty {\n  color: #ccc;\n  padding: 10px 10px;\n}\n.inmplayer-active {\n  background: #def4ff;\n}\n.inmplayer-highlight {\n  padding-left: 7.5px;\n  border-left-width: 3.33333333px;\n  border-left-color: #79d4fd;\n  border-left-style: solid;\n}\n.inmplayer-panel {\n  box-shadow: 0 0 10px rgba(0, 0, 0, 0.2);\n  position: fixed;\n  background: #fff;\n  width: 350px;\n}\n.inmplayer-panel-header {\n  line-height: 28px;\n  padding: 0 10px;\n  cursor: pointer;\n  cursor: hand;\n  display: block;\n  font-size: 18px;\n  line-height: 36px;\n}\n.inmplayer-panel-close-button,\n.inmplayer-panel-back-button {\n  line-height: 28px;\n  padding: 0 10px;\n  cursor: pointer;\n  cursor: hand;\n  display: block;\n  position: absolute;\n  top: 0;\n  font-size: 18px;\n  line-height: 36px;\n}\n.inmplayer-panel-close-button {\n  right: 0;\n}\n.inmplayer-panel-back-button {\n  left: 0;\n}\n.inmplayer-panel-body {\n  overflow: auto;\n}\n.inmplayer-panel-footer a,\n.inmplayer-panel-footer div {\n  line-height: 28px;\n  padding: 0 10px;\n  cursor: pointer;\n  cursor: hand;\n  display: block;\n  font-size: 14px;\n}\n.inmplayer-panel-footer-branding {\n  color: #CCCCCC;\n}\n.inmplayer-panel-search {\n  background: #fafafa;\n  padding: 10px;\n  overflow: hidden;\n  display: flex;\n}\n.inmplayer-panel-search input,\n.inmplayer-panel-search button {\n  font-size: 14px;\n  margin-right: 10px;\n}\n.inmplayer-panel-search input {\n  flex-grow: 1;\n}\n.inmplayer-panel-search a {\n  color: #CCCCCC;\n}\n.inmplayer-skin-legacy.inmplayer-position-bottom_right .inmplayer-panel,\n.inmplayer-skin-legacy.inmplayer-position-right_bottom .inmplayer-panel {\n  bottom: 10px;\n  right: 10px;\n}\n.inmplayer-skin-legacy.inmplayer-position-bottom_left .inmplayer-panel,\n.inmplayer-skin-legacy.inmplayer-position-left_bottom .inmplayer-panel {\n  bottom: 10px;\n  left: 10px;\n}\n.inmplayer-skin-legacy.inmplayer-position-top_right .inmplayer-panel,\n.inmplayer-skin-legacy.inmplayer-position-right_top .inmplayer-panel,\n.inmplayer-skin-legacy.inmplayer-position-right .inmplayer-panel {\n  top: 10px;\n  right: 10px;\n}\n.inmplayer-skin-legacy.inmplayer-position-top_left .inmplayer-panel,\n.inmplayer-skin-legacy.inmplayer-position-left_top .inmplayer-panel,\n.inmplayer-skin-legacy.inmplayer-position-left .inmplayer-panel {\n  top: 10px;\n  left: 10px;\n}\n.inmplayer-skin-legacy.inmplayer-position-top .inmplayer-panel,\n.inmplayer-skin-legacy.inmplayer-position-bottom .inmplayer-panel {\n  left: 50%;\n  margin-left: -175px;\n}\n.inmplayer-skin-legacy.inmplayer-position-top .inmplayer-panel {\n  top: 10px;\n}\n.inmplayer-skin-legacy.inmplayer-position-bottom .inmplayer-panel {\n  bottom: 10px;\n}\n.inmplayer-skin-legacy .inmplayer-panel {\n  border-radius: 5px;\n  border: 1px solid #fff;\n}\n.inmplayer-skin-legacy .inmplayer-panel-header {\n  background: #03a9f4;\n  color: #000000;\n  border-radius: 5px 5px 0 0;\n}\n.inmplayer-skin-legacy .inmplayer-panel-close-button {\n  background: #03a9f4;\n  color: #000000;\n  background: none;\n}\n.inmplayer-skin-legacy .inmplayer-panel-body {\n  max-height: 13em;\n  border: 1px solid #e6f1f6;\n}\n.inmplayer-skin-legacy .inmplayer-panel-footer {\n  overflow: hidden;\n  background: #f7fcff;\n  border: 1px solid #e6f1f6;\n  border-top: none;\n  border-radius: 0 0 5px 5px;\n}\n.inmplayer-skin-legacy .inmplayer-panel-footer a,\n.inmplayer-skin-legacy .inmplayer-panel-footer div {\n  float: left;\n  text-decoration: none;\n  color: #7690a2;\n}\n.inmplayer-skin-legacy .inmplayer-panel-footer-branding {\n  float: right !important;\n}\n.inmplayer-skin-sidebar.inmplayer-position-bottom_left .inmplayer-panel,\n.inmplayer-skin-sidebar.inmplayer-position-left_bottom .inmplayer-panel,\n.inmplayer-skin-sidebar.inmplayer-position-top_left .inmplayer-panel,\n.inmplayer-skin-sidebar.inmplayer-position-left_top .inmplayer-panel,\n.inmplayer-skin-sidebar.inmplayer-position-left .inmplayer-panel {\n  right: auto;\n  left: 0;\n}\n.inmplayer-skin-sidebar .inmplayer-panel {\n  border-radius: 0;\n  top: 0;\n  right: 0;\n  bottom: 0;\n}\n.inmplayer-skin-sidebar .inmplayer-panel-body {\n  border: 1px solid #e6f1f6;\n  border-width: 1px 0;\n  background: #fafafa;\n}\n.inmplayer-skin-sidebar .inmplayer-panel-header {\n  text-align: center;\n  border: 1px solid #e6f1f6;\n  border-width: 0 0 1px 0;\n}\n.inmplayer-skin-sidebar .inmplayer-panel-footer {\n  text-align: center;\n}\n@media (max-width: 400px) {\n  .inmplayer-skin-sidebar .inmplayer-panel {\n    left: 0;\n    right: 0;\n  }\n}\n.inmplayer-article-title,\n.inmplayer-article-item {\n  padding: 10px;\n}\n.inmplayer-article-title,\n.inmplayer-article-item-title {\n  font-weight: bold;\n}\n.inmplayer-article-title {\n  font-size: 21px;\n}\n.inmplayer-article-hide-title {\n  display: none;\n}\n.inmplayer-lang-direction-rtl {\n  text-align: right;\n}\n",""]);
},function(module,exports){"use strict";module.exports=function(){var list=[];return list.toString=function(){for(var result=[],i=0;i<this.length;i++){var item=this[i];item[2]?result.push("@media "+item[2]+"{"+item[1]+"}"):result.push(item[1])}return result.join("")},list.i=function(modules,mediaQuery){"string"==typeof modules&&(modules=[[null,modules,""]]);for(var alreadyImportedModules={},i=0;i<this.length;i++){var id=this[i][0];"number"==typeof id&&(alreadyImportedModules[id]=!0)}for(i=0;i<modules.length;i++){var item=modules[i];"number"==typeof item[0]&&alreadyImportedModules[item[0]]||(mediaQuery&&!item[2]?item[2]=mediaQuery:mediaQuery&&(item[2]="("+item[2]+") and ("+mediaQuery+")"),list.push(item))}},list}},function(module,exports,__webpack_require__){function addStylesToDom(styles,options){for(var i=0;i<styles.length;i++){var item=styles[i],domStyle=stylesInDom[item.id];if(domStyle){domStyle.refs++;for(var j=0;j<domStyle.parts.length;j++)domStyle.parts[j](item.parts[j]);for(;j<item.parts.length;j++)domStyle.parts.push(addStyle(item.parts[j],options))}else{for(var parts=[],j=0;j<item.parts.length;j++)parts.push(addStyle(item.parts[j],options));stylesInDom[item.id]={id:item.id,refs:1,parts:parts}}}}function listToStyles(list){for(var styles=[],newStyles={},i=0;i<list.length;i++){var item=list[i],id=item[0],css=item[1],media=item[2],sourceMap=item[3],part={css:css,media:media,sourceMap:sourceMap};newStyles[id]?newStyles[id].parts.push(part):styles.push(newStyles[id]={id:id,parts:[part]})}return styles}function insertStyleElement(options,styleElement){var head=getHeadElement(),lastStyleElementInsertedAtTop=styleElementsInsertedAtTop[styleElementsInsertedAtTop.length-1];if("top"===options.insertAt)lastStyleElementInsertedAtTop?lastStyleElementInsertedAtTop.nextSibling?head.insertBefore(styleElement,lastStyleElementInsertedAtTop.nextSibling):head.appendChild(styleElement):head.insertBefore(styleElement,head.firstChild),styleElementsInsertedAtTop.push(styleElement);else{if("bottom"!==options.insertAt)throw new Error("Invalid value for parameter 'insertAt'. Must be 'top' or 'bottom'.");head.appendChild(styleElement)}}function removeStyleElement(styleElement){styleElement.parentNode.removeChild(styleElement);var idx=styleElementsInsertedAtTop.indexOf(styleElement);idx>=0&&styleElementsInsertedAtTop.splice(idx,1)}function createStyleElement(options){var styleElement=document.createElement("style");return styleElement.type="text/css",insertStyleElement(options,styleElement),styleElement}function createLinkElement(options){var linkElement=document.createElement("link");return linkElement.rel="stylesheet",insertStyleElement(options,linkElement),linkElement}function addStyle(obj,options){var styleElement,update,remove;if(options.singleton){var styleIndex=singletonCounter++;styleElement=singletonElement||(singletonElement=createStyleElement(options)),update=applyToSingletonTag.bind(null,styleElement,styleIndex,!1),remove=applyToSingletonTag.bind(null,styleElement,styleIndex,!0)}else obj.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(styleElement=createLinkElement(options),update=updateLink.bind(null,styleElement),remove=function(){removeStyleElement(styleElement),styleElement.href&&URL.revokeObjectURL(styleElement.href)}):(styleElement=createStyleElement(options),update=applyToTag.bind(null,styleElement),remove=function(){removeStyleElement(styleElement)});return update(obj),function(newObj){if(newObj){if(newObj.css===obj.css&&newObj.media===obj.media&&newObj.sourceMap===obj.sourceMap)return;update(obj=newObj)}else remove()}}function applyToSingletonTag(styleElement,index,remove,obj){var css=remove?"":obj.css;if(styleElement.styleSheet)styleElement.styleSheet.cssText=replaceText(index,css);else{var cssNode=document.createTextNode(css),childNodes=styleElement.childNodes;childNodes[index]&&styleElement.removeChild(childNodes[index]),childNodes.length?styleElement.insertBefore(cssNode,childNodes[index]):styleElement.appendChild(cssNode)}}function applyToTag(styleElement,obj){var css=obj.css,media=obj.media;if(media&&styleElement.setAttribute("media",media),styleElement.styleSheet)styleElement.styleSheet.cssText=css;else{for(;styleElement.firstChild;)styleElement.removeChild(styleElement.firstChild);styleElement.appendChild(document.createTextNode(css))}}function updateLink(linkElement,obj){var css=obj.css,sourceMap=obj.sourceMap;sourceMap&&(css+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap))))+" */");var blob=new Blob([css],{type:"text/css"}),oldSrc=linkElement.href;linkElement.href=URL.createObjectURL(blob),oldSrc&&URL.revokeObjectURL(oldSrc)}var stylesInDom={},memoize=function(fn){var memo;return function(){return"undefined"==typeof memo&&(memo=fn.apply(this,arguments)),memo}},isOldIE=memoize(function(){return/msie [6-9]\b/.test(window.navigator.userAgent.toLowerCase())}),getHeadElement=memoize(function(){return document.head||document.getElementsByTagName("head")[0]}),singletonElement=null,singletonCounter=0,styleElementsInsertedAtTop=[];module.exports=function(list,options){options=options||{},"undefined"==typeof options.singleton&&(options.singleton=isOldIE()),"undefined"==typeof options.insertAt&&(options.insertAt="bottom");var styles=listToStyles(list);return addStylesToDom(styles,options),function(newList){for(var mayRemove=[],i=0;i<styles.length;i++){var item=styles[i],domStyle=stylesInDom[item.id];domStyle.refs--,mayRemove.push(domStyle)}if(newList){var newStyles=listToStyles(newList);addStylesToDom(newStyles,options)}for(var i=0;i<mayRemove.length;i++){var domStyle=mayRemove[i];if(0===domStyle.refs){for(var j=0;j<domStyle.parts.length;j++)domStyle.parts[j]();delete stylesInDom[domStyle.id]}}}};var replaceText=function(){var textStore=[];return function(index,replacement){return textStore[index]=replacement,textStore.filter(Boolean).join("\n")}}()},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});exports.legacy=__webpack_require__(119),exports.sidebar=__webpack_require__(120)},function(module,exports){"use strict";function onAddPanel(node,player){["left","right"].indexOf(player.options.position)!==-1&&player.alignPanel(node)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.onAddPanel=onAddPanel},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function onAddPanel(node,player){setListHeight(player)}function onResize(event,player){handleResize(player)}function handleResize(player){var is_panel_displayed=player.getState("panel")===!0,is_article_displayed=player.getState("article_display")===!0;is_panel_displayed&&is_article_displayed&&setListHeight(player)}function setListHeight(player){var children_height=0;["panel_header","panel_search","panel_footer"].forEach(function(child_node){var node=player.ui_elements[child_node].getNode();children_height+=_theDomBox2.default.getBox(node).height}),["panel","article_panel"].forEach(function(panel_id){var panel_node=player.ui_elements[panel_id].getNode(),panel_box=_theDomBox2.default.getBox(panel_node),list_node=player.ui_elements.panel_list.getNode();list_node.style.height=panel_box.height-children_height+"px"})}Object.defineProperty(exports,"__esModule",{value:!0}),exports.onAddPanel=onAddPanel,exports.onResize=onResize;var _theDomBox=__webpack_require__(50),_theDomBox2=_interopRequireDefault(_theDomBox)},function(module,exports){"use strict";var Boogie,default_options,noop,_typeof2="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol?"symbol":typeof obj},_typeof="function"==typeof Symbol&&"symbol"===_typeof2(Symbol.iterator)?function(obj){return"undefined"==typeof obj?"undefined":_typeof2(obj)}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol?"symbol":"undefined"==typeof obj?"undefined":_typeof2(obj)},_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},indexOf=[].indexOf||function(item){for(var i=0,l=this.length;i<l;i++)if(i in this&&this[i]===item)return i;return-1};noop=function(){},default_options={filter:["log","info","warn","error"],codes:{},prefix:null,url_prefix:"boogie",unknown_template:"Unkonwn event.",onRecord:noop,onActivate:noop,onDeactivate:noop},module.exports=Boogie=function(){function Boogie(options){this.is_active=!1,this.options={},this.setOptions(default_options),this.setOptions(options),this.history=[],this.evalLocation(),this.evalStorage()}return Boogie.prototype.setOptions=function(options){return null==options&&(options={}),this.options=_extends(this.options,options)},Boogie.prototype.getTemplateByCode=function(code){var found_object,i,len,ref,step;if(!code)return this.options.unknown_template;for(found_object=this.options.codes,ref=code.split("."),i=0,len=ref.length;i<len;i++){if(step=ref[i],null==found_object[step])return this.options.unknown_template;found_object=found_object[step]}return found_object},Boogie.prototype.evalTemplate=function(template,data){switch(null==template&&(template=this.options.unknown_template),null==data&&(data={}),"undefined"==typeof template?"undefined":_typeof(template)){case"function":return template(data);case"string":return template;default:return null!=template.toString?template.toString():template}},Boogie.prototype.record=function(type,code,data){var console_args,item,template;if(null==type&&(type="log"),null==code&&(code=null),null==data&&(data={}),this.is_active)return template=this.getTemplateByCode(code),item={type:type,code:code,data:data,timestamp:(new Date).getTime(),message:this.evalTemplate(template,data)},this.history.push(item),indexOf.call(this.options.filter,type)>=0?(console_args=[item.message,data],null!=this.options.prefix&&console_args.unshift(this.options.prefix),console[type].apply(console,console_args),this.options.onRecord(type,code,data,item.message)):void 0},Boogie.prototype.log=function(code,data){return this.record("log",code,data)},Boogie.prototype.info=function(code,data){return this.record("info",code,data)},Boogie.prototype.warn=function(code,data){return this.record("warn",code,data)},Boogie.prototype.error=function(code,data){return this.record("error",code,data)},Boogie.prototype.activate=function(){return this.is_active=!0,this.options.onActivate()},Boogie.prototype.deactivate=function(){return this.is_active=!1,this.options.onDeactivate()},Boogie.prototype.parseLocation=function(location){var ref,result;return result={},null!=(ref=location.search)&&ref.replace(/^\?/,"").split("&").map(function(item){var key,ref1,val;return ref1=item.split("="),key=ref1[0],val=ref1[1],result[key]=val}),result},Boogie.prototype.evalLocation=function(location){var found_filter,params;if(null==location&&(location=document.location),params=this.parseLocation(location),null!=params[this.options.url_prefix+"activate"]&&this.activate(),found_filter=params[this.options.url_prefix+"filter"],null!=found_filter)return this.setOptions({filter:found_filter.split(",")})},Boogie.prototype.evalStorage=function(){var found_filter;if(null!=localStorage.getItem(this.options.url_prefix+"activate")&&this.activate(),found_filter=localStorage.getItem(this.options.url_prefix+"filter"),null!=found_filter)return this.setOptions({filter:found_filter.split(",")})},Boogie}()},function(module,exports){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var noop=function(){},_class=function(){function _class(){var timeout=arguments.length<=0||void 0===arguments[0]?1e3:arguments[0];_classCallCheck(this,_class),this.timeout=timeout,this.timer=null}return _class.prototype.delayedAction=function(){var action=arguments.length<=0||void 0===arguments[0]?noop:arguments[0];clearTimeout(this.timer),this.timer=setTimeout(action,this.timeout)},_class}();exports.default=_class}]);(function(){
  createInlineManualPlayer({"base_path":"/","api_key":"b4b392a6f77d7d0d6e04cee62b835187","skin":"sidebar","position":"right_bottom","z_index":100000,"search_enabled":true,"context_topics_only":false,"filter_topics_by_language":false,"splash_mode":false,"splash_backdrop":true,"enable_mirroring":false,"hide_branding":true,"hide_trigger":true,"custom_trigger":null,"backdrop_color":"#000000","backdrop_opacity":"0.5","backdrop_padding":10,"variables":{},"tracking":{"enabled":true},"l10n":{"title":"Help","trigger_title":"","panel_title":"","footer":"","branding":"Powered by","branding_link":"https://inlinemanual.com/","previous":"&larr; Previous","next":"Next &rarr;","end":"End","back":"Back","empty_topics_list":"No Help topics available for this page.","lang_direction":"ltr","search_submit":"Search","search_clear":"Clear","scroll_message":"Scroll into view"},"topics":{"19928":{"id":19928,"parent_id":null,"title":"Sign in as guest user","description":"Shows a user how to login as a guest on demo","type":"tour","language":"en","privacy":"public","published":true,"archived":false,"published_at":"2016-08-28T12:24:30.239Z","archived_at":null,"created_at":"2016-08-28T12:24:30.239Z","updated_at":"2016-08-31T15:34:09.662Z","tags":[],"context_paths":[],"context":null,"steps":[{"title":{"en":"Sign in as guest user"},"content":{"en":"To view the full demo site we recommend signing in as a guest user. &nbsp;Let&#39;s get&nbsp;started..."},"path":null,"element":".reg-links.pull-right > .btn-group > :nth-child(1)","position":"bottom_right","delay":null,"width":300,"z_index":null,"backdrop":false,"backdrop_cover":false,"final_step":null,"max_continuation_attempts":3,"class_names":["hide_end","hide_progress","hide_prev","inmplayer_tpl_step_default"],"custom_data":{},"on_before_activate":"","on_activate":"","on_deactivate":"","on_show":"","author_changes":[],"condition":{"type":"inherit"},"launcher":null,"url_trigger":null,"backdrop_options":null,"triggers":[]},{"title":{"en":"Username"},"content":{"en":"Enter the username:&nbsp;<strong style=\"background:#fff799; padding:2px\">demo</strong>"},"path":"account/login/","element":":nth-child(3) > .form-control.input-lg","position":"right","delay":null,"width":300,"z_index":null,"backdrop":false,"backdrop_cover":false,"final_step":null,"max_continuation_attempts":3,"class_names":["hide_title","hide_end","hide_progress","inmplayer_tpl_step_default"],"custom_data":{},"on_before_activate":"","on_activate":"","on_deactivate":"","on_show":"","author_changes":["condition"],"condition":{"type":"inherit"},"launcher":null,"url_trigger":{"url":"account/login/","scope":"current"},"backdrop_options":null,"triggers":[]},{"title":{"en":"Password"},"content":{"en":"Enter password: <strong style=\"background:#fff799; padding:2px\">password</strong>"},"path":"account/login/","element":":nth-child(4) > .form-control.input-lg","position":"right","delay":null,"width":300,"z_index":null,"backdrop":false,"backdrop_cover":false,"final_step":null,"max_continuation_attempts":3,"class_names":["hide_title","hide_end","hide_progress","inmplayer_tpl_step_default"],"custom_data":{},"on_before_activate":"","on_activate":"","on_deactivate":"","on_show":"","author_changes":["condition"],"condition":{"type":"inherit"},"launcher":null,"url_trigger":null,"backdrop_options":null,"triggers":[]},{"title":{"en":"Submit form"},"content":{"en":"<img alt=\"Select the SIGN IN button\" height=\"75\" src=\"https://s3-us-west-2.amazonaws.com/cadasta-resources/hand-cursor-sm.png\" style=\"margin-bottom:10px; margin-right:10px; float:left\" width=\"50\" />Select the <strong style=\"background:#fff799; padding:2px\">SIGN IN</strong> button<br />\nto continue"},"path":"account/login/","element":".btn.btn-primary.btn-lg.btn-block.text-uppercase","position":"right","delay":null,"width":300,"z_index":null,"backdrop":false,"backdrop_cover":false,"final_step":null,"max_continuation_attempts":3,"class_names":["hide_title","hide_progress","hide_next","inmplayer_tpl_step_default"],"custom_data":{},"on_before_activate":"","on_activate":"","on_deactivate":"","on_show":"","author_changes":["condition"],"condition":{"type":"inherit"},"launcher":null,"url_trigger":null,"backdrop_options":null,"triggers":[{"element":null,"scope":"current","activate":"next","events":["click"]}]}],"trigger_element":null,"languages":["en"],"version":"HEAD","order":0,"hidden":false,"language_agnostic":false,"visibility":["segment_2673"],"launcher":{"visibility":"always","element":".reg-links.pull-right > .btn-group > :nth-child(1)","position":"left","offset_vertical":1,"offset_horizontal":-12,"z_index":null,"class_name":null,"content":null,"title":null,"template":null,"point_at":"self","context_paths":["https://demo.cadasta.org/*"],"toggle_events":null,"activate_events":null,"deactivate_events":null,"context":null},"owner":{"id":580,"type":"organization","name":"Cadasta","namespace":"cadasta"}},"19903":{"id":19903,"parent_id":19367,"title":"Quick start tour for dashboard","description":"Welcome registered users to Cadasta Demo Platform","type":"tour","language":"en","privacy":"public","published":true,"archived":false,"published_at":"2016-08-28T01:03:25.736Z","archived_at":null,"created_at":"2016-08-28T01:03:25.738Z","updated_at":"2016-09-02T01:24:57.305Z","tags":[],"context_paths":[],"context":null,"steps":[{"title":{"en":"Welcome to the Cadasta DEMO Platform","es":"","fr":""},"content":{"en":"<div class=\"splash-body\">\n<p>Use this demo site to test, train, and provide feedback on our Platform.</p>\n\n<h1>Collect, manage, and store data<br />\nregarding land and resource rights.</h1>\n\n<h3>Let&#39;s show you around a little first.</h3>\n\n<div class=\"inmplayer-button\" id=\"get-started\" onclick=\"inline_manual_player.goToStep(1)\">Get Started &gt;</div>\n\n<p style=\"margin-bottom: 24px;\"><a class=\"btn btn-link\" onclick=\"inline_manual_player.deactivate()\">No thanks, just show me the map</a></p>\n</div>\n","es":"","fr":""},"path":"dashboard/","element":null,"position":"bottom_right","delay":null,"width":600,"z_index":null,"backdrop":true,"backdrop_cover":false,"final_step":false,"max_continuation_attempts":3,"class_names":["hide_end","hide_progress","hide_navigation","hide_next","hide_prev","splash","inmplayer_tpl_step_default"],"custom_data":{},"on_before_activate":"","on_activate":"","on_deactivate":"","on_show":"","author_changes":[],"condition":null,"launcher":null,"url_trigger":{"url":"dashboard/","scope":"current"},"backdrop_options":null,"triggers":[]},{"title":{"en":"Dashboard Map","es":"","fr":""},"content":{"en":"This map displays all public projects currently in the Cadasta DEMO Platform.","es":"","fr":""},"path":"dashboard/","element":null,"position":"top","delay":null,"width":300,"z_index":null,"backdrop":true,"backdrop_cover":false,"final_step":null,"max_continuation_attempts":3,"class_names":["hide_end","hide_progress","splash-sm","inmplayer_tpl_step_default"],"custom_data":{},"on_before_activate":"","on_activate":"","on_deactivate":"","on_show":"","author_changes":[],"condition":null,"launcher":null,"url_trigger":{"url":"dashboard/","scope":"current"},"backdrop_options":null,"triggers":[{"element":null,"scope":"current","activate":"next","events":["next"]}]},{"title":{"en":"Map controls","es":"","fr":""},"content":{"en":"Use the map controls to zoom, search, or find your current location.&nbsp;","es":"","fr":""},"path":null,"element":".leaflet-control-zoom-in,.leaflet-control-zoom-out,.leaflet-pelias-search-icon,.leaflet-control-geolocate","position":"right","delay":null,"width":300,"z_index":null,"backdrop":true,"backdrop_cover":true,"final_step":null,"max_continuation_attempts":3,"class_names":["hide_end","hide_progress","splash-sm","inmplayer_tpl_step_default"],"custom_data":{},"on_before_activate":"","on_activate":"","on_deactivate":"","on_show":"","author_changes":[],"condition":null,"launcher":null,"url_trigger":{"url":"dashboard/","scope":"current"},"backdrop_options":null,"triggers":[{"element":null,"scope":"current","activate":"next","events":["next"]}]},{"title":{"en":"Map markers","es":"","fr":""},"content":{"en":"A map marker indicates an active public project.\n<hr /><img alt=\"Click on a map marker\" height=\"75\" src=\"https://s3-us-west-2.amazonaws.com/cadasta-resources/hand-cursor-sm.png\" style=\"margin-right:10px; float:left\" width=\"50\" />Click on a <strong style=\"background:#fff799; padding:2px\">map marker</strong> to continue","es":"","fr":""},"path":null,"element":".leaflet-marker-pane > :nth-child(1)","position":"bottom_right","delay":null,"width":300,"z_index":null,"backdrop":true,"backdrop_cover":false,"final_step":null,"max_continuation_attempts":3,"class_names":["hide_end","hide_progress","hide_next","hide_prev","splash-sm","inmplayer_tpl_step_default"],"custom_data":{},"on_before_activate":"","on_activate":"","on_deactivate":"","on_show":"","author_changes":[],"condition":null,"launcher":null,"url_trigger":{"url":"dashboard/","scope":"current"},"backdrop_options":null,"triggers":[{"element":null,"scope":"current","activate":"next","events":["click"]}]},{"title":{"en":"Map popover","es":"","fr":""},"content":{"en":"You can view the project name and supporting organization. &nbsp;To open the project, select the open project button from here or...","es":"","fr":""},"path":null,"element":".leaflet-popup-content-wrapper","position":"right","delay":null,"width":300,"z_index":null,"backdrop":true,"backdrop_cover":true,"final_step":null,"max_continuation_attempts":3,"class_names":["hide_end","hide_progress","splash-sm","inmplayer_tpl_step_default"],"custom_data":{},"on_before_activate":"","on_activate":"","on_deactivate":"","on_show":"","author_changes":[],"condition":null,"launcher":null,"url_trigger":{"url":"dashboard/","scope":"current"},"backdrop_options":null,"triggers":[{"element":null,"scope":"current","activate":"next","events":["next"]}]},{"title":{"en":"Projects tab","es":"","fr":""},"content":{"en":"You can also select Projects from the top navigation to view a list of all public projects.","es":"","fr":""},"path":null,"element":".list-inline.visible-md-block.visible-lg-block > .projects > a","position":"top","delay":null,"width":300,"z_index":null,"backdrop":true,"backdrop_cover":true,"final_step":null,"max_continuation_attempts":3,"class_names":["hide_end","hide_progress","splash-sm","inmplayer_tpl_step_default"],"custom_data":{},"on_before_activate":"","on_activate":"","on_deactivate":"","on_show":"","author_changes":[],"condition":null,"launcher":null,"url_trigger":{"url":"dashboard/","scope":"current"},"backdrop_options":null,"triggers":[{"element":null,"scope":"current","activate":"next","events":["next"]}]},{"title":{"en":"What do you want to do next?","es":"","fr":""},"content":{"en":"<div class=\"col-md-6\">\n<h3><span>Start exploring...</span></h3>\n\n<div class=\"splash-option\" onclick=\"inline_manual_player.deactivate()\">\n<table border=\"0\" cellpadding=\"0\" cellspacing=\"0\" style=\"width:100%\">\n\t<tbody>\n\t\t<tr>\n\t\t\t<td rowspan=\"2\" style=\"background: #fff;\"><img alt=\"Browse the map\" height=\"64\" src=\"https://s3-us-west-2.amazonaws.com/cadasta-resources/icon-browsemap.png\" style=\"margin:8px\" width=\"64\" /></td>\n\t\t\t<td style=\"background: #fff;\">\n\t\t\t<h4>Browse the map</h4>\n\t\t\t</td>\n\t\t\t<td class=\"right-arrow\" rowspan=\"2\"><span class=\"glyphicon glyphicon-chevron-right\" style=\"margin:10px\"></span></td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td style=\"background: #fff;\">\n\t\t\t<p style=\"width: 86%;\">Explore public land right projects across the globe to see how people are using the Cadasta platform.</p>\n\t\t\t</td>\n\t\t</tr>\n\t</tbody>\n</table>\n</div>\n\n<div>\n<h5>What&#39;s next</h5>\n\n<p>Ready to graduate to full production use of the Cadasta platform? <a href=\"https://platform.cadasta.org/dashboard/\">Visit our Production Site</a>.</p>\n</div>\n</div>\n\n<div class=\"col-md-6\">\n<h3><span>Let us show you around a bit more...</span></h3>\n\n<div class=\"splash-option\" onclick=\"inline_manual_player.activateTopic(19889)\">\n<table border=\"0\" cellpadding=\"0\" cellspacing=\"0\" style=\"width:100%\">\n\t<tbody>\n\t\t<tr>\n\t\t\t<td rowspan=\"2\" style=\"background: #fff;\"><img alt=\"Tour a sample project\" height=\"64\" src=\"https://s3-us-west-2.amazonaws.com/cadasta-resources/icon-tourproject.png\" style=\"margin:8px\" width=\"64\" /></td>\n\t\t\t<td style=\"background: #fff;\">\n\t\t\t<h4>Tour a sample project</h4>\n\t\t\t</td>\n\t\t\t<td class=\"right-arrow\" rowspan=\"2\"><span class=\"glyphicon glyphicon-chevron-right\" style=\"margin:10px\"></span></td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td style=\"background: #fff;\">\n\t\t\t<p style=\"width: 86%;\">See how one community is using Cadasta to collect data and manage their land and resource rights.</p>\n\t\t\t</td>\n\t\t</tr>\n\t</tbody>\n</table>\n</div>\n\n<div>\n<h5>Need more assistance?</h5>\n\n<p>Additional <a href=\"http://docs.cadasta.org/en/\" target=\"_blank\">user guides</a> are always available or <a href=\"http://cadasta.org/platform/#content-section-6\" target=\"_blank\">request a demo</a> of the platform.</p>\n</div>\n</div>\n\n<div class=\"button-row clearfix\">\n<div class=\"col-md-4\"><a class=\"btn btn-default\" href=\"http://cadasta.org/platform/#content-section-6\" target=\"_blank\"><img alt=\"Request a full demo\" height=\"36\" src=\"https://s3-us-west-2.amazonaws.com/cadasta-resources/icon-requestdemo.png\" style=\"margin-right:8px\" width=\"24\" />Request a full demo</a></div>\n\n<div class=\"col-md-4\"><a class=\"btn btn-default\" href=\"mailto:feedback@cadasta.org?subject=Feedback%20for%20Cadasta%20DEMO%20Platform\"><img alt=\"Provide feedback\" height=\"36\" src=\"https://s3-us-west-2.amazonaws.com/cadasta-resources/icon-providefeedback.png\" style=\"margin-right:8px\" width=\"24\" />Provide feedback</a></div>\n\n<div class=\"col-md-4\"><a class=\"btn btn-default\" href=\"https://platform.cadasta.org/dashboard/\"><img alt=\"Visit production site\" height=\"36\" src=\"https://s3-us-west-2.amazonaws.com/cadasta-resources/icon-visitproduction.png\" style=\"margin-right:8px\" width=\"24\" />Visit our production site</a></div>\n</div>\n","es":"","fr":""},"path":"dashboard/","element":null,"position":"top","delay":null,"width":800,"z_index":null,"backdrop":true,"backdrop_cover":false,"final_step":null,"max_continuation_attempts":3,"class_names":["hide_controls","hide_end","hide_progress","hide_navigation","hide_next","hide_prev","splash","inmplayer_tpl_step_default"],"custom_data":{},"on_before_activate":"","on_activate":"","on_deactivate":"","on_show":"","author_changes":[],"condition":null,"launcher":null,"url_trigger":{"url":"dashboard/","scope":"current"},"backdrop_options":null,"triggers":[]}],"trigger_element":null,"languages":["en"],"version":"HEAD","order":1,"hidden":false,"language_agnostic":false,"visibility":null,"launcher":{"visibility":"always","element":".dashboard-map","position":"top_left","offset_vertical":170,"offset_horizontal":-20,"z_index":null,"class_name":null,"content":null,"title":null,"template":null,"point_at":"self","context_paths":["https://demo.cadasta.org/dashboard/"],"toggle_events":null,"activate_events":null,"deactivate_events":null,"context":null},"owner":{"id":580,"type":"organization","name":"Cadasta","namespace":"cadasta"}},"19889":{"id":19889,"parent_id":null,"title":"Sample project walkthrough","description":"Sample project walkthrough for splash screen final options page (no login required)","type":"tour","language":"en","privacy":"public","published":true,"archived":false,"published_at":"2016-08-26T21:08:56.409Z","archived_at":null,"created_at":"2016-08-26T21:08:56.409Z","updated_at":"2016-08-31T15:56:26.464Z","tags":[],"context_paths":[],"context":null,"steps":[{"title":{"en":"Tour a sample project"},"content":{"en":"Take a quick tour around a sample project on the Cadasta DEMO platform."},"path":null,"element":null,"position":"top","delay":null,"width":300,"z_index":null,"backdrop":true,"backdrop_cover":false,"final_step":null,"max_continuation_attempts":3,"class_names":["hide_end","hide_progress","hide_prev","splash-sm","inmplayer_tpl_step_default"],"custom_data":{},"on_before_activate":"","on_activate":"","on_deactivate":"","on_show":"","author_changes":[],"condition":null,"launcher":null,"url_trigger":null,"backdrop_options":null,"triggers":[{"element":null,"scope":"current","activate":"next","events":["next"]}]},{"title":{"en":"Project name"},"content":{"en":"Project name and supporting organization are shown here."},"path":"organizations/demo-org/projects/demonstration-of-customary-rights/","element":"h1","position":"bottom_right","delay":null,"width":300,"z_index":null,"backdrop":true,"backdrop_cover":false,"final_step":null,"max_continuation_attempts":3,"class_names":["hide_end","hide_progress","inmplayer_tpl_step_default"],"custom_data":{},"on_before_activate":"","on_activate":"","on_deactivate":"","on_show":"","author_changes":[],"condition":{"type":"inherit"},"launcher":null,"url_trigger":null,"backdrop_options":null,"triggers":[]},{"title":{"en":"Project navigation"},"content":{"en":"These tabs link to the main sections within the project.&nbsp;"},"path":"organizations/demo-org/projects/demonstration-of-customary-rights/","element":".nav.nav-sidebar","position":"right","delay":null,"width":300,"z_index":null,"backdrop":true,"backdrop_cover":false,"final_step":null,"max_continuation_attempts":3,"class_names":["hide_end","hide_progress","inmplayer_tpl_step_default"],"custom_data":{},"on_before_activate":"","on_activate":"","on_deactivate":"","on_show":"","author_changes":[],"condition":{"type":"inherit"},"launcher":null,"url_trigger":null,"backdrop_options":null,"triggers":[]},{"title":{"en":"Project overview"},"content":{"en":"This area show details such as project description and summary statistics."},"path":"organizations/demo-org/projects/demonstration-of-customary-rights/","element":".col-md-4.detail","position":"left","delay":null,"width":300,"z_index":null,"backdrop":true,"backdrop_cover":false,"final_step":null,"max_continuation_attempts":3,"class_names":["hide_end","hide_progress","inmplayer_tpl_step_default"],"custom_data":{},"on_before_activate":"","on_activate":"","on_deactivate":"","on_show":"","author_changes":[],"condition":{"type":"inherit"},"launcher":null,"url_trigger":null,"backdrop_options":null,"triggers":[]},{"title":{"en":"Project map"},"content":{"en":"The project map provides an aerial view of the project boundaries and locations."},"path":"organizations/demo-org/projects/demonstration-of-customary-rights/","element":".leaflet-container-default.leaflet-container.leaflet-retina.leaflet-fade-anim","position":"right","delay":null,"width":300,"z_index":null,"backdrop":true,"backdrop_cover":false,"final_step":null,"max_continuation_attempts":3,"class_names":["hide_end","hide_progress","inmplayer_tpl_step_default"],"custom_data":{},"on_before_activate":"","on_activate":"","on_deactivate":"","on_show":"","author_changes":[],"condition":null,"launcher":null,"url_trigger":null,"backdrop_options":null,"triggers":[{"element":null,"scope":"current","activate":"next","events":["click"]}]},{"title":{"en":"Project locations"},"content":{"en":"Each map marker displays a location. By selecting a clickable area on the map, you can view&nbsp;location data, relationships, and resources in the right detail area."},"path":"organizations/demo-org/projects/demonstration-of-customary-rights/","element":".leaflet-marker-icon.leaflet-zoom-animated.leaflet-clickable","position":"right","delay":null,"width":300,"z_index":null,"backdrop":true,"backdrop_cover":false,"final_step":null,"max_continuation_attempts":3,"class_names":["hide_end","hide_progress","inmplayer_tpl_step_default"],"custom_data":{},"on_before_activate":"","on_activate":"","on_deactivate":"","on_show":"","author_changes":[],"condition":null,"launcher":null,"url_trigger":null,"backdrop_options":null,"triggers":[{"element":null,"scope":"current","activate":"next","events":["next"]}]},{"title":{"en":"What's next?"},"content":{"en":"That&#39;s a quick overview of a project.<br />\n<br />\nTo view the full demo site we recommend signing in as a guest user.&nbsp;<br />\n&nbsp;\n<div class=\"inmplayer-button\" onclick=\"inline_manual_player.activateTopic(19928)\">Sign in as demo user</div>\n<br />\nIf&nbsp;you need additional assistance refer to our <a href=\"http://docs.cadasta.org/en/\" target=\"_blank\">user guides</a> or contact us at <a href=\"http://mailto:info@cadasta.org\">info@cadasta.org</a>."},"path":"organizations/demo-org/projects/demonstration-of-customary-rights/","element":null,"position":"top","delay":null,"width":300,"z_index":null,"backdrop":false,"backdrop_cover":false,"final_step":null,"max_continuation_attempts":3,"class_names":["hide_progress","hide_next","splash-sm","inmplayer_tpl_step_default"],"custom_data":{},"on_before_activate":"","on_activate":"","on_deactivate":"","on_show":"","author_changes":["condition"],"condition":null,"launcher":null,"url_trigger":null,"backdrop_options":null,"triggers":[]}],"trigger_element":null,"languages":["en"],"version":"HEAD","order":2,"hidden":false,"language_agnostic":false,"visibility":null,"launcher":{"visibility":"always","element":null,"position":"left","offset_vertical":0,"offset_horizontal":0,"z_index":null,"class_name":null,"content":null,"title":null,"template":null,"point_at":"self","context_paths":["https://demo.cadasta.org/*"],"toggle_events":null,"activate_events":null,"deactivate_events":null,"context":null},"owner":{"id":580,"type":"organization","name":"Cadasta","namespace":"cadasta"}}},"rules":{"4d4771d723af0e40e47e1a41ef5dd60f":{"type":"rule","field":"username","kind":"text","condition":"not_empty"},"segment_2674":{"type":"ruleset","operation":"and","description":"Cadasta registered users","rules":["4d4771d723af0e40e47e1a41ef5dd60f"]},"c42f992f199227725672c2c0006991db":{"type":"rule","field":"username","kind":"text","condition":"empty"},"segment_2673":{"type":"ruleset","operation":"and","description":"Cadasta public users","rules":["c42f992f199227725672c2c0006991db"]},"1550d793301486e33832936f3e1636b4":{"type":"rule","field":"created","kind":"date","condition":"less_than","value":"24 hours"},"segment_2638":{"type":"ruleset","operation":"and","description":"Everyone but new users","rules":["1550d793301486e33832936f3e1636b4"]},"c8e4ec34a5d21312b9f8c9471321f2be":{"type":"rule","field":"created","kind":"date","condition":"within","value":"30 minutes"},"segment_2637":{"type":"ruleset","operation":"and","description":"New users","rules":["c8e4ec34a5d21312b9f8c9471321f2be"]},"9c3500a3c40e31e36d11d1f55b9c106d":{"type":"rule","field":"autolaunchers.2769","kind":"number","condition":"empty"},"1cfa42b7f2441052c86fbbe55e018b5c":{"type":"rule","field":null,"kind":"url","condition":"match_current","value":"https://demo.cadasta.org/dashboard/"},"autolauncher_2769":{"type":"ruleset","operation":"and","rules":["9c3500a3c40e31e36d11d1f55b9c106d","1cfa42b7f2441052c86fbbe55e018b5c"]}},"actions":{"autolaunch":[{"id":2769,"rule":"autolauncher_2769","topic":19903}]},"style":".inmplayer-popover-wrapper {  background-color: #ffffff;  color: #595a5c;  border-style: solid;  border-color: #2e51a3;  border-width: 2px;  -webkit-border-radius: 20px;  -moz-border-radius: 20px;  border-radius: 20px;  font-size: 15px;  font-weight: 500;  line-height: 20px;  font-family: Roboto, Helvetica Neue, Helvetica, Arial, sans-serif;}.inmplayer-button, .inmplayer-popover-button-previous, .inmplayer-popover-button-next, .inmplayer-popover-button-end {  background-color: #00b288;  color: #ffffff;  border-style: solid;  border-color: #009975;  border-width: 1px;  -webkit-border-radius: 4px;  -moz-border-radius: 4px;  border-radius: 4px;}.inmplayer-popover-pointer-shape {  fill: #2e51a3;  stroke: #333333;  stroke-width: 1px;}.inmplayer-launcher {  background-color: #00b288;  color: #ffffff;  border-style: solid;  border-color: #009975;  border-width: 1%;  -webkit-border-radius: 50%;  -moz-border-radius: 50%;  border-radius: 50%;}.inmplayer-panel-header, .inmplayer-trigger {  background-color: #2e51a3;  color: #ffffff;}.inmplayer-panel-close-button {  background-color: transparent;}.inmplayer-article-item-title {  display: none;}.inmplayer-trigger {    display: none;}.inmplayer-popover-content {    font-family: 'Roboto', sans-serif;}.inmplayer-popover-inner-content {    padding-bottom: 8px;}.inmplayer-popover-buttons {    clear: both;    padding: 8px;}.inmplayer-popover-button-previous {    background-color: #f2f4f7;    border-color: #ccc;    color: #333;}.inmplayer-popover-button-next {     float: right; }.inmplayer-popover-progress {    clear: both;}.inmplayer-popover-wrapper  {    -webkit-background-clip: padding-box;     background-clip: padding-box;    -webkit-box-shadow: 0 0 0 5px rgba(255, 255, 255, 0.3);    -moz-box-shadow: 0 0 0 5px rgba(255, 255, 255, 0.3);    box-shadow: 0 0 0 5px rgba(255, 255, 255, 0.3);}.inmplayer-popover-pointer-holder {    z-index: 1000000022;}.inmplayer-popover-content {    padding: 0;}.inmplayer-popover-title {    font-family: 'Roboto Condensed', sans-serif;    border-radius: 15px 15px 0 0;    -moz-border-radius: 15px 15px 0 0;    -webkit-border-radius: 15px 15px 0 0;    background: #2e51a3;    margin: 0;    padding: 15px;    font-size: 24px;    line-height: 24px;     text-align: center;     color: #fff;    text-transform: none;    letter-spacing: 0;}.splash .inmplayer-popover-title {    padding: 30px 15px;    font-size: 30px;    line-height: 30px; } .inmplayer-popover-inner-content {    border-radius: 15px;    -moz-border-radius: 15px;    -webkit-border-radius: 15px;    background: #fff;    padding: 20px;}.splash .inmplayer-popover-inner-content {    padding: 20px 0 0 0;    text-align: center;}.splash .inmplayer-popover-inner-content h1 {    font-family: 'Roboto Condensed', sans-serif;    letter-spacing: -0.3px;    color: #0e305e;    font-weight: 600;    margin-bottom: 20px;}.splash .inmplayer-popover-inner-content h3 {    font-family: 'Roboto Condensed', sans-serif;    font-weight: 500;    font-size: 28px;    margin: 30px 0 20px;     color: #595a5c;}.splash .inmplayer-popover-inner-content h3 span {    display: block;    margin-top: 6px;    font-weight: 300;    font-size: 24px;}.splash #get-started.inmplayer-button {    font-family: 'Roboto Condensed', sans-serif;    font-size: 24px !important;    text-transform: uppercase;    letter-spacing: 0.5px;    text-shadow: 1px 1px rgba(31, 54, 79, 0.2);    -webkit-box-shadow: 0 1px 4px rgba(31, 54, 79, 0.2);    -moz-box-shadow: 0 1px 4px rgba(31, 54, 79, 0.2);    box-shadow: 0 1px 4px rgba(31, 54, 79, 0.2);    clear: both;    width: 50%;    min-width: 200px;    margin: 30px auto;    padding: 10px 16px;    border-radius: 6px;}.splash a.btn-link {    color: #595a5c;}.splash .col-md-6 {    text-align: left;    margin-bottom: 20px;    padding: 0 24px 12px 24px;}.splash .col-md-6:first-of-type {    border-right: solid 1px #e7e8ea;}.splash .splash-option {    padding: 0 0 0 10px;    border-radius: 12px;    -moz-border-radius: 12px;    -webkit-border-radius: 12px;    border: solid 1px #00b288;    background: #00b288;    margin-bottom: 20px;}.splash .splash-option:hover {    cursor: pointer;    border-color: #009975;    background: #009975;}.splash h4, .splash h5 {    font-family: 'Roboto Condensed', sans-serif;    font-weight: 600;    font-size: 16px;}.splash h4 {    font-size: 20px;    color: #2e51a3;}.splash td {    vertical-align: top;}.splash .right-arrow {    color: #fff;    border-radius: 0 8px 8px 0;    -moz-border-radius: 0 8px 8px 0;    -webkit-border-radius: 0 8px 8px 0;    vertical-align: middle;    text-align: center;    font-size: 20px;}.splash .button-row {    background: #f2f4f7;    clear: both;    border-radius: 0 0 15px 15px;    -moz-border-radius: 0 0 15px 15px;    -webkit-border-radius: 0 0 15px 15px;    padding: 15px;    font-size: 24px;    line-height: 24px;}.splash .button-row .btn {    color: #2e51a3;    font-family: 'Roboto Condensed', sans-serif;    font-weight: 600;    font-size: 14px;    width: 96%;    background: transparent;}.splash .button-row .btn img {    height: 24px;    width: 24px;}.inmplayer-popover-buttons {    padding-bottom: 12px;}.splash .inmplayer-popover-buttons {    margin-top: 0;    padding: 0;}.inmplayer-popover-close-button {    font-weight: 600;    font-size: 22px;    color: #fff;    opacity: 0.3;}.inmplayer-launcher:after { content: \" \"; margin: 0 auto; border-radius: 100px; position: absolute; right: -14px; top: -14px; z-index: 10; background-color: transparent; opacity: 0.1; width: 48px; height: 48px; border: 2px solid rgba(0,128,64,1); -webkit-border-radius: 100px; -moz-border-radius: 100px; -o-border-radius: 100px; -ms-border-radius: 100px; border-radius: 100px; -webkit-animation: pulse 2s linear infinite; -moz-animation: pulse 2s linear infinite; border-image: initial;}@-webkit-keyframes pulse { 0% {-webkit-transform: scale(0); opacity: 0;} 8% {-webkit-transform: scale(0); opacity: 0;} 15% {-webkit-transform: scale(0.1); opacity: 1;} 30% {-webkit-transform: scale(0.5); opacity: 1;} 100% {opacity: 0; -webkit-transform: scale(1);}} @-moz-keyframes pulse {  0% {-moz-transform: scale(0); opacity: 0;} 8% {-moz-transform: scale(0); opacity: 0;} 15% {-moz-transform: scale(0.1); opacity: 1;} 30% {-moz-transform: scale(0.5); opacity: 1;} 100% {opacity: 0; -moz-transform: scale(1);}}@media (max-width:720px){ .inmplayer-general { display: none; }}"});
}).call(this);
